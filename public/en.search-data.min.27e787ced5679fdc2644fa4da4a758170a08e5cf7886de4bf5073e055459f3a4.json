[{"id":0,"href":"/posts/Short-Cut-for-GIST/","title":"Short Cut for Gist","section":"Blog","content":"Enter\nssh astrogroup@170.140.162.12 Password:\nNGC6814 Running # gistPipeline --config configFiles/MasterConfig --default-dir configFiles/defaultDir Upload directly from PowerShell # scp \"C:\\\\Users\\\\19175\\\\Desktop\\\\TNG Research\\\\GIST\\\\gistTutorial.tar.gz\" astrogroup@170.140.162.12:~/Erise/ scp \u0026ldquo;D:\\illustrateTNG Files\\SLOAN_MUSE.py” astrogroup@170.140.162.12:~/miniconda3/envs/gist/lib/python3.6/site-packages/gistPipeline/readData\nscp \u0026ldquo;D:\\illustrateTNG Files\\SLOAN_LR.py” astrogroup@170.140.162.12:~/miniconda3/envs/gist/lib/python3.6/site-packages/gistPipeline/readData\nThe Directory for Read-File\n~/miniconda3/envs/gist/lib/python3.6/site-packages/gistPipeline/readData CD command\nGo to gistTutorial cd ~/Erise/gistTutorial Open LogFile\nnano ~/Erise/gistTutorial/results/Test/LOGFILE Open masterConfig\nnano ~/Erise/gistTutorial/configFiles/MasterConfig Extract at your folder in Linux server:\ntar -xzvf gistTutorial.tar.gz ~/miniconda3/envs/gist/lib/python3.6/site-packages/vorbin/voronoi_2d_binning.py\nunzip the gz file:\ngzip -d -k TNG50-reds-0.035-angle-010-FOV-61-re_kpc-10-snap-98-460756.cube.fits.gz Finding\nfind ~/Erise/gistTutorial -name _______ Remove File\nrm Remove Dir\nrmdir C:\\Users\\19175\\Desktop\\TNG Research\\YinziyuanResults\\TNG50-reds-0.06-angle-010-FOV-61-re_kpc-15-snap-98-460756.cube.fits.gz\nscp \u0026ldquo;C:\\Users\\19175\\Desktop\\TNG Research\\YinziyuanResults\\TNG50-reds-0.06-angle-010-FOV-61-re_kpc-15-snap-98-460756.cube.fits.gz\u0026rdquo; astrogroup@170.140.162.12:~/Erise/gistTutorial/inputData\nC:\\Users\\19175\\Desktop\\TNG Research\\YinziyuanResults\\TNG50-reds-0.06-angle-010-FOV-61-re_kpc-15-snap-98-460756.cube.fits.gz\nUpload SAURON_LR\ngistpipline\nNGC0000Example\nQuestion\n"},{"id":1,"href":"/docs/Mathematics/MATH-351-352/Heat-Equation/","title":"热方程","section":"偏微分方程","content":"The general form of heat equation (diffusion equation) is represented as\n$$ u_t-k\\Delta u=0 $$\nwhere $x\\in U$ for $U \\in \\R^n$ (n-dimentional) s.t we have $u:\\bar{U} \\times [0,\\infty) \\to \\R$.\n$k$ is the thermal diffusivity of the material. prototype of parabolic PDEs normalized heat equation where $k=1$ is specified for theoretical studies (focusing on mathematical analysis) For 1-dimentional special case:\n$$ u_t-ku_{xx}=0 $$\nwhere ${x,t\\in(-\\infty,\\infty), [0, \\infty)}$.\nLecture 10 # 下面的排序是按照推导热方程解析解的顺序来的。\n基本思路：\n我们先通过 标度不变性（scale invariance）找到一个所有解通用的形式，并且嵌入原方程进行运算。\n最终，我们得到一维的：\n10.1 热传导方程的基本解 # The Fundamental Solution to Heat Equation\n$$ \\Phi(x,t)=\\frac{1}{\\sqrt{4\\pi k t}} e^{-\\frac{x^2}{4kt}} $$\n10.1.1 正态分布函数的属性 # 以及与它作为一个正态分布函数的属性：\nProperties of The Fundamental Solution\n10.2 对于柯西问题的解 # 接着，我们再用过平移不变性 **（**translation invariance）和卷积来进一步确定柯西问题（$t=0$）的解。\nThe Solution to Cauchy Problem\n$$ u(x,t) = \\frac{1}{(4\\pi k t)^{1/2}} \\int^{+\\infty}_{-\\infty} e^{-\\frac{(x-y)^2}{4kt}} g(y) , dy $$\n并且可以用误差函数来表示这个解\n$$ u(x, t) = \\lim_{x \\to \\infty} \\text{erf}(x\\sqrt{4\\pi kt}) $$\nLecture 11 # 11.1 三种不同的边界条件 # Different Types of Boundary Conditions\n11.2 分离变量法 # Separation of Variables Lecture 12 # 12.1 傅里叶展开和变换 # The Fourier Series\nLecture 13 # 13.1 热传导公式解 # The Fourier Expansion for Heat Equation Solution\n13.2 Dirichlet问题的解 # Non-Homogenous Dirichlet problem\nLecture 14 # 14.1 解的唯一性 # Uniqueness of Solution\n14.2 电梯方程 # Lifting Function\n💡 the transformed coefficient is defined as $$ \\hat \\mu =\\dfrac{\\mu}{(b-a)^2} $$\nLecture 15 # 15.1 施图姆-刘维尔理论 # Sturm Liouville Theory (SLE)\nLecture 16 # 16.1 极大值原理 # The Principle of Maximum\n"},{"id":2,"href":"/posts/Integrate-DeepL-Translation-Instruction/","title":"Integrate Deep L Translation Instruction","section":"Blog","content":" 1. Install R and Babeldown # 1.1 Install R # https://cran.r-project.org/.\n(The following task is using R console)\n1.2 Install Babeldown # More specific instruction, check here: https://docs.ropensci.org/babeldown/\n1.2.1 This command install \u0026lsquo;remotes\u0026rsquo; from CRAN if not already installed:\nif (!requireNamespace(\"remotes\", quietly = TRUE)) { install.packages(\"remotes\") } 1.2.2 Uses the ‘remotes’ package to install the ‘babeldown’ package from its GitHub repo:\ninstall.packages('babeldown', repos = c('https://ropensci.r-universe.dev', 'https://cloud.r-project.org')) 2. Set up DeepL API (Inside of R console) # Go to DeepL\u0026rsquo;s website and get an API key: https://www.deepl.com/en/your-account/keys 3. Connect Babeldown to DeepL API # Babeldown uses the DeepL free API URL by default (no need to set up unless pro API).\n3.1 Download a keyring package (for secure API key retrieval) # install.packages(\"keyring\") 3.2 Keyring requests your API key # library(keyring) keyring::key_set(\"deepl\", prompt = \"API key:\") Enter your API key and then in any script you use babeldown, you’d retrieve the key like so:\nSys.setenv(DEEPL_API_KEY = keyring::key_get(\"deepl\")) 4. (optional) Set up working directory # In R, use getwd() to check current working directory, and you may use setwd(\u0026quot;your absolute path\u0026quot;) to move your working directory for convenience.\nMy setup is:\nsetwd(\"/Users/erisehe/Documents/GitHub/erisehe.github.io\") 4. Translates # Since my working directory is at (\u0026quot;\u0026hellip;/erisehe.github.io\u0026quot;), so I runs relative path. The commands, for example, is:\nbabeldown::deepl_translate_hugo( post_path = \"content.en/docs/Mathematics/MATH 412 Real Analysis II/Lecture/name.md\", target_lang = \"ZH\", source_lang = \"EN\", force = TRUE ) It translate only one file at a time.\nHow to Translate an Entire Folder # You can use base R functions (or packages like purrr) to list the files and apply the translation function.\n# Define the source folder containing your markdown files source_dir \u003c- \"path/to/your/source_folder\" # Define the target folder where you want to save the translated files target_dir \u003c- \"path/to/your/target_folder\" if (!dir.exists(target_dir)) { dir.create(target_dir) } # List all markdown files in the source directory files \u003c- list.files(source_dir, pattern = \"\\\\.md$\", full.names = TRUE) # Loop through each file and translate it for (f in files) { # Translate the file using babeldown's deepl_translate_hugo function babeldown::deepl_translate_hugo( post_path = f, target_lang = \"ZH\", source_lang = \"EN\", force = TRUE ) # If the function writes the output file in a default location or with a predictable name, # you can move or copy it to your target directory. For example: output_file \u003c- file.path(dirname(f), paste0(\"translated_\", basename(f))) if (file.exists(output_file)) { file.copy(output_file, file.path(target_dir, basename(output_file))) } } "},{"id":3,"href":"/docs/Mathematics/MATH-351-352/MATH-352-PDE-in-Action/Numerical-Solution-of-Ordinary-Differential-Equations/","title":"常微分方程的数值解","section":"数值方法","content":" Introduction # The subject of this Chapter is the numerical approximation of the Cauchy problem:\n$$(1) \\quad \\frac{dy}{dt} = f(t,y) \\quad \\text{in } t \u0026gt; 0 \\quad (I.C.)$$\nwith $$y(0) = y_0 \\text{ given}.$$\nor, more in general, a system:\n$$(2) \\quad \\frac{d\\mathbf{y}}{dt} = \\mathbf{f}(t,\\mathbf{y}) \\quad \\text{in } t \u0026gt; 0$$\nwith $$\\mathbf{y}(0) = \\mathbf{y}_0.$$\nLet\u0026rsquo;s recall some basic results on the function $f$. It is said to be Lipschitz continuous in an interval $I$ if there exists a positive $L \u0026gt; 0$ s.t.\n$$|f(t,y_1) - f(t,y_2)| \u0026lt; L |y_1 - y_2|.$$\nClearly, if $f$ is differentiable with continuity in $I$, it is also Lipschitz continuous with $L \\leq \\max_I \\left|\\frac{\\partial f}{\\partial y}\\right|$.\nLocal Theorem # If $f$ is Lipschitz continuous in a range $t \\in I_1$ and $y \\in I \\subseteq \\mathbb{R}$, then $\\exists$ an interval $\\hat{I} \\subseteq I$ where the solution to $(1)$ exists and is unique.\nGlobal Theorem # If the $f$ is Lipschitz continuous $\\forall t \\in I$ and $y \\in \\mathbb{R}$, then the solution $\\exists$ uniquely in $I$.\nStability Definitions # From the practical point of view, it is important to consider also the perturbed case:\n$$(1_\\epsilon): \\quad \\frac{dy_\\epsilon}{dt} = f(t, y_\\epsilon) + \\delta(t) \\quad t \\geq 0$$\n$$y^\\epsilon(0) = y_0 + \\epsilon$$\nwith $|\\delta(t)| \\leq \\epsilon \\quad \\forall t \\geq 0$\nIf there exists a finite constant $C$ such that\n$$|y - y_\\epsilon| \u0026lt; C\\epsilon \\quad (*)$$\nthen we say that the solution is Lyapunov stable.\nIn general, $C$ may depend on $t$, so that $(*)$ may hold on finite intervals (and not over the entire $[0,\\infty)$ axis).\nTo have a stronger concept, we advocate the ASYMPTOTIC STABILITY:\n$$\\lim_{t \\to \\infty} |y(t) - y_\\epsilon(t)| = 0.$$\nFrom the engineering point of view, this is a central concept, as the theory of control (Automatical Control, Feedback control) relies on this definition.\nRemark # The Cauchy problem has a formal (quite useless) solution:\n$$y(t) = y_0 + \\int_0^t f(\\tau, y(\\tau))d\\tau$$\nconnecting the solution in $t$ with its past.\nThis is basically an alternative formulation of the problem and, in fact, will be used to formulate possible numerical approximation alternative to the ones based on $(1)$.\nSome Simple Examples # To begin with, we can split the time interval in subintervals, for instance with a uniform reticulation with step $\\Delta t$.\n![Time discretization with points at 0, Δt, 2Δt, 3Δt\u0026hellip;]\nThen, we can use the formula:\n$$\\frac{dy}{dt}(t_i) \\simeq \\frac{y(t_{i+1}) - y(t_i)}{\\Delta t}$$\nthat we know is accurate with an error scaling with $\\Delta t$. In this way, we have:\n[From now on, the approximation of the solution $y(t)$ in $t_i$ will be denoted with $u_i$]\n$$\\frac{u_{i+1} - u_i}{\\Delta t} = f(t_i, u_i)$$\nIn practice, starting at $t = 0$: $$\\begin{align} u_1 \u0026amp;= u_0 + \\Delta t , f(t_0, u_0) \\quad \\rightsquigarrow \\quad (u_0 = y_0) \\ u_2 \u0026amp;= u_1 + \\Delta t , f(t_1, u_1) \\end{align}$$\nWe can easily compute the approximation $u_i$ of $y(t_i)$.\nOn the other hand, we could do:\n$$\\frac{u_i - u_{i-1}}{\\Delta t} = f(t_i, u_i)$$\nleading to:\n$$u_1 = u_0 + \\Delta t , f(t_1, u_1) \\quad (u_0 = y_0)$$\nThis is not as easy as before: it\u0026rsquo;s a NONLINEAR (ALGEBRAIC) EQUATION; we know how to solve it (first Chapter), but it is a computational additional cost. Then, similarly, we have:\n$$u_2 = u_1 + \\Delta t , f(t_2, u_2)$$\nWe have also another option:\n$$\\frac{dy}{dt}(t_i) \\simeq \\frac{u_{i+1} - u_{i-1}}{2\\Delta t}$$\nIn this case, the error scales with $O(\\Delta t^2)$. So, in practice we have:\n$$u_{i+1} = 2\\Delta t , f(t_i, u_i) + u_{i-1}$$\nor specifically: $u_2 = 2\\Delta t , f(t_1, u_1) + u_0 \\quad (u_0 = y_0)$\nI need to know $u_1$, not just $u_0$, then we can use the method.\nWith these three examples, we have already found many possible types of methods:\nImplicit vs Explicit\nImplicit: Solve a non-linear equation Explicit: No need of solving equations One Step vs Multistep\nOne Step: $u_{i+1} = g(\\Delta t, u_i)$ Multistep: $u_{i+1} = g(\\Delta t, u_i, u_{i-1}, u_{i-2}\u0026hellip;)$ At the top of this, we have the problem of the accuracy and - even most importantly- of the CONVERGENCE.\nIn fact, the basic requirement we need is that the method is convergent:\n$$\\lim_{\\Delta t \\to 0} |y(t_i) - u_i| = 0$$\nThen, if we find that $|y(t_i) - u_i| \\sim O(\\Delta t^p)$ then the accuracy or the order of the method is $p$.\nNature (implicit/explicit), Number of steps and most important CONVERGENCE and accuracy (order) are the categories for analyzing and ranking different methods.\nBefore we embark ourselves in a general analysis, however, let\u0026rsquo;s focus on a specific case, where important concepts will be highlighted.\nAnalysis of Forward Euler # The method:\n$$\\frac{u_{i+1} - u_i}{\\Delta t} = f(t_i, u_i)$$\nis called Forward Euler.\nLet\u0026rsquo;s consider it in detail.\nTo start with, let\u0026rsquo;s introduce the distinction of \u0026ldquo;consistency\u0026rdquo; and truncation error.\nIf we have the exact solution $y_{ex}(t)$ it is easily realized that\n$$\\frac{y_{ex}(t_{i+1}) - y_{ex}(t_i)}{\\Delta t} \\neq f(t_i, y_{ex}(t_i))$$\nFor instance,\n$$\\frac{dy}{dt} = \\lambda y \\quad y(0) = 1 \\implies y_{ex} = e^{\\lambda t}$$\nthen\n$$\\frac{e^{\\lambda(t_i+\\Delta t)} - e^{\\lambda t_i}}{\\Delta t} = e^{\\lambda t_i} \\frac{e^{\\lambda \\Delta t} - 1}{\\Delta t} \\neq \\lambda e^{\\lambda t_i} \\quad (\\lambda y(t_i))$$\nWe can be more specific:\n$$y_{ex}(t_{i+1}) = y_{ex}(t_i) + \\frac{dy_{ex}}{dt}(t_i)\\Delta t + \\frac{1}{2}\\frac{d^2y_{ex}}{dt^2}(t_i)\\Delta t^2 + \u0026hellip;$$\nNow:\n$$\\frac{y_{ex}(t_{i+1}) - y_{ex}(t_i)}{\\Delta t} = \\frac{dy_{ex}(t_i)}{dt} + \\frac{1}{2}\\frac{d^2y_{ex}(t_i)}{dt^2}\\Delta t + \u0026hellip;$$\nThis gives us:\n$$\\frac{y_{ex}(t_{i+1}) - y_{ex}(t_i)}{\\Delta t} = f(t_i, y_{ex}(t_i)) + \\left[\\frac{\\Delta t}{2}\\frac{d^2y_{ex}}{dt^2}\\right]$$\nForward Euler $\\quad \\quad \\quad$ Local Truncation Error (LTE)\nIn some sense, the truncation error is the residual we get when we pretend the exact solution to solve the numerical scheme.\nNow, to investigate how the error of Forward Euler works, let\u0026rsquo;s consider the following picture:\n![Error propagation diagram showing exact solution trajectory and numerical approximation]\nFrom the picture it is evident that the error:\n$$e_{i+1} = y_{ex}(t_{i+1}) - u_{i+1}$$\nis the result of two contributions:\n$$e_{i+1} = \\underbrace{y_{ex}(t_{i+1}) - u^{i+1}}{\\text{generated at the local step}} + \\underbrace{u^{i+1} - u{i+1}}_{\\text{propagated from previous steps}}$$\nFrom the previous definition:\n$$y_{ex}(t_{i+1}) = y_{ex}(t_i) + \\Delta t , f(t_i, y_{ex}(t_i)) + \\Delta t , \\tau_{i+1}$$\nwhere $\\tau_{i+1} = \\frac{\\Delta t}{2}\\frac{d^2y_{ex}(t_i)}{dt^2}$ is the local TE.\n$$u^*{i+1} = y{ex}(t_i) + \\Delta t , f(t_i, y_{ex}(t_i))$$\n$$y_{ex}(t_{i+1}) - u^*_{i+1} = \\Delta t , \\tau_i$$\nNow, let\u0026rsquo;s focus on the other part.\nThis second component $u^*{i+1} - u{i+1}$ is inherited from the previous errors.\n$$u^*{i+1} = y{ex}(t_i) + \\Delta t , f(t_i, y_{ex}(t_i))$$ $$u_{i+1} = u_i + \\Delta t , f(t_i, u_i)$$\nUsing the Lipschitz assumption $|f(t,y) - f(t,u)| \\leq L |y-u|$ we have:\n$$|u^*{i+1} - u{i+1}| \\leq |e_i| + \\Delta t , L |e_i| = (1 + \\Delta t , L)|e_i|$$\nwhere $e_i = y_{ex}(t_i) - u_i$\nAll together, we have:\n$$|e_{i+1}| \\leq \\Delta t |\\tau_i| + (1 + \\Delta t , L)|e_i|$$\nNow, take $|\\tau^*| = \\max_i |\\tau_i| = \\text{GLOBAL TRUNCATION ERROR}$.\nThen:\n$$|e_{i+1}| \\leq \\underbrace{\\Delta t |\\tau^*|}{\\text{local}} + \\underbrace{(1 + \\Delta t , L)}{\\text{propagated}}|e_i|$$\nAssume that $e_0 = 0$ (no errors on the initial conditions). Then we have:\n$$|e_1| \\leq \\Delta t |\\tau^|$$ $$|e_2| \\leq \\Delta t |\\tau^| + (1 + \\Delta t , L)|e_1| \\leq \\Delta t |\\tau^|(1 + (1+\\Delta t , L))$$ $$|e_3| \\leq \\Delta t |\\tau^| + (1+\\Delta t , L)|e_2| \\leq \\Delta t |\\tau^*|(1 + (1+\\Delta t , L) + (1+\\Delta t , L)^2)$$\nWe infer:\n$$|e_K| \\leq \\Delta t |\\tau^| \\sum_{j=0}^{K-1}(1+\\Delta t , L)^j = \\Delta t |\\tau^|\\frac{(1+\\Delta t , L)^K - 1}{1 - 1 - \\Delta t , L} = \\frac{|\\tau^*|}{L}((1+\\Delta t , L)^K - 1)$$\nNotice that:\n$$(1 + x)^K \\leq \\exp(xK)$$\nSo:\n$$|e_K| \\leq \\frac{|\\tau^|}{L}(\\exp(LKh) - 1) = \\frac{|\\tau^|}{L}(\\exp(Lt_K) - 1)$$\nwhere $K\\Delta t = t_K$\nNow, if we want to have a bound on the error in the interval $[0,T]$, we have:\n$$|e| \\leq \\frac{|\\tau^*|}{L}(\\exp(LT) - 1)$$\nWe have proved the following Theorem:\nConvergence of Forward Euler # If the initial data are exact, and $f$ is Lipschitz continuous with respect to the $y$-argument, with a solution $\\in C^2(0,T)$, then FE converges.\nIn fact:\n$$|\\tau^*| = \\frac{1}{2}\\Delta t \\max_i |y^{\u0026rsquo;\u0026rsquo;}| \\xrightarrow{\\Delta t \\to 0} 0$$\nand $|e| \\leq |\\tau^*|\\frac{\\exp(LT) - 1}{L} \\xrightarrow{\\Delta t \\to 0} 0$ is bounded.\nFE is convergent with order 1.\nBeyond the Theorem per se (we will generalize it to other methods), it is important to notice that the convergence is the consequences of two peculiarities:\n(1) $\\tau^* \\xrightarrow{\\Delta t \\to 0} 0$ the LTE/GTE vanishes as $\\Delta t \\to 0$, so locally the error is under control.\nThis property is called CONSISTENCY.\n(2) The factor $\\frac{\\exp(LT) - 1}{L}$ is independent of $\\Delta t$ (or, in general, doesn\u0026rsquo;t blow up for $\\Delta t \\to 0$). This is related to the way the error propagates so it is a \u0026ldquo;global\u0026rdquo; property through the constant $L$.\nThe control of the error in time is called STABILITY.\nIn some sense, we can say that:\nCONVERGENCE = CONSISTENCY + STABILITY\nIn spite of the intuitive arguments we used here, we will see that this is a good representation of general results (Lax-Richtmyer equivalence Theorem) holding for method using linear combinations of the function $f$ evaluated in the points $(t_i, u_i)$.\nOther One-Step Methods # So far, we have two one-step methods (forward and backward Euler). Let\u0026rsquo;s see other two. It is instructive to see how they are devised.\nCrank-Nicolson # From $y(t) = y_0 + \\int_0^t f(\\tau, y(\\tau))d\\tau$ we can organize the following method:\n![Timeline showing points $t_0, t_1, t_2, t_3, t_4, t_5, t_6, t_7$]\nLocalize: $y(t_{n+1}) = y(t_n) + \\int_{t_n}^{t_{n+1}} f(\\tau, y(\\tau)) d\\tau$\nDiscretize: approximate the integral with the trapezoidal rule:\n$$u_{n+1} = u_n + \\frac{f(t_{n+1}, u_{n+1}) + f(t_n, u_n)}{2} \\Delta t$$\nThis is a Second Order (EXERCISE) one-step implicit method.\nHeun # Let\u0026rsquo;s start from Crank-Nicolson and make it \u0026ldquo;explicit\u0026rdquo;.\nOn the right hand side of CN we set:\n$$u_{n+1} \\simeq u_n + \\Delta t , f(t_n, u_n) \\quad \\text{(Explicit Euler)}$$\nWe obtain the scheme:\n$$u_{n+1} = u_n + \\Delta t \\frac{f(t_{n+1}, u_n+\\Delta t f(t_n, u_n)) + f(t_n, u_n)}{2}$$\nThis is called Heun. It is One-step, still 2nd order (EXERCISE).\nThe Concept of Zero-Stability # Let\u0026rsquo;s start applying the concept to one-step methods in the form:\n$$u_{n+1} = u_n + \\Delta t , \\Phi(u_n, t_n, f_n; \\Delta t)$$\nLet\u0026rsquo;s consider the perturbed scheme:\n$$\\begin{cases} w_{n+1} = w_n + \\Delta t (\\Phi(z_n, t_n, f(t_n, z_n); \\Delta t) + \\delta_n) \\ w_0 = y_0 + \\delta_0 \u0026amp; \\text{with } |\\delta_i| \\leq \\varepsilon \\end{cases}$$\nWe say that the method is zero-stable if for $\\Delta t \u0026lt; \\Delta t_0$, there exists a constant $C \u0026gt; 0$ such that\n$$|u_n - z_n| \\leq C\\varepsilon$$\nfor $\\varepsilon \u0026gt; 0$ sufficiently small. ($C$ and $\\Delta t_0$ depend on problem data, $T_{fin}$, $f$).\nIt is possible to prove the following theorem:\nTheorem: If $\\Phi$ is Lipschitz continuous with respect to the dependence on $u_n$ ($\\exists \\Delta \u0026gt; 0$: $|\\Phi(u_n) - \\Phi(z_n)| \\leq \\Delta |u_n - z_n|$), then the One-step method is zero-stable.\nLipschitz continuity in this case is enough for zero-stability (and it is generally a consequence of Lipschitz continuity of $f$).\nThen, we have another theorem. It generalizes the theorem for the explicit Euler.\nTheorem: If $\\Phi$ is like in the previous theorem, then:\n$$|y(t_n) - u_n| \\leq \\left(|y_0 - u_0| + t_n , \\tau(\\Delta t)\\right) e^{L t_n}.$$\nTherefore, if:\n$\\tau(\\Delta t) \\to 0$ with $\\Delta t$ $y_0 - u_0 \\to 0$ with $\\Delta t$ the method is convergent\n(and the order is $\\Delta t^p$, with $p = \\min(p_1, p_2)$ where:\n$\\tau(\\Delta t) \\sim O(\\Delta t^{p_1})$ $y_0 - u_0 \\sim O(\\Delta t^{p_2})$ (generally $p = p_1$). In other terms:\nFor one-step method (not true for multi-step):\n$$\\Phi \\text{ Lipschitz continuous } \\Rightarrow \\text{ Method zero-stable} + \\text{Consistency} \\Rightarrow \\text{CONVERGENCE}$$\n$\\Rightarrow$ If $\\Phi$ is Lipschitz continuous, consistency $\\Rightarrow$ convergence.\nThe Concept of Absolute Stability # The zero-stability is a property of the numerical scheme, required by the presence of roundoff errors and other possible perturbations.\nHowever, there is another (maybe more engineering) concept of stability related to the nature of the problem to solve.\nIn simple words, we want that, if a problem is asymptotically stable, the numerical approximation is asymptotically stable too.\nIs this happening? Let\u0026rsquo;s consider the prototype of asymptotically stable problem (Model Problem).\nLet\u0026rsquo;s consider the Cauchy problem:\n$$\\begin{cases} \\frac{dy}{dt} = \\lambda y \u0026amp; t \u0026gt; 0 \\ y(0) = y_0 \\end{cases}$$\nWe know that the solution is asymptotically stable for $\\lambda \u0026lt; 0$ $(y_{ex} = y_0 e^{\\lambda t} \\xrightarrow{t \\to \\infty} 0 \\text{ for } \\lambda \u0026lt; 0)$\nIn fact: $\\frac{dz}{dt} = \\lambda z$ with $z(0) = y_0 + \\varepsilon \\Rightarrow z - y = \\varepsilon e^{\\lambda t} \\xrightarrow{t\\to\\infty} 0$ for $\\lambda \u0026lt; 0$.\nRemark # For a system: $\\begin{cases} \\frac{d\\mathbf{y}}{dt} = A\\mathbf{y} \u0026amp; \\mathbf{y} \\in \\mathbb{R}^n \\ \\mathbf{y}(0) = \\mathbf{y}_0 \u0026amp; A \\in \\mathbb{R}^{n \\times n} \\end{cases}$\nthe asymptotic stability is guaranteed if THE REAL PART OF ALL THE EIGENVALUES is negative.\nTo be general, from now on we will consider $\\lambda \\in \\mathbb{C}$ also for the scalar case. In particular, the left-plane $\\text{Real}(\\lambda) \u0026lt; 0$ is the region of the complex plane where the original problem is asymptotically stable.\nQuestion: is the solution of the model problem with Explicit Euler asymptotically vanishing as the exact solution? # Notice that the question is not related to the behavior of the solution for $\\Delta t \\to 0$, but for $\\Delta t$ given and $t \\to +\\infty$.\nLet\u0026rsquo;s see: $$\\frac{dy}{dt} = \\lambda y \\quad \\text{EE}: \\frac{u_{i+1} - u_i}{\\Delta t} = \\lambda u_i$$\n$$u_{i+1} = (1 + \\lambda \\Delta t) u_i \\quad (\\text{Re}(\\lambda) \u0026lt; 0)$$\n$$|u_{i+1}| = |1 + \\lambda \\Delta t| |u_i| \\Rightarrow |u_{i+1}| = |1 + \\lambda \\Delta t|^{i+1} |u_0|$$\nThe solution asymptotically vanishes if $|1 + \\lambda \\Delta t| \u0026lt; 1$\nIntuitively, if $\\lambda$ is Real and negative:\n$$|1 + \\lambda \\Delta t| \u0026lt; 1$$ $$\\Downarrow$$ $$-1 \u0026lt; 1 + \\lambda \\Delta t \u0026lt; 1$$ $$\\Downarrow$$ $$-2 \u0026lt; \\lambda \\Delta t \u0026lt; 0$$ $$\\Downarrow$$ $$\\Delta t \u0026lt; \\frac{2}{|\\lambda|}$$\nSo, if $\\Delta t \u0026gt; \\frac{2}{|\\lambda|}$ the numerical solution is not stable.\nFor $\\lambda$ complex, we can draw the region of the plane $\\lambda \\Delta t$ where the solution is stable.\n![Complex plane diagram showing unit circle with center at (-1,0)]\nUnit circle with center in $(-1, 0)$\n(In magenta the region of stability of the problem).\nSo, the method is reproducing the asymptotic behavior of the exact solution ONLY UNDER THE CONDITION THAT:\n$$\\lambda \\Delta t \\in \\text{Unit Circle centered in } (-1, 0).$$\nWhat happens with Implicit Euler? # $$\\frac{1}{|1 - \\lambda \\Delta t|} \u0026lt; 1 \\quad \\forall \\Delta t,$$\nso $u^{n+1} \\xrightarrow{n \\to \\infty} 0 \\quad \\forall \\Delta t$\nThere is a big difference between the two Eulers: one is stable under some conditions, the other is unconditionally stable.\nWhat about Crank-Nicolson? # $$u^{n+1} = u^n + \\Delta t \\frac{\\lambda u^{n+1} + \\lambda u^n}{2} \\Rightarrow u^{n+1} = \\frac{1 + \\frac{\\Delta t}{2}\\lambda}{1 - \\frac{\\Delta t}{2}\\lambda} u^n$$\nAgain, for $\\lambda \\in \\mathbb{C}$ we have:\n$$\\left|\\frac{1 + \\frac{\\Delta t}{2}\\lambda}{1 - \\frac{\\Delta t}{2}\\lambda}\\right| \u0026lt; 1 \\quad \\forall \\Delta t$$\nso also CN is stable with no condition.\nDEFINITION # A method is said to be ABSOLUTELY STABLE if the solution of the model problem $\\frac{dy}{dt} = \\lambda y$ vanishes asymptotically when $t \\to +\\infty$.\nWe say that the method is UNCONDITIONALLY ABSOLUTELY STABLE if this happens $\\forall \\Delta t \u0026gt; 0$. On the contrary, it is said to be CONDITIONALLY STABLE if we have limitations on $\\Delta t$.\nAnother Example: Heun # $$u^{n+1} = u^n + \\frac{\\Delta t}{2}(\\lambda(u^n + \\Delta t \\lambda u^n) + \\lambda u^n) = \\left(1 + \\Delta t \\lambda + \\frac{\\Delta t^2 \\lambda^2}{2}\\right) u^n$$\nNow, consider the curve $\\frac{\\Delta t^2 \\lambda^2}{2} + \\Delta t \\lambda + 1$ for $\\lambda \u0026lt; 0$\nWe see that we need:\n$$0 \u0026lt; \\Delta t \u0026lt; \\frac{2}{|\\lambda|}$$\n(as for Explicit Euler).\nIn the complex plane, the region is slightly larger than for Explicit Euler.\nREMARK: We found that the explicit methods are conditionally stable, while the implicit ones are unconditionally stable. # In general, we do not have unconditionally stable explicit methods, but we do have implicit methods that are only conditionally stable.\nThe region of absolute stability is the portion of $\\mathbb{C}^-$ for $\\lambda \\Delta t$ to belong to such that the method is absolutely stable. Unconditional absolute stability (a.k.a A-stability) is when this region is the entire left plane $\\mathbb{C}^-$.\nThe concept of absolute stability somehow clarifies what are the criteria to select a method for a problem.\nIn fact, let\u0026rsquo;s first consider the general case(s):\n$\\frac{dy}{dt} = f(t,y) \\simeq f(t,y_0) + \\frac{\\partial f}{\\partial t}(t-t_0) + \\frac{\\partial f}{\\partial y}(t,y_0)(y-y_0)$\nso we can locally take $\\lambda \\simeq \\frac{\\partial f}{\\partial y}(t,y_0)$\nFor a system: $\\frac{d\\mathbf{y}}{dt} = A \\mathbf{y} \\Rightarrow \\lambda = eig(A)$\n$\\frac{d\\mathbf{y}}{dt} = \\mathbf{F}(t,\\mathbf{y})$ (nonlinear system)\n$\\Rightarrow \\lambda = eig\\left(\\frac{\\partial \\mathbf{F}}{\\partial \\mathbf{y}}(t_0, y_0) \\right)$ - Jacobian\nNow, for a general problem, we have:\nMethod Nature Accuracy Limitations on $\\Delta t$ FE Explicit 1 $\\Delta t \u0026lt; \\frac{2}{ BE Implicit 1 NO CN Implicit 2 NO H Explicit 2 $\\Delta t \u0026lt; \\frac{2}{ Implicit Methods are more computationally expensive.\nIn an extreme synthesis:\n![Comparison of FE and BE with timeline]\nWith FE each step is low-cost (Explicit) but we may need to do many for the conditional stability.\nWith BE each step is more expensive, but we need to do (generally) fewer steps.\n$\\Rightarrow$ The optimal choice is largely problem dependent.\nMultistep Methods # The mid-point method is just an example of multi-step methods:\n$$u_{n+1} = u_{n-1} + 2\\Delta t , f(t_n, u_n)$$\nIn general, a multistep method with $p$ steps take the form:\n$$u_{n+1} - \\sum_0^p a_j u_{n-j} = \\Delta t \\sum_{j=-1}^p b_j f(t_{n-j}, u_{n-j})$$\nThe method is IMPLICIT when $b_{-1} \\neq 0$.\nExample: # $$y(t_{n+1}) = y(t_{n-1}) + \\int_{t_{n-1}}^{t_{n+1}} f(\\tau, y(\\tau)) d\\tau$$\n$$\\Downarrow \\text{ SIMPSON}$$\n$$u_{n+1} = u_{n-1} + 2\\Delta t \\frac{f(t_{n+1}, u_{n+1}) + 4f(t_n, u_n) + f(t_{n-1}, u_{n-1})}{6} =$$\n$$= u_{n-1} + \\frac{\\Delta t}{3}(f(t_{n+1}, u_{n+1}) + 4f(t_n, u_n) + f(t_{n-1}, u_{n-1}))$$\n$$\\mathbf{a} = \\begin{bmatrix} 0 \\ 1 \\end{bmatrix} a_0, a_1 \\quad \\mathbf{b} = \\begin{bmatrix} \\frac{1}{3} \\ \\frac{4}{3} \\ \\frac{1}{3} \\end{bmatrix} b_{-1}, b_0, b_1$$\nIn general, we have two approaches for deriving a Multi-step methods:\nBDF (Backward Difference Formulas) # $$\\frac{dy}{dt}(t_{n+1}) = f(t_{n+1}, u_{n+1})$$ $$\\downarrow$$ approximate this with a backward finite difference, e.g.,\n$$\\frac{dy}{dt}(t_{n+1}) \\simeq \\frac{\\frac{3}{2}u_{n+1} - 2u_n + \\frac{1}{2}u_{n-1}}{\\Delta t}$$\n$$\\Rightarrow u_{n+1} = \\frac{4}{3}u_n - \\frac{1}{3}u_{n-1} + \\Delta t f(t_{n+1}, u_{n+1})$$\nThey are all in the form:\n$$\\mathbf{b} = \\begin{bmatrix} 1 \\ 0 \\ \\vdots \\ 0 \\end{bmatrix}$$\nAdams # In this case, we start from:\n$$y(t_{n+1}) = y(t_n) + \\int_{t_n}^{t_{n+1}} f(\\tau, y(\\tau)) d\\tau$$\nNow, we replace $f$ with an interpolation:\nWe interpolate $f$ over the nodes: $n-p, n-p+1, \u0026hellip; n$ so to have an explicit method (Adams-Bashforth) We interpolate $f$ over the nodes: $n-p, n-p+1, \u0026hellip; n, n+1$ Adams methods have always:\n$$\\mathbf{a} = \\begin{bmatrix} 1 \\ 0 \\ \\vdots \\ 0 \\end{bmatrix}$$\nA Rapid Recall of Difference Equations Theory # A linear difference equation is an equation in the form:\n$$u_{n+p} + a_{n+p-1}u_{n+p-1} + a_{n+p-2}u_{n+p-2} + \\ldots + a_0u_n = \\varphi_{n+p}$$\nwhere the solution is the set ${u_j}$ and initial conditions $u_0, u_1, \\ldots u_{p-1}$ are given.\nThe theory on difference equations has several similarities with the theory on differential equations. In particular, the general solution of a linear difference equation is the linear combination of a particular solution of the equation and the general solution of the homogeneous one.\nThe general solution of the homogeneous takes the form:\n$$u_n = \\sum_{j=0}^{N}\\left(\\sum_{s=0}^{m_j-1} V_{js}n^s \\right)r_j^n$$\nwhere $r_j$ are the roots of:\n$$r^p + a_{p-1}r^{p-1} + a_{p-2}r^{p-2} + \\ldots + a_0 = 0$$\nand\n$N$ is the number of distinct roots $m_j$ is the multiplicity of $r_j$ We will see a strong connection between this theory and the analysis of the linear multi-step methods.\nIn fact, a LMM reads like:\n$$u_{n+1} - \\sum_{j=0}^p a_j u_{n-j} = \\Delta t \\sum_{j=-1}^p b_j f_{n-j}$$\nIf we consider the model problem, we are lead to the linear difference equation:\n$$u_{n+1} - \\sum_{j=0}^p a_j u_{n-j} - \\Delta t \\lambda \\sum_{j=-1}^p b_j u_{n-j} = 0$$\nso we need to solve exactly a linear difference equation.\nMore precisely, we still define the LTE as the residual of the exact solution in the numerical scheme:\n$$\\Delta t , \\tau_{n+1} = y_{ex}(t_{n+1}) - \\sum_{j=0}^p a_j y_{ex}(t_{n-j}) - \\Delta t \\sum_{j=-1}^p b_j \\frac{dy_{ex}}{dt}(t_{n-j})$$\nThe method is CONSISTENT when $\\tau_{n+1} \\xrightarrow{\\Delta t \\to 0} 0 \\quad \\forall n$\nZero-Stability Definition # The definition of zero-stability is similar to the one for One-step Methods.\nAlso, we define:\nFirst characteristic polynomial:\n$$\\rho(z) = z^{p+1} - \\sum_{j=0}^p a_j z^{p-j}$$\nSecond characteristic polynomial:\n$$\\sigma(z) = b_{-1}z^{p+1} - \\sum_{j=0}^p b_j z^{p-j}$$\nand the polynomial: $\\Pi(z) = \\rho(z) - \\Delta t \\lambda \\sigma(z)$ (this is the polynomial found for the model problem)\nBased on this we define:\nRoot Condition: Call $r_i$ the roots of $\\rho(z)$. The polynomial (or the associated LMM) fulfills the root condition when:\n(1) $|r_i| \\leq 1 \\quad \\forall i$ (2) The roots with $|r| = 1$ have multiplicity 1.\nStrong Root Condition: In addition to the R.C., only $r_0$ is s.t. $|r_0| = 1$, all the other roots $|r_j| \u0026lt; 1$ $(j \u0026gt; 1, \\ldots, p)$.\nAbsolute R.C.: $\\exists \\Delta t \\leq \\overline{\\Delta t}$ s.t. all the roots $r_j(\\Delta t)$ of $\\Pi_{\\Delta t}(z)$ are s.t. $|r_j(\\Delta t)| \u0026lt; 1$, $j = 0, \\ldots, p$, $\\Delta t \\leq \\overline{\\Delta t}$.\nAnalysis of Multistep Methods # We have a sequence of theorems (no proofs):\nA LMM is consistent if and only if:\n$$\\sum_{j=0}^p a_j = 1 \\quad -\\sum_{j=0}^p j a_j + \\sum_{j=-1}^p b_j = 1$$\nAlso, the method is at least of order $p$ if the solution is $\\in C^{p+1}(I)$ and\n$$(*)\\ \\sum_{j=0}^p (j)^k a_j + k \\sum_{j=-1}^p (j)^{k-1} b_j = 1 \\quad k = 1, 2, \\ldots q$$\nRemark: The condition $\\sum_{j=0}^p a_j = 1$ means that the first characteristic polynomial $\\rho(z)$ has at least one root in 1.\nA consistent method is zero-stable if and only if it fulfills the root condition.\nWith Theorems (1) + (2) we have the convergence and order analysis.\n(1) + (2): If the LMM method falls into (1) and (2) with condition (*) (not true for q+1) and the initial conditions ($u_i \\to y_{ex}(t_i)$ $i = 0, \\ldots, p$) converge to the exact ones with order $q$, the resulting method is convergent with order $q$.\nRemark (First Dahlquist Barrier): There is no zero-stable $p$-LMM with order\n$\u0026gt; p+1$ for $p$ odd $\u0026gt; p+2$ for $p$ even Let\u0026rsquo;s turn now to the Absolute stability.\nThe absolute root condition is necessary and sufficient for the absolute stability. In fact, if $\\overline{\\Delta t} = +\\infty$, the absolute stability is unconditional. The analysis of a LMM is completed by analyzing the coefficients of the method and the roots of the two polynomials $\\rho$ and $\\Pi$.\nThe roots of $\\Pi$ can be analyzed numerically (and are tabulated for most of the methods) by Matlab/Python subroutines.\nSEE EXAMPLES (NODEPY library in Python, QSS in Matlab)\nRemark (Second Dahlquist Barrier): There are no explicit LMM absolutely unconditionally stable. There are no LMM absolutely unconditionally stable with order $q \u0026gt; 2$.\nA Clarification on Stability Concepts # To clarify the different stability concepts:\nZero-stability:\n$$|u_j| \\leq C_{T_{fin}} (|u_0| + \\ldots |u_p|)$$\nwhere the $C$ may depend on $T_{fin}$\nAbsolute stability:\n$$C_{T_{fin}} \\xrightarrow{T_{fin} \\to \\infty} 0$$\n$C$ is bounded independently of $T_{fin}$\nWe call this \u0026ldquo;relative stability\u0026rdquo;\n$$\\text{for a consistent scheme} \\quad \\text{R.C.} \\Leftarrow \\text{Strong R.C.} \\Leftarrow\\text{A.R.C.}$$ $$\\text{CONVERGENCE} \\Leftarrow \\text{Zero-Stability} \\Leftarrow \\text{Relative Stability} \\Leftarrow \\text{Absolute Stability}$$\nExample (Extreme) # Mid-point:\n$$u_{n+1} = u_{n-1} + 2\\Delta t , f(t_n, u_n)$$\n$$a_0 = 0 \\quad a_1 = 1 \\quad \\Rightarrow \\rho(z) = z^2 - 1 = 0 \\quad \\Rightarrow \\rho = \\pm 1$$\nR.C.: OK\n$$\\Pi_{\\Delta t}(z) = z^2 - 2\\lambda z - 1$$\nThe product of the two roots is always -1, if one root is \u0026lt; 1 in magnitude, the other is \u0026gt; 1.\nUnconditionally Absolutely UNSTABLE\nPredictor-Corrector Methods # A clear message from the previous examples is that, in general, explicit methods are less absolutely stable, they are never unconditionally stable and have smaller regions of stability.\nHowever, let\u0026rsquo;s reconsider implicit methods too.\nFor instance, let\u0026rsquo;s consider a generic LMM:\n$$u_{n+1} - \\sum_{j=0}^p a_j u_{n-j} = b_{-1} \\Delta t , f(t_{n+1}, u_{n+1}) + \\Delta t \\sum_{j=0}^p b_j f(t_{n-j}, u_{n-j})$$\nTo solve this nonlinear equation, we could use a Newton method but also a fixed-point method and a natural candidate is the following:\n$$u_{n+1}^{(m)} = \\sum_{j=0}^p a_j u_{n-j} + \\Delta t \\sum_{j=0}^p b_j f_{n-j} + \\Delta t b_{-1} f(t_{n+1}, u_{n+1}^{(m-1)})$$\nNotice that this method converges if:\n$$\\left|\\Delta t , b_{-1} , f\u0026rsquo;(t_{n+1}, u_{n+1}) \\right| \u0026lt; 1$$\nSo we have the condition:\n$$\\Delta t \u0026lt; \\frac{1}{|b_{-1}||f\u0026rsquo;|}$$\nEven if the method is unconditionally stable, we may have a condition on $\\Delta t$ for the convergence of the fixed-point.\nIn any case, a good initial condition is required, because with a good $u^{(0)}$ the number of iterations can be reduced: an explicit method can be used to this.\nThese considerations lead to the design of a new class of methods, Heun being one of the possible examples.\nPredictor [P] is an explicit method of order $q_P$\nCorrector [C] is an implicit method of order $q_C$\nPredictor Corrector method:\nP: do one step of P $\\Rightarrow u_{n+1}^{(0)}$\nE: evaluate $f(t_{n+1}, u_{n+1}^{(0)})$\nC: compute $m$ fixed-point iterations of C\nOptional: E: compute $f_{n+1} = f(t_{n+1}, u_{n+1}^{(m)})$\nThese methods go under the name of $\\text{PEC}^m$ or $\\text{PEC}^m\\text{E}$ if the last step is taken.\nExamples: # P = Adams-Bashforth of order 2 C = Adams-Moulton of order 3 $m = 1$\nPEC: $$\\begin{cases} u_{n+1}^{(0)} = u_n^{(1)} + \\frac{\\Delta t}{2}(3f_n^{(0)} - f_{n-1}^{(0)}) \\ f_{n+1}^{(0)} = f(t_{n+1}, u_{n+1}^{(0)}) \\ u_{n+1}^{(1)} = u_n^{(1)} + \\frac{\\Delta t}{12}(5f_{n+1}^{(0)} + 8f_n^{(0)} - f_{n-1}^{(0)}) \\end{cases}$$\nPECE: $$\\begin{cases} u_{n+1}^{(0)} = u_n^{(1)} + \\frac{\\Delta t}{2}(3f_n^{(1)} - f_{n-1}^{(1)}) \\ f_{n+1}^{(0)} = f(t_{n+1}, u_{n+1}^{(0)}) \\ u_{n+1}^{(1)} = u_n^{(1)} + \\frac{\\Delta t}{12}(5f_{n+1}^{(0)} + 8f_n^{(1)} - f_{n-1}^{(1)}) \\ f_{n+1}^{(1)} = f(t_{n+1}, u_{n+1}^{(1)}) \\end{cases}$$\nA natural question is: what is the accuracy of $\\text{PEC}^m$ or $\\text{PECE}^m$? What is the region of absolute stability?\nTheorem (Accuracy): $\\text{PECE}$ methods have (under regularity assumptions on the solution) order of accuracy:\n$$q_{PC} = min(q_P + m, q_C)$$\nFor the region of absolute stability, in general:\n$$\\text{Region}(P) \\subseteq \\text{Region}(\\text{PECE}) \\subseteq \\text{Region}(C)$$\nand $\\text{Region}(\\text{PECE}) \\xrightarrow{m \\to +\\infty} \\text{Region}(C)$\nRunge-Kutta Methods # Heun is also an RK method:\n$$u_{n+1} = u_n + \\Delta t\\left(f_n + f(t_{n+1}, u_n + \\Delta t f_n)\\right)$$\nThis is a 2nd order method but the accuracy is not obtained using more steps, but giving up the linearity of the method.\nIn general, RK are in the form:\n$$u_{n+1} = u_n + \\Delta t , \\mathbf{K} \\cdot \\mathbf{b}$$\nwhere $\\mathbf{K}, \\mathbf{b} \\in \\mathbb{R}^s$\nand $[\\mathbf{K}]_i = f(t_n + c_i \\Delta t, u_n + \\Delta t[A\\mathbf{K}]_i)$\nwhere $[\\mathbf{A}\\mathbf{K}]_i$ is the $i^{th}$ entry of the vector $\\mathbf{A}\\mathbf{K}$\nThe method is characterized by: $s$ (stages), $\\mathbf{b}$, $\\mathbf{c}$ and $\\mathbf{A} \\in \\mathbb{R}^{s \\times s}$\nIn particular, the three \u0026ldquo;ingredients\u0026rdquo; are generally written as:\n$$\\frac{\\mathbf{c} | \\mathbf{A}}{\\mathbf{b}^T} \\quad \\text{(Butcher array)}$$\nIt is assumed that $c_i = \\sum_{j=1}^s a_{ij} \\quad \\forall i = 1, \\ldots s$\nIf $\\mathbf{A}$ is such that $a_{ij} = 0 \\quad \\forall j \\geq i$ then:\n$$K_i = [\\mathbf{K}]i = f(t_n + \\Delta t c_i, u_n + \\Delta t \\sum{j \u0026lt; i} a_{ij} K_j)$$\nso the computation of $K_i$ is immediate. We call this case an explicit RK scheme.\nIf $a_{ij} = 0 \\quad \\forall j \u0026gt; i$, then:\n$$K_i = [\\mathbf{K}]i = f(t_n + \\Delta t c_i, u_n + \\Delta t \\sum{j \u0026lt; i} a_{ij} K_j + \\Delta t a_{ii} K_i)$$\nso we need to solve a non-linear equation to obtain $K_i$. We call this a semi-implicit method.\nIn general, computing $\\mathbf{K}$ requires the solution of a non-linear system (implicit method).\nClearly, the computational cost increases in the three cases.\nDerivation of an Explicit RK Method # A possible strategy to devise an explicit method is to maximize the order of the LTE with Taylor expansion analysis.\nFor instance, for $s = 2$:\n$$\\begin{pmatrix} 0 \u0026amp; 0 \u0026amp; 0 \\ c_2 \u0026amp; a_{21} \u0026amp; 0 \\ \\hline \u0026amp; b_1 \u0026amp; b_2 \\end{pmatrix}$$\nWe have three parameters, but we set $a_{21} = c_2$.\n$$u_{n+1} = u_n + \\Delta t(b_1 f(t_n, u_n) + b_2 f(t_n + c_2 \\Delta t, u_n + \\Delta t c_2 f(t_n, u_n)))$$\n$$y_{ex}(t_n) = y_{ex}(t_n) + \\Delta t \\frac{dy_{ex}}{dt}(t_n) + \\frac{\\Delta t^2}{2}\\frac{d^2y_{ex}}{dt^2}(t_n) + \\frac{\\Delta t^3}{3!}\\frac{d^3y_{ex}}{dt^3}(t_n) + H.O.T.$$\n$$f(t_n + c_2 \\Delta t, u_n + \\Delta t c_2 f(t_n, u_n)) =$$\n$$= f(t_n, u_n) + \\frac{\\partial f}{\\partial t}(t_n, y_n)c_2 \\Delta t + \\frac{\\partial f}{\\partial y}(t_n, y_n)c_2 \\Delta t f(t_n, u_n) =$$\nNotice that: $$\\frac{d^2y}{dt^2} = \\frac{df}{dt} = \\frac{\\partial f}{\\partial t} + \\frac{\\partial f}{dy}\\frac{dy}{dt} = \\frac{\\partial f}{\\partial t} + \\frac{\\partial f}{\\partial y}f$$\n$$\\Rightarrow f(t_n, u_n) + c_2 \\Delta t \\frac{d^2y}{dt^2}(t_n)$$\nThe Taylor expansion applied to the scheme reads:\n$$u_{n+1} = u_n + \\Delta t(b_1 + b_2)f + c_2 b_2 \\Delta t^2 \\frac{d^2y}{dt^2}$$\nWe match therefore the first terms of the Taylor expansion for:\n$$\\begin{align} b_1 + b_2 \u0026amp;= 1 \\ b_2 c_2 \u0026amp;= \\frac{1}{2} \\end{align}$$\nFor $b_2 = \\frac{1}{2}$ we obtain the Heun method.\nThe L.T.E is $\\Delta t , \\tau \\sim O(\\Delta t^3)$\nso the method is 2nd order.\nImplicit methods can be devised from Gaussian quadratures.\nAnalysis of RK # CONSISTENCY: As the previous example shows, we need $\\sum b_i = 1$. This is necessary and sufficient for the consistency.\nZERO-STABILITY: RK are One-Step methods, if $f$ is Lipschitz-Continuous, they are zero-stable.\nORDER: In general, the order we can obtain depends on the number of stages in a (non-trivial) way:\nExplicit RK: ORDER 1 2 3 4 5 6 7 8 $s_{min}$ 1 2 3 4 6 7 9 11 $s_{min}$ = minimum number of stages to obtain the corresponding order.\nABSOLUTE STABILITY # If we write the method for the model problem, we can write:\n$$u_{n+1} = \\mathcal{R}(\\Delta t \\lambda) u_n$$\nThe region of absolute stability is, in general, the non-trivial region where $|\\mathcal{R}(\\Delta t \\lambda)| \u0026lt; 1$ (in $\\mathbb{C}$).\nWhy are RK so popular? # RK are extremely popular, because they can be high order with \u0026ldquo;only\u0026rdquo; one-step.\nOne-step means that:\nwe do not need high-order approximation of the initial data needed by LMM (the initial condition is enough) we can easily perform the time-step ADAPTIVITY (much more difficult with LMM). For the adaptivity, there are smart combinations of RK that obtain the adaptivity (i.e. an error estimate to adapt the step) in an efficient way.\nOne of the most popular is: RK45 Fehlberg: smart combination of an explicit method of order 4 and an explicit of order 5 to adapt the step.\nA Final Note on Stiff problems # Many of the concepts used here can be extended to systems of ODEs:\n$$\\begin{cases} \\frac{d\\mathbf{y}}{dt} = \\mathbf{F}(t, \\mathbf{y}) \\ \\mathbf{y}(0) = \\mathbf{y}_0 \\end{cases}$$\nIn the case of a linear ODE system:\n$$\\mathbf{F} = A , \\mathbf{y} \\quad \\downarrow \\quad \\text{matrix}$$\nThere is, however, an important concept to clarify.\nConsider a simple 2×2 problem:\n$$\\frac{d\\mathbf{y}}{dt} = A\\mathbf{y}$$\nwhere $A$ has the two eigenvalues: $\\begin{cases} \\lambda_1 = -10^6 \\ \\lambda_2 = -1 \\end{cases}$\nIf we use Explicit Euler:\n$$\\mathbf{y}^{n+1} = \\mathbf{y}^n + \\Delta t , A \\mathbf{y}^n$$\nthe region of absolute stability is:\n$$\\Delta t \\leq \\min\\left(\\frac{2}{10^6}, \\frac{2}{1}\\right) = 2 \\cdot 10^{-6}$$\nThe solution, on the other hand, is the linear combination of the two functions:\n$$e^{-10^6 t}, e^{-t}$$\n[Graph showing rapid decay of $e^{-10^6 t}$ vs slower decay of $e^{-t}$]\nTo capture the fast dynamics ($\\lambda = 10^{-6}$), that fades away immediately, we need to take $\\Delta t \\sim 10^{-6}$!!!\nAn explicit method is certainly not a good choice here.\nIn general, we say that a problem is \u0026ldquo;stiff\u0026rdquo; when it may require very stringent time-step in a non-efficient way. The name \u0026ldquo;stiff\u0026rdquo; originates from the coupling of springs with different stiffness:\n[Simple diagram of a mass connected to two springs with different spring constants]\nto study the dynamics of the two real balls, one can write an ODE system.\nIf $K_1 \u0026laquo; K_2$ this is a stiff problem.\nEXERCISE on LMM # Consider the following family of methods (LMM):\n$$u_{n+1} = \\alpha u_n + (1-\\alpha)u_{n-1} + \\Delta t , \\gamma f_{n+1}$$\nInvestigate the convergence properties of the method as function of $\\alpha$ and $\\gamma$. Sol: For $\\alpha \\neq 1$, the method is 2-step. For $\\gamma \\neq 0$, the method is implicit.\nIt\u0026rsquo;s a LMM with: $\\mathbf{a} = \\begin{bmatrix} \\alpha \\ 1-\\alpha \\ 0 \\end{bmatrix} \\begin{bmatrix} 0 \\ 1 \\ 0 \\end{bmatrix}$, $\\mathbf{b} = \\begin{bmatrix} \\gamma \\ 0 \\ 0 \\end{bmatrix} \\begin{bmatrix} -1 \\ 0 \\ 1 \\end{bmatrix}$\nConsistency: $\\sum a_j = 1$: $\\alpha + (1-\\alpha) = 1$ ✓OK $-\\sum j a_j + \\sum b_j = 1$: $0 \\cdot \\alpha - 1 \\cdot (1-\\alpha) + \\gamma = 1$ $\\Rightarrow \\gamma = 2 - \\alpha$\nThe methods: $u_{n+1} = \\alpha u_n + (1-\\alpha)u_{n-1} + \\Delta t (2-\\alpha)f_{n+1}$ are consistent.\nOrder: $\\sum (j)^2 a_j + 2\\sum (-j)^1 b_j = 1$ ? $\\Rightarrow (1-\\alpha) + 2(2-\\alpha) = 1 \\Rightarrow \\alpha = \\frac{4}{3}, \\gamma = \\frac{2}{3}$\nInvestigate the absolute stability of the method with order 2. The method: $u_{n+1} = \\frac{4}{3}u_n - \\frac{1}{3}u_{n-1} + \\Delta t \\frac{2}{3}f_{n+1}$\nis of order 2 (it is, in fact, a BDF of order 2).\n$\\rho(z) = z^2 - \\frac{4}{3}z + \\frac{1}{3} = 0 \\quad r_{1,2} = \\frac{\\frac{4}{3} \\pm \\sqrt{\\frac{16}{9} - \\frac{4}{3}}}{2} = \\frac{4 \\pm 2}{6} = \\frac{2 \\pm 1}{3}$\nR.C. ✓\n$\\Pi_{\\Delta t}(z) = z^2 - \\frac{4}{3}z + \\frac{1}{3} - \\Delta t \\lambda \\frac{2}{3}z^2 = 0$\nLet\u0026rsquo;s consider $\\lambda \\in \\mathbb{R}^-$:\n$(3 - \\Delta t \\lambda 2)z^2 - 4z + 1 = 0$\n$z^2 - \\frac{4z}{3 + 2\\Delta t|\\lambda|} + \\frac{1}{3 + 2\\Delta t|\\lambda|} = 0$\n$r_1 \\cdot r_2 = \\frac{1}{3 + 2\\Delta t|\\lambda|}$\n$r_1 = \\frac{2 + \\sqrt{1 - 2\\Delta t|\\lambda|}}{3 + 2\\Delta t|\\lambda|} \\xrightarrow{\\Delta t \\to 0} 1$\n$|r_1(\\Delta t)| \u0026lt; 1 \\quad \\forall \\Delta t \u0026gt; 0$\n$r_2 = \\frac{2 - \\sqrt{1 - 2\\Delta t|\\lambda|}}{3 + 2\\Delta t|\\lambda|} \\xrightarrow{\\Delta t \\to 0} \\frac{1}{3}$\n$|r_2(\\Delta t)| \u0026lt; \\frac{1}{3}$\nMethod unconditionally stable (Verify with Python/Matlab).\nSolve $$\\begin{cases} \\frac{dy}{dt} = -(1 + t_g(t))y \u0026amp; t \\in [0, 1] \\ y(0) = 1 \\end{cases}$$ with the BDF2 method found and verify your results, knowing that the exact solution is $y_{ex} = e^{-x}\\cos(x)$.\nUsing MATLAB, the problem is easily solved with the QSS subroutines:\nqssstab.m (draws the region of absolute stability) qssmulti.m (solves with a generic LMM)\nWith Python there are many libraries: SciPy, odeint that uses RK, ode, and allows the selection of BDF methods, but generally with adaptive time step.\nNODEPY is potentially an excellent library but buggy.\nIt\u0026rsquo;s excellent for drawing the stability region (see hmm.py on Canvas)\nI have written a simple LMM solver with fixed-point iterations for implicit methods.\nUsing my-hmm.py you can verify that our method is 2nd order:\nmax error $3 \\cdot 10^{-4}$ $8 \\cdot 10^{-5}$ $2 \\cdot 10^{-5}$ $\\Delta t$ 0.05 0.025 0.0125 [Graph showing exact vs numerical solution]\n[Stability region diagram showing a circle in the complex plane] Red = Region of Stability\n"},{"id":4,"href":"/docs/Mathematics/MATH-351-352/MATH-352-PDE-in-Action/Chatper-9-Problems/","title":"习题","section":"数值方法","content":" Problem 1: Finite-Difference Solution # We wish to discretize and solve the boundary-value problem\n$$-\\mu\\frac{d^2u}{dx^2} + \\beta\\frac{du}{dx} = f(x),\\quad x\\in(0,1),\\quad u(0)=u(1)=0$$\nOr equivalently:\n$$\\begin{cases} -\\mu u\u0026rsquo;\u0026rsquo;(x) + \\beta u\u0026rsquo;(x) = f(x), \u0026amp; 0\u0026lt;x\u0026lt;1,\\ u(0)=0,; u(1)=0. \\end{cases}$$\nWhere $\\mu\u0026gt;0$ and $\\beta$ is a constant (possibly negative), and $f\\in C^0(0,1)$.\n1. Finite-Difference Discretization # Divide $[0,1]$ into $N$ equal subintervals so that $\\Delta x = \\frac{1}{N}$. Let\n$$x_j = j\\Delta x,\\quad j=0,1,2,\\dots,N,$$\nso that $x_0=0$ and $x_N=1$. We approximate $u(x_j)\\approx u_j$. The boundary conditions become $u_0=0$ and $u_N=0$.\n1.1 Central Difference Scheme (for the interior points) # A standard centered second-difference for $u\u0026rsquo;\u0026rsquo;(x)$ at $x_j$ is:\n$$u\u0026rsquo;\u0026rsquo;(x_j) \\approx \\frac{u_{j+1} - 2u_j + u_{j-1}}{(\\Delta x)^2}.$$\nA standard centered first-difference for $u\u0026rsquo;(x)$ at $x_j$ is:\n$$u\u0026rsquo;(x_j) \\approx \\frac{u_{j+1} - u_{j-1}}{2\\Delta x}.$$\nHence, the PDE $-\\mu u\u0026rsquo;\u0026rsquo;(x) + \\beta u\u0026rsquo;(x)=f(x)$ becomes for $j=1,\\dots,N-1$:\n$$-\\mu\\frac{u_{j+1} - 2u_j + u_{j-1}}{(\\Delta x)^2} + \\beta\\frac{u_{j+1} - u_{j-1}}{2\\Delta x} = f(x_j).$$\nWe impose $u_0 = 0$ and $u_N=0$.\n2. Local Truncation Error # The second-order central difference for $u\u0026rsquo;\u0026rsquo;$ is $O((\\Delta x)^2)$ accurate. The central difference for $u\u0026rsquo;$ is also $O((\\Delta x)^2)$ accurate. Hence the local truncation error of the combined scheme is $O((\\Delta x)^2)$.\n3. Matrix Form # Collect unknowns $u_1,u_2,\\dots,u_{N-1}$ into a vector $\\mathbf{u}=(u_1,\\dots,u_{N-1})^T$. The boundary values $u_0=0$ and $u_N=0$ are known.\nRewrite the finite-difference equation for an interior index $j$:\n$$-\\mu\\frac{u_{j+1} - 2u_j + u_{j-1}}{(\\Delta x)^2} + \\beta\\frac{u_{j+1} - u_{j-1}}{2\\Delta x} = f(x_j).$$\nWe can factor out coefficients:\nLet $\\alpha \\equiv \\frac{\\mu}{(\\Delta x)^2}$. Let $\\gamma \\equiv \\frac{\\beta}{2\\Delta x}$. Then the coefficient of $u_j$ is $2\\alpha$, the coefficient of $u_{j+1}$ is $-\\alpha + \\gamma$, and the coefficient of $u_{j-1}$ is $-\\alpha - \\gamma$. Thus, in matrix form:\n$$\\begin{pmatrix} 2\\alpha \u0026amp; -\\alpha+\\gamma \u0026amp; 0 \u0026amp; \\cdots \u0026amp; 0\\ -\\alpha-\\gamma \u0026amp; 2\\alpha \u0026amp; -\\alpha+\\gamma \u0026amp; \\cdots \u0026amp; 0\\ 0 \u0026amp; \\ddots \u0026amp; \\ddots \u0026amp; \\ddots \u0026amp; \\vdots\\ \\vdots \u0026amp; \u0026amp; -\\alpha-\\gamma \u0026amp; 2\\alpha \u0026amp; -\\alpha+\\gamma\\ 0 \u0026amp; \\cdots \u0026amp; 0 \u0026amp; -\\alpha-\\gamma \u0026amp; 2\\alpha \\end{pmatrix} \\begin{pmatrix} u_1\\ u_2\\ \\vdots \\ u_{N-2}\\ u_{N-1} \\end{pmatrix} # \\begin{pmatrix} f(x_1)\\ f(x_2)\\ \\vdots \\ f(x_{N-2})\\ f(x_{N-1}) \\end{pmatrix}.$$\nThis is a tridiagonal linear system, solvable by standard methods (e.g., Thomas algorithm).\n4. Quality of the Solution vs. $\\beta/\\mu$ # The ratio $\\frac{\\beta}{\\mu}$ often plays the role of a Péclet-type number in advection-diffusion problems.\nIf $\\frac{\\beta}{\\mu}$ is small (diffusion-dominated), the solution is usually smooth and well-behaved under central differencing. If $\\frac{\\beta}{\\mu}$ is large (advection-dominated), pure central differences may produce spurious oscillations unless $\\Delta x$ is refined or upwinding techniques are used to stabilize the discrete solution. 5. Upwind Method (First Order) for $\\beta\u0026lt;0$ # When $\\beta\u0026lt;0$, the \u0026ldquo;flow\u0026rdquo; is from right to left, so an upwind difference for the first derivative $\\beta u\u0026rsquo;(x)$ uses values on the \u0026ldquo;right\u0026rdquo; side at each $j$. Concretely, for $\\beta\u0026lt;0$, we replace:\n$$u\u0026rsquo;(x_j) \\approx \\frac{u_{j+1} - u_j}{\\Delta x} \\quad \\text{(a \u0026ldquo;backward\u0026rdquo; upwind if flow is leftward)}.$$\nHence, the difference equation becomes:\n$$-\\mu\\frac{u_{j+1} - 2u_j + u_{j-1}}{(\\Delta x)^2} + \\beta\\frac{u_{j+1} - u_j}{\\Delta x} = f(x_j), \\quad j=1,\\dots,N-1.$$\n(This replaces the central difference in the advective term by a one-sided upwind difference.)\n5.1 No Spurious Oscillations # The first-order upwind scheme for linear advection-diffusion is known to be monotone for any $\\Delta x\u0026gt;0$ when $\\beta\u0026lt;0$ (or, more generally, for any sign of $\\beta$ if we choose the correct upwind direction). Monotonicity prevents nonphysical oscillations. In short:\nCentral difference can oscillate if $|\\beta|$ is large relative to $\\mu$. Upwind difference sacrifices some accuracy (only first order in $\\Delta x$ for the advective term) but remains stable and nonoscillatory for any step size $\\Delta x$. Thus, with $\\beta\u0026lt;0$, the upwind approach $u\u0026rsquo;(x_j)\\approx (u_{j+1}-u_j)/\\Delta x$ ensures a stable, physically plausible solution without oscillations.\n6. Summary # Equation \u0026amp; Discretization\n$$-\\mu u\u0026rsquo;\u0026rsquo; + \\beta u\u0026rsquo; = f(x), \\quad u(0)=u(1)=0 \\longrightarrow \\begin{cases} -\\mu\\frac{u_{j+1}-2u_j+u_{j-1}}{(\\Delta x)^2} +\\beta\\frac{u_{j+1}-u_{j-1}}{2\\Delta x} = f(x_j),\\ u_0=0,;u_N=0. \\end{cases}$$\nLocal Truncation Error is $O((\\Delta x)^2)$ for the centered scheme.\nMatrix Form: A standard tridiagonal system with bands $-\\alpha\\mp \\gamma$, $2\\alpha$, $-\\alpha\\pm \\gamma$.\nEffect of $\\beta/\\mu$: If $|\\beta|$ is large relative to $\\mu$, central differences can produce oscillatory solutions; upwind methods help.\nUpwind Method (for $\\beta\u0026lt;0$): $$-\\mu\\frac{u_{j+1}-2u_j+u_{j-1}}{(\\Delta x)^2} + \\beta\\frac{u_{j+1}-u_j}{\\Delta x} = f(x_j)$$ prevents oscillations for any $\\Delta x$.\n"},{"id":5,"href":"/posts/creating-a-new-theme/","title":"Creating a New Theme","section":"Blog","content":" Introduction # This tutorial will show you how to create a simple theme in Hugo. I assume that you are familiar with HTML, the bash command line, and that you are comfortable using Markdown to format content. I\u0026rsquo;ll explain how Hugo uses templates and how you can organize your templates to create a theme. I won\u0026rsquo;t cover using CSS to style your theme.\nWe\u0026rsquo;ll start with creating a new site with a very basic template. Then we\u0026rsquo;ll add in a few pages and posts. With small variations on that, you will be able to create many different types of web sites.\nIn this tutorial, commands that you enter will start with the \u0026ldquo;$\u0026rdquo; prompt. The output will follow. Lines that start with \u0026ldquo;#\u0026rdquo; are comments that I\u0026rsquo;ve added to explain a point. When I show updates to a file, the \u0026ldquo;:wq\u0026rdquo; on the last line means to save the file.\nHere\u0026rsquo;s an example:\n## this is a comment $ echo this is a command this is a command ## edit the file $ vi foo.md +++ date = \"2014-09-28\" title = \"creating a new theme\" +++ bah and humbug :wq ## show it $ cat foo.md +++ date = \"2014-09-28\" title = \"creating a new theme\" +++ bah and humbug $ Some Definitions # There are a few concepts that you need to understand before creating a theme.\nSkins # Skins are the files responsible for the look and feel of your site. It’s the CSS that controls colors and fonts, it’s the Javascript that determines actions and reactions. It’s also the rules that Hugo uses to transform your content into the HTML that the site will serve to visitors.\nYou have two ways to create a skin. The simplest way is to create it in the layouts/ directory. If you do, then you don’t have to worry about configuring Hugo to recognize it. The first place that Hugo will look for rules and files is in the layouts/ directory so it will always find the skin.\nYour second choice is to create it in a sub-directory of the themes/ directory. If you do, then you must always tell Hugo where to search for the skin. It’s extra work, though, so why bother with it?\nThe difference between creating a skin in layouts/ and creating it in themes/ is very subtle. A skin in layouts/ can’t be customized without updating the templates and static files that it is built from. A skin created in themes/, on the other hand, can be and that makes it easier for other people to use it.\nThe rest of this tutorial will call a skin created in the themes/ directory a theme.\nNote that you can use this tutorial to create a skin in the layouts/ directory if you wish to. The main difference will be that you won’t need to update the site’s configuration file to use a theme.\nThe Home Page # The home page, or landing page, is the first page that many visitors to a site see. It is the index.html file in the root directory of the web site. Since Hugo writes files to the public/ directory, our home page is public/index.html.\nSite Configuration File # When Hugo runs, it looks for a configuration file that contains settings that override default values for the entire site. The file can use TOML, YAML, or JSON. I prefer to use TOML for my configuration files. If you prefer to use JSON or YAML, you’ll need to translate my examples. You’ll also need to change the name of the file since Hugo uses the extension to determine how to process it.\nHugo translates Markdown files into HTML. By default, Hugo expects to find Markdown files in your content/ directory and template files in your themes/ directory. It will create HTML files in your public/ directory. You can change this by specifying alternate locations in the configuration file.\nContent # Content is stored in text files that contain two sections. The first section is the “front matter,” which is the meta-information on the content. The second section contains Markdown that will be converted to HTML.\nFront Matter # The front matter is information about the content. Like the configuration file, it can be written in TOML, YAML, or JSON. Unlike the configuration file, Hugo doesn’t use the file’s extension to know the format. It looks for markers to signal the type. TOML is surrounded by “+++”, YAML by “---”, and JSON is enclosed in curly braces. I prefer to use TOML, so you’ll need to translate my examples if you prefer YAML or JSON.\nThe information in the front matter is passed into the template before the content is rendered into HTML.\nMarkdown # Content is written in Markdown which makes it easier to create the content. Hugo runs the content through a Markdown engine to create the HTML which will be written to the output file.\nTemplate Files # Hugo uses template files to render content into HTML. Template files are a bridge between the content and presentation. Rules in the template define what content is published, where it\u0026rsquo;s published to, and how it will rendered to the HTML file. The template guides the presentation by specifying the style to use.\nThere are three types of templates: single, list, and partial. Each type takes a bit of content as input and transforms it based on the commands in the template.\nHugo uses its knowledge of the content to find the template file used to render the content. If it can’t find a template that is an exact match for the content, it will shift up a level and search from there. It will continue to do so until it finds a matching template or runs out of templates to try. If it can’t find a template, it will use the default template for the site.\nPlease note that you can use the front matter to influence Hugo’s choice of templates.\nSingle Template # A single template is used to render a single piece of content. For example, an article or post would be a single piece of content and use a single template.\nList Template # A list template renders a group of related content. That could be a summary of recent postings or all articles in a category. List templates can contain multiple groups.\nThe homepage template is a special type of list template. Hugo assumes that the home page of your site will act as the portal for the rest of the content in the site.\nPartial Template # A partial template is a template that can be included in other templates. Partial templates must be called using the “partial” template command. They are very handy for rolling up common behavior. For example, your site may have a banner that all pages use. Instead of copying the text of the banner into every single and list template, you could create a partial with the banner in it. That way if you decide to change the banner, you only have to change the partial template.\nCreate a New Site # Let\u0026rsquo;s use Hugo to create a new web site. I\u0026rsquo;m a Mac user, so I\u0026rsquo;ll create mine in my home directory, in the Sites folder. If you\u0026rsquo;re using Linux, you might have to create the folder first.\nThe \u0026ldquo;new site\u0026rdquo; command will create a skeleton of a site. It will give you the basic directory structure and a useable configuration file.\n$ hugo new site ~/Sites/zafta $ cd ~/Sites/zafta $ ls -l total 8 drwxr-xr-x 7 quoha staff 238 Sep 29 16:49 . drwxr-xr-x 3 quoha staff 102 Sep 29 16:49 .. drwxr-xr-x 2 quoha staff 68 Sep 29 16:49 archetypes -rw-r--r-- 1 quoha staff 82 Sep 29 16:49 config.toml drwxr-xr-x 2 quoha staff 68 Sep 29 16:49 content drwxr-xr-x 2 quoha staff 68 Sep 29 16:49 layouts drwxr-xr-x 2 quoha staff 68 Sep 29 16:49 static $ Take a look in the content/ directory to confirm that it is empty.\nThe other directories (archetypes/, layouts/, and static/) are used when customizing a theme. That\u0026rsquo;s a topic for a different tutorial, so please ignore them for now.\nGenerate the HTML For the New Site # Running the hugo command with no options will read all the available content and generate the HTML files. It will also copy all static files (that\u0026rsquo;s everything that\u0026rsquo;s not content). Since we have an empty site, it won\u0026rsquo;t do much, but it will do it very quickly.\n$ hugo --verbose INFO: 2014/09/29 Using config file: config.toml INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/static/ to /Users/quoha/Sites/zafta/public/ WARN: 2014/09/29 Unable to locate layout: [index.html _default/list.html _default/single.html] WARN: 2014/09/29 Unable to locate layout: [404.html] 0 draft content 0 future content 0 pages created 0 tags created 0 categories created in 2 ms $ The \u0026ldquo;--verbose\u0026rdquo; flag gives extra information that will be helpful when we build the template. Every line of the output that starts with \u0026ldquo;INFO:\u0026rdquo; or \u0026ldquo;WARN:\u0026rdquo; is present because we used that flag. The lines that start with \u0026ldquo;WARN:\u0026rdquo; are warning messages. We\u0026rsquo;ll go over them later.\nWe can verify that the command worked by looking at the directory again.\n$ ls -l total 8 drwxr-xr-x 2 quoha staff 68 Sep 29 16:49 archetypes -rw-r--r-- 1 quoha staff 82 Sep 29 16:49 config.toml drwxr-xr-x 2 quoha staff 68 Sep 29 16:49 content drwxr-xr-x 2 quoha staff 68 Sep 29 16:49 layouts drwxr-xr-x 4 quoha staff 136 Sep 29 17:02 public drwxr-xr-x 2 quoha staff 68 Sep 29 16:49 static $ See that new public/ directory? Hugo placed all generated content there. When you\u0026rsquo;re ready to publish your web site, that\u0026rsquo;s the place to start. For now, though, let\u0026rsquo;s just confirm that we have what we\u0026rsquo;d expect from a site with no content.\n$ ls -l public total 16 -rw-r--r-- 1 quoha staff 416 Sep 29 17:02 index.xml -rw-r--r-- 1 quoha staff 262 Sep 29 17:02 sitemap.xml $ Hugo created two XML files, which is standard, but there are no HTML files.\nTest the New Site # Verify that you can run the built-in web server. It will dramatically shorten your development cycle if you do. Start it by running the \u0026ldquo;server\u0026rdquo; command. If it is successful, you will see output similar to the following:\n$ hugo server --verbose INFO: 2014/09/29 Using config file: /Users/quoha/Sites/zafta/config.toml INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/static/ to /Users/quoha/Sites/zafta/public/ WARN: 2014/09/29 Unable to locate layout: [index.html _default/list.html _default/single.html] WARN: 2014/09/29 Unable to locate layout: [404.html] 0 draft content 0 future content 0 pages created 0 tags created 0 categories created in 2 ms Serving pages from /Users/quoha/Sites/zafta/public Web Server is available at http://localhost:1313 Press Ctrl+C to stop Connect to the listed URL (it\u0026rsquo;s on the line that starts with \u0026ldquo;Web Server\u0026rdquo;). If everything is working correctly, you should get a page that shows the following:\nindex.xml sitemap.xml That\u0026rsquo;s a listing of your public/ directory. Hugo didn\u0026rsquo;t create a home page because our site has no content. When there\u0026rsquo;s no index.html file in a directory, the server lists the files in the directory, which is what you should see in your browser.\nLet’s go back and look at those warnings again.\nWARN: 2014/09/29 Unable to locate layout: [index.html _default/list.html _default/single.html] WARN: 2014/09/29 Unable to locate layout: [404.html] That second warning is easier to explain. We haven’t created a template to be used to generate “page not found errors.” The 404 message is a topic for a separate tutorial.\nNow for the first warning. It is for the home page. You can tell because the first layout that it looked for was “index.html.” That’s only used by the home page.\nI like that the verbose flag causes Hugo to list the files that it\u0026rsquo;s searching for. For the home page, they are index.html, _default/list.html, and _default/single.html. There are some rules that we\u0026rsquo;ll cover later that explain the names and paths. For now, just remember that Hugo couldn\u0026rsquo;t find a template for the home page and it told you so.\nAt this point, you\u0026rsquo;ve got a working installation and site that we can build upon. All that’s left is to add some content and a theme to display it.\nCreate a New Theme # Hugo doesn\u0026rsquo;t ship with a default theme. There are a few available (I counted a dozen when I first installed Hugo) and Hugo comes with a command to create new themes.\nWe\u0026rsquo;re going to create a new theme called \u0026ldquo;zafta.\u0026rdquo; Since the goal of this tutorial is to show you how to fill out the files to pull in your content, the theme will not contain any CSS. In other words, ugly but functional.\nAll themes have opinions on content and layout. For example, Zafta uses \u0026ldquo;post\u0026rdquo; over \u0026ldquo;blog\u0026rdquo;. Strong opinions make for simpler templates but differing opinions make it tougher to use themes. When you build a theme, consider using the terms that other themes do.\nCreate a Skeleton # Use the hugo \u0026ldquo;new\u0026rdquo; command to create the skeleton of a theme. This creates the directory structure and places empty files for you to fill out.\n$ hugo new theme zafta $ ls -l total 8 drwxr-xr-x 2 quoha staff 68 Sep 29 16:49 archetypes -rw-r--r-- 1 quoha staff 82 Sep 29 16:49 config.toml drwxr-xr-x 2 quoha staff 68 Sep 29 16:49 content drwxr-xr-x 2 quoha staff 68 Sep 29 16:49 layouts drwxr-xr-x 4 quoha staff 136 Sep 29 17:02 public drwxr-xr-x 2 quoha staff 68 Sep 29 16:49 static drwxr-xr-x 3 quoha staff 102 Sep 29 17:31 themes $ find themes -type f | xargs ls -l -rw-r--r-- 1 quoha staff 1081 Sep 29 17:31 themes/zafta/LICENSE.md -rw-r--r-- 1 quoha staff 0 Sep 29 17:31 themes/zafta/archetypes/default.md -rw-r--r-- 1 quoha staff 0 Sep 29 17:31 themes/zafta/layouts/_default/list.html -rw-r--r-- 1 quoha staff 0 Sep 29 17:31 themes/zafta/layouts/_default/single.html -rw-r--r-- 1 quoha staff 0 Sep 29 17:31 themes/zafta/layouts/index.html -rw-r--r-- 1 quoha staff 0 Sep 29 17:31 themes/zafta/layouts/partials/footer.html -rw-r--r-- 1 quoha staff 0 Sep 29 17:31 themes/zafta/layouts/partials/header.html -rw-r--r-- 1 quoha staff 93 Sep 29 17:31 themes/zafta/theme.toml $ The skeleton includes templates (the files ending in .html), license file, a description of your theme (the theme.toml file), and an empty archetype.\nPlease take a minute to fill out the theme.toml and LICENSE.md files. They\u0026rsquo;re optional, but if you\u0026rsquo;re going to be distributing your theme, it tells the world who to praise (or blame). It\u0026rsquo;s also nice to declare the license so that people will know how they can use the theme.\n$ vi themes/zafta/theme.toml author = \"michael d henderson\" description = \"a minimal working template\" license = \"MIT\" name = \"zafta\" source_repo = \"\" tags = [\"tags\", \"categories\"] :wq ## also edit themes/zafta/LICENSE.md and change ## the bit that says \"YOUR_NAME_HERE\" Note that the the skeleton\u0026rsquo;s template files are empty. Don\u0026rsquo;t worry, we\u0026rsquo;ll be changing that shortly.\n$ find themes/zafta -name '*.html' | xargs ls -l -rw-r--r-- 1 quoha staff 0 Sep 29 17:31 themes/zafta/layouts/_default/list.html -rw-r--r-- 1 quoha staff 0 Sep 29 17:31 themes/zafta/layouts/_default/single.html -rw-r--r-- 1 quoha staff 0 Sep 29 17:31 themes/zafta/layouts/index.html -rw-r--r-- 1 quoha staff 0 Sep 29 17:31 themes/zafta/layouts/partials/footer.html -rw-r--r-- 1 quoha staff 0 Sep 29 17:31 themes/zafta/layouts/partials/header.html $ Update the Configuration File to Use the Theme # Now that we\u0026rsquo;ve got a theme to work with, it\u0026rsquo;s a good idea to add the theme name to the configuration file. This is optional, because you can always add \u0026ldquo;-t zafta\u0026rdquo; on all your commands. I like to put it the configuration file because I like shorter command lines. If you don\u0026rsquo;t put it in the configuration file or specify it on the command line, you won\u0026rsquo;t use the template that you\u0026rsquo;re expecting to.\nEdit the file to add the theme, add a title for the site, and specify that all of our content will use the TOML format.\n$ vi config.toml theme = \"zafta\" baseurl = \"\" languageCode = \"en-us\" title = \"zafta - totally refreshing\" MetaDataFormat = \"toml\" :wq $ Generate the Site # Now that we have an empty theme, let\u0026rsquo;s generate the site again.\n$ hugo --verbose INFO: 2014/09/29 Using config file: /Users/quoha/Sites/zafta/config.toml INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/themes/zafta/static/ to /Users/quoha/Sites/zafta/public/ INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/static/ to /Users/quoha/Sites/zafta/public/ WARN: 2014/09/29 Unable to locate layout: [404.html theme/404.html] 0 draft content 0 future content 0 pages created 0 tags created 0 categories created in 2 ms $ Did you notice that the output is different? The warning message for the home page has disappeared and we have an additional information line saying that Hugo is syncing from the theme\u0026rsquo;s directory.\nLet\u0026rsquo;s check the public/ directory to see what Hugo\u0026rsquo;s created.\n$ ls -l public total 16 drwxr-xr-x 2 quoha staff 68 Sep 29 17:56 css -rw-r--r-- 1 quoha staff 0 Sep 29 17:56 index.html -rw-r--r-- 1 quoha staff 407 Sep 29 17:56 index.xml drwxr-xr-x 2 quoha staff 68 Sep 29 17:56 js -rw-r--r-- 1 quoha staff 243 Sep 29 17:56 sitemap.xml $ Notice four things:\nHugo created a home page. This is the file public/index.html. Hugo created a css/ directory. Hugo created a js/ directory. Hugo claimed that it created 0 pages. It created a file and copied over static files, but didn\u0026rsquo;t create any pages. That\u0026rsquo;s because it considers a \u0026ldquo;page\u0026rdquo; to be a file created directly from a content file. It doesn\u0026rsquo;t count things like the index.html files that it creates automatically. The Home Page # Hugo supports many different types of templates. The home page is special because it gets its own type of template and its own template file. The file, layouts/index.html, is used to generate the HTML for the home page. The Hugo documentation says that this is the only required template, but that depends. Hugo\u0026rsquo;s warning message shows that it looks for three different templates:\nWARN: 2014/09/29 Unable to locate layout: [index.html _default/list.html _default/single.html] If it can\u0026rsquo;t find any of these, it completely skips creating the home page. We noticed that when we built the site without having a theme installed.\nWhen Hugo created our theme, it created an empty home page template. Now, when we build the site, Hugo finds the template and uses it to generate the HTML for the home page. Since the template file is empty, the HTML file is empty, too. If the template had any rules in it, then Hugo would have used them to generate the home page.\n$ find . -name index.html | xargs ls -l -rw-r--r-- 1 quoha staff 0 Sep 29 20:21 ./public/index.html -rw-r--r-- 1 quoha staff 0 Sep 29 17:31 ./themes/zafta/layouts/index.html $ The Magic of Static # Hugo does two things when generating the site. It uses templates to transform content into HTML and it copies static files into the site. Unlike content, static files are not transformed. They are copied exactly as they are.\nHugo assumes that your site will use both CSS and JavaScript, so it creates directories in your theme to hold them. Remember opinions? Well, Hugo\u0026rsquo;s opinion is that you\u0026rsquo;ll store your CSS in a directory named css/ and your JavaScript in a directory named js/. If you don\u0026rsquo;t like that, you can change the directory names in your theme directory or even delete them completely. Hugo\u0026rsquo;s nice enough to offer its opinion, then behave nicely if you disagree.\n$ find themes/zafta -type d | xargs ls -ld drwxr-xr-x 7 quoha staff 238 Sep 29 17:38 themes/zafta drwxr-xr-x 3 quoha staff 102 Sep 29 17:31 themes/zafta/archetypes drwxr-xr-x 5 quoha staff 170 Sep 29 17:31 themes/zafta/layouts drwxr-xr-x 4 quoha staff 136 Sep 29 17:31 themes/zafta/layouts/_default drwxr-xr-x 4 quoha staff 136 Sep 29 17:31 themes/zafta/layouts/partials drwxr-xr-x 4 quoha staff 136 Sep 29 17:31 themes/zafta/static drwxr-xr-x 2 quoha staff 68 Sep 29 17:31 themes/zafta/static/css drwxr-xr-x 2 quoha staff 68 Sep 29 17:31 themes/zafta/static/js $ The Theme Development Cycle # When you\u0026rsquo;re working on a theme, you will make changes in the theme\u0026rsquo;s directory, rebuild the site, and check your changes in the browser. Hugo makes this very easy:\nPurge the public/ directory. Run the built in web server in watch mode. Open your site in a browser. Update the theme. Glance at your browser window to see changes. Return to step 4. I’ll throw in one more opinion: never work on a theme on a live site. Always work on a copy of your site. Make changes to your theme, test them, then copy them up to your site. For added safety, use a tool like Git to keep a revision history of your content and your theme. Believe me when I say that it is too easy to lose both your mind and your changes.\nCheck the main Hugo site for information on using Git with Hugo.\nPurge the public/ Directory # When generating the site, Hugo will create new files and update existing ones in the public/ directory. It will not delete files that are no longer used. For example, files that were created in the wrong directory or with the wrong title will remain. If you leave them, you might get confused by them later. I recommend cleaning out your site prior to generating it.\nNote: If you\u0026rsquo;re building on an SSD, you should ignore this. Churning on a SSD can be costly.\nHugo\u0026rsquo;s Watch Option # Hugo\u0026rsquo;s \u0026ldquo;--watch\u0026rdquo; option will monitor the content/ and your theme directories for changes and rebuild the site automatically.\nLive Reload # Hugo\u0026rsquo;s built in web server supports live reload. As pages are saved on the server, the browser is told to refresh the page. Usually, this happens faster than you can say, \u0026ldquo;Wow, that\u0026rsquo;s totally amazing.\u0026rdquo;\nDevelopment Commands # Use the following commands as the basis for your workflow.\n## purge old files. hugo will recreate the public directory. ## $ rm -rf public ## ## run hugo in watch mode ## $ hugo server --watch --verbose Here\u0026rsquo;s sample output showing Hugo detecting a change to the template for the home page. Once generated, the web browser automatically reloaded the page. I\u0026rsquo;ve said this before, it\u0026rsquo;s amazing.\n$ rm -rf public $ hugo server --watch --verbose INFO: 2014/09/29 Using config file: /Users/quoha/Sites/zafta/config.toml INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/themes/zafta/static/ to /Users/quoha/Sites/zafta/public/ INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/static/ to /Users/quoha/Sites/zafta/public/ WARN: 2014/09/29 Unable to locate layout: [404.html theme/404.html] 0 draft content 0 future content 0 pages created 0 tags created 0 categories created in 2 ms Watching for changes in /Users/quoha/Sites/zafta/content Serving pages from /Users/quoha/Sites/zafta/public Web Server is available at http://localhost:1313 Press Ctrl+C to stop INFO: 2014/09/29 File System Event: [\"/Users/quoha/Sites/zafta/themes/zafta/layouts/index.html\": MODIFY|ATTRIB] Change detected, rebuilding site WARN: 2014/09/29 Unable to locate layout: [404.html theme/404.html] 0 draft content 0 future content 0 pages created 0 tags created 0 categories created in 1 ms Update the Home Page Template # The home page is one of a few special pages that Hugo creates automatically. As mentioned earlier, it looks for one of three files in the theme\u0026rsquo;s layout/ directory:\nindex.html _default/list.html _default/single.html We could update one of the default templates, but a good design decision is to update the most specific template available. That\u0026rsquo;s not a hard and fast rule (in fact, we\u0026rsquo;ll break it a few times in this tutorial), but it is a good generalization.\nMake a Static Home Page # Right now, that page is empty because we don\u0026rsquo;t have any content and we don\u0026rsquo;t have any logic in the template. Let\u0026rsquo;s change that by adding some text to the template.\n$ vi themes/zafta/layouts/index.html \u003c!DOCTYPE html\u003e hugo says hello!\n:wq $ Build the web site and then verify the results.\n$ hugo --verbose INFO: 2014/09/29 Using config file: /Users/quoha/Sites/zafta/config.toml INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/themes/zafta/static/ to /Users/quoha/Sites/zafta/public/ INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/static/ to /Users/quoha/Sites/zafta/public/ WARN: 2014/09/29 Unable to locate layout: [404.html theme/404.html] 0 draft content 0 future content 0 pages created 0 tags created 0 categories created in 2 ms $ find public -type f -name '*.html' | xargs ls -l -rw-r--r-- 1 quoha staff 78 Sep 29 21:26 public/index.html $ cat public/index.html \u003c!DOCTYPE html\u003e hugo says hello!\nLive Reload # Note: If you\u0026rsquo;re running the server with the --watch option, you\u0026rsquo;ll see different content in the file:\n$ cat public/index.html \u003c!DOCTYPE html\u003e hugo says hello!\nWhen you use --watch, the Live Reload script is added by Hugo. Look for live reload in the documentation to see what it does and how to disable it.\nBuild a \u0026ldquo;Dynamic\u0026rdquo; Home Page # \u0026ldquo;Dynamic home page?\u0026rdquo; Hugo\u0026rsquo;s a static web site generator, so this seems an odd thing to say. I mean let\u0026rsquo;s have the home page automatically reflect the content in the site every time Hugo builds it. We\u0026rsquo;ll use iteration in the template to do that.\nCreate New Posts # Now that we have the home page generating static content, let\u0026rsquo;s add some content to the site. We\u0026rsquo;ll display these posts as a list on the home page and on their own page, too.\nHugo has a command to generate a skeleton post, just like it does for sites and themes.\n$ hugo --verbose new post/first.md INFO: 2014/09/29 Using config file: /Users/quoha/Sites/zafta/config.toml INFO: 2014/09/29 attempting to create post/first.md of post INFO: 2014/09/29 curpath: /Users/quoha/Sites/zafta/themes/zafta/archetypes/default.md ERROR: 2014/09/29 Unable to Cast to map[string]interface{} $ That wasn\u0026rsquo;t very nice, was it?\nThe \u0026ldquo;new\u0026rdquo; command uses an archetype to create the post file. Hugo created an empty default archetype file, but that causes an error when there\u0026rsquo;s a theme. For me, the workaround was to create an archetypes file specifically for the post type.\n$ vi themes/zafta/archetypes/post.md +++ Description = \"\" Tags = [] Categories = [] +++ :wq $ find themes/zafta/archetypes -type f | xargs ls -l -rw-r--r-- 1 quoha staff 0 Sep 29 21:53 themes/zafta/archetypes/default.md -rw-r--r-- 1 quoha staff 51 Sep 29 21:54 themes/zafta/archetypes/post.md $ hugo --verbose new post/first.md INFO: 2014/09/29 Using config file: /Users/quoha/Sites/zafta/config.toml INFO: 2014/09/29 attempting to create post/first.md of post INFO: 2014/09/29 curpath: /Users/quoha/Sites/zafta/themes/zafta/archetypes/post.md INFO: 2014/09/29 creating /Users/quoha/Sites/zafta/content/post/first.md /Users/quoha/Sites/zafta/content/post/first.md created $ hugo --verbose new post/second.md INFO: 2014/09/29 Using config file: /Users/quoha/Sites/zafta/config.toml INFO: 2014/09/29 attempting to create post/second.md of post INFO: 2014/09/29 curpath: /Users/quoha/Sites/zafta/themes/zafta/archetypes/post.md INFO: 2014/09/29 creating /Users/quoha/Sites/zafta/content/post/second.md /Users/quoha/Sites/zafta/content/post/second.md created $ ls -l content/post total 16 -rw-r--r-- 1 quoha staff 104 Sep 29 21:54 first.md -rw-r--r-- 1 quoha staff 105 Sep 29 21:57 second.md $ cat content/post/first.md +++ Categories = [] Description = \"\" Tags = [] date = \"2014-09-29T21:54:53-05:00\" title = \"first\" +++ my first post $ cat content/post/second.md +++ Categories = [] Description = \"\" Tags = [] date = \"2014-09-29T21:57:09-05:00\" title = \"second\" +++ my second post $ Build the web site and then verify the results.\n$ rm -rf public $ hugo --verbose INFO: 2014/09/29 Using config file: /Users/quoha/Sites/zafta/config.toml INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/themes/zafta/static/ to /Users/quoha/Sites/zafta/public/ INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/static/ to /Users/quoha/Sites/zafta/public/ INFO: 2014/09/29 found taxonomies: map[string]string{\"category\":\"categories\", \"tag\":\"tags\"} WARN: 2014/09/29 Unable to locate layout: [404.html theme/404.html] 0 draft content 0 future content 2 pages created 0 tags created 0 categories created in 4 ms $ The output says that it created 2 pages. Those are our new posts:\n$ find public -type f -name '*.html' | xargs ls -l -rw-r--r-- 1 quoha staff 78 Sep 29 22:13 public/index.html -rw-r--r-- 1 quoha staff 0 Sep 29 22:13 public/post/first/index.html -rw-r--r-- 1 quoha staff 0 Sep 29 22:13 public/post/index.html -rw-r--r-- 1 quoha staff 0 Sep 29 22:13 public/post/second/index.html $ The new files are empty because because the templates used to generate the content are empty. The homepage doesn\u0026rsquo;t show the new content, either. We have to update the templates to add the posts.\nList and Single Templates # In Hugo, we have three major kinds of templates. There\u0026rsquo;s the home page template that we updated previously. It is used only by the home page. We also have \u0026ldquo;single\u0026rdquo; templates which are used to generate output for a single content file. We also have \u0026ldquo;list\u0026rdquo; templates that are used to group multiple pieces of content before generating output.\nGenerally speaking, list templates are named \u0026ldquo;list.html\u0026rdquo; and single templates are named \u0026ldquo;single.html.\u0026rdquo;\nThere are three other types of templates: partials, content views, and terms. We will not go into much detail on these.\nAdd Content to the Homepage # The home page will contain a list of posts. Let\u0026rsquo;s update its template to add the posts that we just created. The logic in the template will run every time we build the site.\n$ vi themes/zafta/layouts/index.html \u003c!DOCTYPE html\u003e {{ range first 10 .Data.Pages }} {{ .Title }} {{ end }} :wq $ Hugo uses the Go template engine. That engine scans the template files for commands which are enclosed between \u0026ldquo;{{\u0026rdquo; and \u0026ldquo;}}\u0026rdquo;. In our template, the commands are:\nrange .Title end The \u0026ldquo;range\u0026rdquo; command is an iterator. We\u0026rsquo;re going to use it to go through the first ten pages. Every HTML file that Hugo creates is treated as a page, so looping through the list of pages will look at every file that will be created.\nThe \u0026ldquo;.Title\u0026rdquo; command prints the value of the \u0026ldquo;title\u0026rdquo; variable. Hugo pulls it from the front matter in the Markdown file.\nThe \u0026ldquo;end\u0026rdquo; command signals the end of the range iterator. The engine loops back to the top of the iteration when it finds \u0026ldquo;end.\u0026rdquo; Everything between the \u0026ldquo;range\u0026rdquo; and \u0026ldquo;end\u0026rdquo; is evaluated every time the engine goes through the iteration. In this file, that would cause the title from the first ten pages to be output as heading level one.\nIt\u0026rsquo;s helpful to remember that some variables, like .Data, are created before any output files. Hugo loads every content file into the variable and then gives the template a chance to process before creating the HTML files.\nBuild the web site and then verify the results.\n$ rm -rf public $ hugo --verbose INFO: 2014/09/29 Using config file: /Users/quoha/Sites/zafta/config.toml INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/themes/zafta/static/ to /Users/quoha/Sites/zafta/public/ INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/static/ to /Users/quoha/Sites/zafta/public/ INFO: 2014/09/29 found taxonomies: map[string]string{\"tag\":\"tags\", \"category\":\"categories\"} WARN: 2014/09/29 Unable to locate layout: [404.html theme/404.html] 0 draft content 0 future content 2 pages created 0 tags created 0 categories created in 4 ms $ find public -type f -name '*.html' | xargs ls -l -rw-r--r-- 1 quoha staff 94 Sep 29 22:23 public/index.html -rw-r--r-- 1 quoha staff 0 Sep 29 22:23 public/post/first/index.html -rw-r--r-- 1 quoha staff 0 Sep 29 22:23 public/post/index.html -rw-r--r-- 1 quoha staff 0 Sep 29 22:23 public/post/second/index.html $ cat public/index.html \u003c!DOCTYPE html\u003e second first $ Congratulations, the home page shows the title of the two posts. The posts themselves are still empty, but let\u0026rsquo;s take a moment to appreciate what we\u0026rsquo;ve done. Your template now generates output dynamically. Believe it or not, by inserting the range command inside of those curly braces, you\u0026rsquo;ve learned everything you need to know to build a theme. All that\u0026rsquo;s really left is understanding which template will be used to generate each content file and becoming familiar with the commands for the template engine.\nAnd, if that were entirely true, this tutorial would be much shorter. There are a few things to know that will make creating a new template much easier. Don\u0026rsquo;t worry, though, that\u0026rsquo;s all to come.\nAdd Content to the Posts # We\u0026rsquo;re working with posts, which are in the content/post/ directory. That means that their section is \u0026ldquo;post\u0026rdquo; (and if we don\u0026rsquo;t do something weird, their type is also \u0026ldquo;post\u0026rdquo;).\nHugo uses the section and type to find the template file for every piece of content. Hugo will first look for a template file that matches the section or type name. If it can\u0026rsquo;t find one, then it will look in the _default/ directory. There are some twists that we\u0026rsquo;ll cover when we get to categories and tags, but for now we can assume that Hugo will try post/single.html, then _default/single.html.\nNow that we know the search rule, let\u0026rsquo;s see what we actually have available:\n$ find themes/zafta -name single.html | xargs ls -l -rw-r--r-- 1 quoha staff 132 Sep 29 17:31 themes/zafta/layouts/_default/single.html We could create a new template, post/single.html, or change the default. Since we don\u0026rsquo;t know of any other content types, let\u0026rsquo;s start with updating the default.\nRemember, any content that we haven\u0026rsquo;t created a template for will end up using this template. That can be good or bad. Bad because I know that we\u0026rsquo;re going to be adding different types of content and we\u0026rsquo;re going to end up undoing some of the changes we\u0026rsquo;ve made. It\u0026rsquo;s good because we\u0026rsquo;ll be able to see immediate results. It\u0026rsquo;s also good to start here because we can start to build the basic layout for the site. As we add more content types, we\u0026rsquo;ll refactor this file and move logic around. Hugo makes that fairly painless, so we\u0026rsquo;ll accept the cost and proceed.\nPlease see the Hugo documentation on template rendering for all the details on determining which template to use. And, as the docs mention, if you\u0026rsquo;re building a single page application (SPA) web site, you can delete all of the other templates and work with just the default single page. That\u0026rsquo;s a refreshing amount of joy right there.\nUpdate the Template File # $ vi themes/zafta/layouts/_default/single.html \u003c!DOCTYPE html\u003e {{ .Title }} {{ .Title }} {{ .Content }} :wq $ Build the web site and verify the results.\n$ rm -rf public $ hugo --verbose INFO: 2014/09/29 Using config file: /Users/quoha/Sites/zafta/config.toml INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/themes/zafta/static/ to /Users/quoha/Sites/zafta/public/ INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/static/ to /Users/quoha/Sites/zafta/public/ INFO: 2014/09/29 found taxonomies: map[string]string{\"tag\":\"tags\", \"category\":\"categories\"} WARN: 2014/09/29 Unable to locate layout: [404.html theme/404.html] 0 draft content 0 future content 2 pages created 0 tags created 0 categories created in 4 ms $ find public -type f -name '*.html' | xargs ls -l -rw-r--r-- 1 quoha staff 94 Sep 29 22:40 public/index.html -rw-r--r-- 1 quoha staff 125 Sep 29 22:40 public/post/first/index.html -rw-r--r-- 1 quoha staff 0 Sep 29 22:40 public/post/index.html -rw-r--r-- 1 quoha staff 128 Sep 29 22:40 public/post/second/index.html $ cat public/post/first/index.html \u003c!DOCTYPE html\u003e first first my first post\n$ cat public/post/second/index.html \u003c!DOCTYPE html\u003e second second my second post\n$ Notice that the posts now have content. You can go to localhost:1313/post/first to verify.\nLinking to Content # The posts are on the home page. Let\u0026rsquo;s add a link from there to the post. Since this is the home page, we\u0026rsquo;ll update its template.\n$ vi themes/zafta/layouts/index.html \u003c!DOCTYPE html\u003e {{ range first 10 .Data.Pages }} {{ .Title }} {{ end }} Build the web site and verify the results.\n$ rm -rf public $ hugo --verbose INFO: 2014/09/29 Using config file: /Users/quoha/Sites/zafta/config.toml INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/themes/zafta/static/ to /Users/quoha/Sites/zafta/public/ INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/static/ to /Users/quoha/Sites/zafta/public/ INFO: 2014/09/29 found taxonomies: map[string]string{\"tag\":\"tags\", \"category\":\"categories\"} WARN: 2014/09/29 Unable to locate layout: [404.html theme/404.html] 0 draft content 0 future content 2 pages created 0 tags created 0 categories created in 4 ms $ find public -type f -name '*.html' | xargs ls -l -rw-r--r-- 1 quoha staff 149 Sep 29 22:44 public/index.html -rw-r--r-- 1 quoha staff 125 Sep 29 22:44 public/post/first/index.html -rw-r--r-- 1 quoha staff 0 Sep 29 22:44 public/post/index.html -rw-r--r-- 1 quoha staff 128 Sep 29 22:44 public/post/second/index.html $ cat public/index.html \u003c!DOCTYPE html\u003e second first $ Create a Post Listing # We have the posts displaying on the home page and on their own page. We also have a file public/post/index.html that is empty. Let\u0026rsquo;s make it show a list of all posts (not just the first ten).\nWe need to decide which template to update. This will be a listing, so it should be a list template. Let\u0026rsquo;s take a quick look and see which list templates are available.\n$ find themes/zafta -name list.html | xargs ls -l -rw-r--r-- 1 quoha staff 0 Sep 29 17:31 themes/zafta/layouts/_default/list.html As with the single post, we have to decide to update _default/list.html or create post/list.html. We still don\u0026rsquo;t have multiple content types, so let\u0026rsquo;s stay consistent and update the default list template.\nCreating Top Level Pages # Let\u0026rsquo;s add an \u0026ldquo;about\u0026rdquo; page and display it at the top level (as opposed to a sub-level like we did with posts).\nThe default in Hugo is to use the directory structure of the content/ directory to guide the location of the generated html in the public/ directory. Let\u0026rsquo;s verify that by creating an \u0026ldquo;about\u0026rdquo; page at the top level:\n$ vi content/about.md +++ title = \"about\" description = \"about this site\" date = \"2014-09-27\" slug = \"about time\" +++ ## about us i'm speechless :wq Generate the web site and verify the results.\n$ find public -name '*.html' | xargs ls -l -rw-rw-r-- 1 mdhender staff 334 Sep 27 15:08 public/about-time/index.html -rw-rw-r-- 1 mdhender staff 527 Sep 27 15:08 public/index.html -rw-rw-r-- 1 mdhender staff 358 Sep 27 15:08 public/post/first-post/index.html -rw-rw-r-- 1 mdhender staff 0 Sep 27 15:08 public/post/index.html -rw-rw-r-- 1 mdhender staff 342 Sep 27 15:08 public/post/second-post/index.html Notice that the page wasn\u0026rsquo;t created at the top level. It was created in a sub-directory named \u0026lsquo;about-time/\u0026rsquo;. That name came from our slug. Hugo will use the slug to name the generated content. It\u0026rsquo;s a reasonable default, by the way, but we can learn a few things by fighting it for this file.\nOne other thing. Take a look at the home page.\n$ cat public/index.html \u003c!DOCTYPE html\u003e creating a new theme about second first Notice that the \u0026ldquo;about\u0026rdquo; link is listed with the posts? That\u0026rsquo;s not desirable, so let\u0026rsquo;s change that first.\n$ vi themes/zafta/layouts/index.html \u003c!DOCTYPE html\u003e posts {{ range first 10 .Data.Pages }} {{ if eq .Type \"post\"}} {{ .Title }} {{ end }} {{ end }} pages {{ range .Data.Pages }} {{ if eq .Type \"page\" }} {{ .Title }} {{ end }} {{ end }} :wq Generate the web site and verify the results. The home page has two sections, posts and pages, and each section has the right set of headings and links in it.\nBut, that about page still renders to about-time/index.html.\n$ find public -name '*.html' | xargs ls -l -rw-rw-r-- 1 mdhender staff 334 Sep 27 15:33 public/about-time/index.html -rw-rw-r-- 1 mdhender staff 645 Sep 27 15:33 public/index.html -rw-rw-r-- 1 mdhender staff 358 Sep 27 15:33 public/post/first-post/index.html -rw-rw-r-- 1 mdhender staff 0 Sep 27 15:33 public/post/index.html -rw-rw-r-- 1 mdhender staff 342 Sep 27 15:33 public/post/second-post/index.html Knowing that hugo is using the slug to generate the file name, the simplest solution is to change the slug. Let\u0026rsquo;s do it the hard way and change the permalink in the configuration file.\n$ vi config.toml [permalinks] page = \"/:title/\" about = \"/:filename/\" Generate the web site and verify that this didn\u0026rsquo;t work. Hugo lets \u0026ldquo;slug\u0026rdquo; or \u0026ldquo;URL\u0026rdquo; override the permalinks setting in the configuration file. Go ahead and comment out the slug in content/about.md, then generate the web site to get it to be created in the right place.\nSharing Templates # If you\u0026rsquo;ve been following along, you probably noticed that posts have titles in the browser and the home page doesn\u0026rsquo;t. That\u0026rsquo;s because we didn\u0026rsquo;t put the title in the home page\u0026rsquo;s template (layouts/index.html). That\u0026rsquo;s an easy thing to do, but let\u0026rsquo;s look at a different option.\nWe can put the common bits into a shared template that\u0026rsquo;s stored in the themes/zafta/layouts/partials/ directory.\nCreate the Header and Footer Partials # In Hugo, a partial is a sugar-coated template. Normally a template reference has a path specified. Partials are different. Hugo searches for them along a TODO defined search path. This makes it easier for end-users to override the theme\u0026rsquo;s presentation.\n$ vi themes/zafta/layouts/partials/header.html \u003c!DOCTYPE html\u003e {{ .Title }} :wq $ vi themes/zafta/layouts/partials/footer.html :wq Update the Home Page Template to Use the Partials # The most noticeable difference between a template call and a partials call is the lack of path:\n{{ template \"theme/partials/header.html\" . }} versus\n{{ partial \"header.html\" . }} Both pass in the context.\nLet\u0026rsquo;s change the home page template to use these new partials.\n$ vi themes/zafta/layouts/index.html {{ partial \"header.html\" . }} posts {{ range first 10 .Data.Pages }} {{ if eq .Type \"post\"}} {{ .Title }} {{ end }} {{ end }} pages {{ range .Data.Pages }} {{ if or (eq .Type \"page\") (eq .Type \"about\") }} {{ .Type }} - {{ .Title }} - {{ .RelPermalink }} {{ end }} {{ end }} {{ partial \"footer.html\" . }} :wq Generate the web site and verify the results. The title on the home page is now \u0026ldquo;your title here\u0026rdquo;, which comes from the \u0026ldquo;title\u0026rdquo; variable in the config.toml file.\nUpdate the Default Single Template to Use the Partials # $ vi themes/zafta/layouts/_default/single.html {{ partial \"header.html\" . }} {{ .Title }} {{ .Content }} {{ partial \"footer.html\" . }} :wq Generate the web site and verify the results. The title on the posts and the about page should both reflect the value in the markdown file.\nAdd “Date Published” to Posts # It\u0026rsquo;s common to have posts display the date that they were written or published, so let\u0026rsquo;s add that. The front matter of our posts has a variable named \u0026ldquo;date.\u0026rdquo; It\u0026rsquo;s usually the date the content was created, but let\u0026rsquo;s pretend that\u0026rsquo;s the value we want to display.\nAdd “Date Published” to the Template # We\u0026rsquo;ll start by updating the template used to render the posts. The template code will look like:\n{{ .Date.Format \"Mon, Jan 2, 2006\" }} Posts use the default single template, so we\u0026rsquo;ll change that file.\n$ vi themes/zafta/layouts/_default/single.html {{ partial \"header.html\" . }} {{ .Title }} {{ .Date.Format \"Mon, Jan 2, 2006\" }} {{ .Content }} {{ partial \"footer.html\" . }} :wq Generate the web site and verify the results. The posts now have the date displayed in them. There\u0026rsquo;s a problem, though. The \u0026ldquo;about\u0026rdquo; page also has the date displayed.\nAs usual, there are a couple of ways to make the date display only on posts. We could do an \u0026ldquo;if\u0026rdquo; statement like we did on the home page. Another way would be to create a separate template for posts.\nThe \u0026ldquo;if\u0026rdquo; solution works for sites that have just a couple of content types. It aligns with the principle of \u0026ldquo;code for today,\u0026rdquo; too.\nLet\u0026rsquo;s assume, though, that we\u0026rsquo;ve made our site so complex that we feel we have to create a new template type. In Hugo-speak, we\u0026rsquo;re going to create a section template.\nLet\u0026rsquo;s restore the default single template before we forget.\n$ mkdir themes/zafta/layouts/post $ vi themes/zafta/layouts/_default/single.html {{ partial \"header.html\" . }} {{ .Title }} {{ .Content }} {{ partial \"footer.html\" . }} :wq Now we\u0026rsquo;ll update the post\u0026rsquo;s version of the single template. If you remember Hugo\u0026rsquo;s rules, the template engine will use this version over the default.\n$ vi themes/zafta/layouts/post/single.html {{ partial \"header.html\" . }} {{ .Title }} {{ .Date.Format \"Mon, Jan 2, 2006\" }} {{ .Content }} {{ partial \"footer.html\" . }} :wq Note that we removed the date logic from the default template and put it in the post template. Generate the web site and verify the results. Posts have dates and the about page doesn\u0026rsquo;t.\nDon\u0026rsquo;t Repeat Yourself # DRY is a good design goal and Hugo does a great job supporting it. Part of the art of a good template is knowing when to add a new template and when to update an existing one. While you\u0026rsquo;re figuring that out, accept that you\u0026rsquo;ll be doing some refactoring. Hugo makes that easy and fast, so it\u0026rsquo;s okay to delay splitting up a template.\n"},{"id":6,"href":"/posts/migrate-from-jekyll/","title":"Migrating from Jekyll","section":"Blog","content":" Move static content to static # Jekyll has a rule that any directory not starting with _ will be copied as-is to the _site output. Hugo keeps all static content under static. You should therefore move it all there. With Jekyll, something that looked like\n▾ \u0026lt;root\u0026gt;/ ▾ images/ logo.png should become\n▾ \u0026lt;root\u0026gt;/ ▾ static/ ▾ images/ logo.png Additionally, you\u0026rsquo;ll want any files that should reside at the root (such as CNAME) to be moved to static.\nCreate your Hugo configuration file # Hugo can read your configuration as JSON, YAML or TOML. Hugo supports parameters custom configuration too. Refer to the Hugo configuration documentation for details.\nSet your configuration publish folder to _site # The default is for Jekyll to publish to _site and for Hugo to publish to public. If, like me, you have _site mapped to a git submodule on the gh-pages branch, you\u0026rsquo;ll want to do one of two alternatives:\nChange your submodule to point to map gh-pages to public instead of _site (recommended).\ngit submodule deinit _site git rm _site git submodule add -b gh-pages git@github.com:your-username/your-repo.git public Or, change the Hugo configuration to use _site instead of public.\n{ .. \u0026quot;publishdir\u0026quot;: \u0026quot;_site\u0026quot;, .. } Convert Jekyll templates to Hugo templates # That\u0026rsquo;s the bulk of the work right here. The documentation is your friend. You should refer to Jekyll\u0026rsquo;s template documentation if you need to refresh your memory on how you built your blog and Hugo\u0026rsquo;s template to learn Hugo\u0026rsquo;s way.\nAs a single reference data point, converting my templates for heyitsalex.net took me no more than a few hours.\nConvert Jekyll plugins to Hugo shortcodes # Jekyll has plugins; Hugo has shortcodes. It\u0026rsquo;s fairly trivial to do a port.\nImplementation # As an example, I was using a custom image_tag plugin to generate figures with caption when running Jekyll. As I read about shortcodes, I found Hugo had a nice built-in shortcode that does exactly the same thing.\nJekyll\u0026rsquo;s plugin:\nmodule Jekyll class ImageTag \u0026lt; Liquid::Tag @url = nil @caption = nil @class = nil @link = nil // Patterns IMAGE_URL_WITH_CLASS_AND_CAPTION = IMAGE_URL_WITH_CLASS_AND_CAPTION_AND_LINK = /(\\w+)(\\s+)((https?:\\/\\/|\\/)(\\S+))(\\s+)\u0026quot;(.*?)\u0026quot;(\\s+)-\u0026gt;((https?:\\/\\/|\\/)(\\S+))(\\s*)/i IMAGE_URL_WITH_CAPTION = /((https?:\\/\\/|\\/)(\\S+))(\\s+)\u0026quot;(.*?)\u0026quot;/i IMAGE_URL_WITH_CLASS = /(\\w+)(\\s+)((https?:\\/\\/|\\/)(\\S+))/i IMAGE_URL = /((https?:\\/\\/|\\/)(\\S+))/i def initialize(tag_name, markup, tokens) super if markup =~ IMAGE_URL_WITH_CLASS_AND_CAPTION_AND_LINK @class = $1 @url = $3 @caption = $7 @link = $9 elsif markup =~ IMAGE_URL_WITH_CLASS_AND_CAPTION @class = $1 @url = $3 @caption = $7 elsif markup =~ IMAGE_URL_WITH_CAPTION @url = $1 @caption = $5 elsif markup =~ IMAGE_URL_WITH_CLASS @class = $1 @url = $3 elsif markup =~ IMAGE_URL @url = $1 end end def render(context) if @class source = \u0026quot;\u0026lt;figure class='#{@class}'\u0026gt;\u0026quot; else source = \u0026quot;\u0026lt;figure\u0026gt;\u0026quot; end if @link source += \u0026quot;\u0026lt;a href=\\\u0026quot;#{@link}\\\u0026quot;\u0026gt;\u0026quot; end source += \u0026quot;\u0026lt;img src=\\\u0026quot;#{@url}\\\u0026quot;\u0026gt;\u0026quot; if @link source += \u0026quot;\u0026lt;/a\u0026gt;\u0026quot; end source += \u0026quot;\u0026lt;figcaption\u0026gt;#{@caption}\u0026lt;/figcaption\u0026gt;\u0026quot; if @caption source += \u0026quot;\u0026lt;/figure\u0026gt;\u0026quot; source end end end Liquid::Template.register_tag('image', Jekyll::ImageTag) is written as this Hugo shortcode:\n\u0026lt;!-- image --\u0026gt; \u0026lt;figure {{ with .Get \u0026quot;class\u0026quot; }}class=\u0026quot;{{.}}\u0026quot;{{ end }}\u0026gt; {{ with .Get \u0026quot;link\u0026quot;}}\u0026lt;a href=\u0026quot;{{.}}\u0026quot;\u0026gt;{{ end }} \u0026lt;img src=\u0026quot;{{ .Get \u0026quot;src\u0026quot; }}\u0026quot; {{ if or (.Get \u0026quot;alt\u0026quot;) (.Get \u0026quot;caption\u0026quot;) }}alt=\u0026quot;{{ with .Get \u0026quot;alt\u0026quot;}}{{.}}{{else}}{{ .Get \u0026quot;caption\u0026quot; }}{{ end }}\u0026quot;{{ end }} /\u0026gt; {{ if .Get \u0026quot;link\u0026quot;}}\u0026lt;/a\u0026gt;{{ end }} {{ if or (or (.Get \u0026quot;title\u0026quot;) (.Get \u0026quot;caption\u0026quot;)) (.Get \u0026quot;attr\u0026quot;)}} \u0026lt;figcaption\u0026gt;{{ if isset .Params \u0026quot;title\u0026quot; }} {{ .Get \u0026quot;title\u0026quot; }}{{ end }} {{ if or (.Get \u0026quot;caption\u0026quot;) (.Get \u0026quot;attr\u0026quot;)}}\u0026lt;p\u0026gt; {{ .Get \u0026quot;caption\u0026quot; }} {{ with .Get \u0026quot;attrlink\u0026quot;}}\u0026lt;a href=\u0026quot;{{.}}\u0026quot;\u0026gt; {{ end }} {{ .Get \u0026quot;attr\u0026quot; }} {{ if .Get \u0026quot;attrlink\u0026quot;}}\u0026lt;/a\u0026gt; {{ end }} \u0026lt;/p\u0026gt; {{ end }} \u0026lt;/figcaption\u0026gt; {{ end }} \u0026lt;/figure\u0026gt; \u0026lt;!-- image --\u0026gt; Usage # I simply changed:\n{% image full http://farm5.staticflickr.com/4136/4829260124_57712e570a_o_d.jpg \u0026quot;One of my favorite touristy-type photos. I secretly waited for the good light while we were \u0026quot;having fun\u0026quot; and took this. Only regret: a stupid pole in the top-left corner of the frame I had to clumsily get rid of at post-processing.\u0026quot; -\u0026gt;http://www.flickr.com/photos/alexnormand/4829260124/in/set-72157624547713078/ %} to this (this example uses a slightly extended version named fig, different than the built-in figure):\n{{% fig class=\u0026quot;full\u0026quot; src=\u0026quot;http://farm5.staticflickr.com/4136/4829260124_57712e570a_o_d.jpg\u0026quot; title=\u0026quot;One of my favorite touristy-type photos. I secretly waited for the good light while we were having fun and took this. Only regret: a stupid pole in the top-left corner of the frame I had to clumsily get rid of at post-processing.\u0026quot; link=\u0026quot;http://www.flickr.com/photos/alexnormand/4829260124/in/set-72157624547713078/\u0026quot; %}} As a bonus, the shortcode named parameters are, arguably, more readable.\nFinishing touches # Fix content # Depending on the amount of customization that was done with each post with Jekyll, this step will require more or less effort. There are no hard and fast rules here except that hugo server --watch is your friend. Test your changes and fix errors as needed.\nClean up # You\u0026rsquo;ll want to remove the Jekyll configuration at this point. If you have anything else that isn\u0026rsquo;t used, delete it.\nA practical example in a diff # Hey, it\u0026rsquo;s Alex was migrated in less than a father-with-kids day from Jekyll to Hugo. You can see all the changes (and screw-ups) by looking at this diff.\n"},{"id":7,"href":"/docs/Mathematics/MATH-412-Real-Analysis-II/%E7%AC%AC%E4%B8%83%E7%AB%A0/7.6-Morse-Lemma/","title":"7.6 莫尔斯引理","section":"第七章 逆函数和隐函数定理","content":" Morse Theory: Local Behavior Near a Critical Point # Let $f: A \\subset \\mathbb{R}^n \\to \\mathbb{R}$ be of class $C^2$ and $x_0$ is a critical point $\\rightarrow$ one can use $H(x_0)$ to classify critical points.\nMorse theory: makes this classification more precise.\nMorse Lemma # [!lemma|*] Let $f: A \\subset \\mathbb{R}^n \\to \\mathbb{R}$ be of class $C^2$ with critical point $x_0 \\in A$. If $H(x_0)$ is non-degenerate, then there exists a neighborhood of $x_0$ and a diffeomorphism $g$ such that the function $f \\circ g$ has the form: $$f \\circ g(y) = f(x_0) + \\sum_{i=1}^{\\lambda} -y_i^2 + \\sum_{i=\\lambda+1}^n y_i^2$$ where $\\lambda$ is an integer called the index of $f$ at $x_0$.\nApplications # $\\lambda = 0$: $x_0$ is local minimum (paraboloid opens upward) $\\lambda = n$: $x_0$ is local maximum (paraboloid opens downward) $0 \u0026lt; \\lambda \u0026lt; n$: $x_0$ is saddle point (hyperboloid) Idea: Diagonalization of Hessian Matrix # $H(f) = \\begin{pmatrix} \\frac{\\partial^2 f}{\\partial x_1^2} \u0026amp; \\frac{\\partial^2 f}{\\partial x_1 \\partial x_2} \u0026amp; \\cdots \\ \\frac{\\partial^2 f}{\\partial x_2 \\partial x_1} \u0026amp; \\frac{\\partial^2 f}{\\partial x_2^2} \u0026amp; \\cdots \\ \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \\end{pmatrix}$\n$\\lambda$ = # of negative eigenvalues of $H(f)(x_0)$\nExample: Determine the shape of the surface $z = f(x,y)$ near $(0,0)$ # Solution: At $(0,0)$, $f_x = 0$, $f_y = 0$\nCompute eigenvalues of the Hessian matrix. If there is one negative eigenvalue, $\\lambda = 1$, it\u0026rsquo;s a saddle point (hyperboloid).\nConstrained Extremal Problem # Goal: To maximize or minimize a function $f(x): \\mathbb{R}^n \\to \\mathbb{R}$ under the condition $g(x) = c$.\nLagrange Multiplier Method # A Necessary Condition # Theorem: Let $f, g: U \\subset \\mathbb{R}^n \\to \\mathbb{R}$ be of class $C^1$. Assume $g(x_0) = c_0$ with $\\nabla g(x_0) \\neq 0$. If $f$ restricted to the surface $S = {g(x) = c_0}$ has a max or min at $x_0$, then there exists a real number $\\lambda$ such that:\n$$\\nabla f(x_0) = \\lambda \\nabla g(x_0)$$\nGeometric Meaning # $\\nabla f(x_0)$ points in the direction of steepest ascent At the extremum, this direction is perpendicular to the surface $S$ Geometric Proof # Let $c(t)$ be a fixed curve on $S = {g(x) = c_0}$ passing through $x_0$ at $t = t_0$. If $f$ restricted to $S$ has a max at $x_0$, then $f(c(t))$ has max at $t_0$.\nTherefore: $\\frac{d}{dt}f(c(t))|_{t=t_0} = 0$\nBy chain rule: $\\nabla f(c(t_0)) \\cdot c\u0026rsquo;(t_0) = 0$\nSince $c\u0026rsquo;(t_0)$ is tangent to $S$ at $x_0$, $\\nabla f(x_0)$ must be perpendicular to the tangent space of $S$ at $x_0$. Therefore, it must be parallel to $\\nabla g(x_0)$, which is normal to the surface.\nProcedure to Solve Extremal Problem # Step 1: Solve the system of equations $$\\nabla f(x) = \\lambda \\nabla g(x)$$ $$g(x) = c$$\nThis gives $n+1$ equations with $n+1$ variables $(x_1, x_2, \u0026hellip;, x_n, \\lambda)$\nStep 2: Compute values of $f$ at these critical points and determine which are maxima, minima, or saddle points\nExample: Find the extrema of # $$f(x,y) = x^2 y^2$$ subject to the condition $x^2 + y^2 = 1$\nSolution:\nApplying Lagrange multiplier method: $\\nabla f = (2xy^2, 2x^2y) = \\lambda \\nabla g = \\lambda(2x, 2y)$\nThis gives us:\n$xy^2 = \\lambda x$ $x^2y = \\lambda y$ Analyzing by cases:\nCase 1: If $x = 0$, then $y = \\pm 1$ (from constraint) Case 2: If $y = 0$, then $x = \\pm 1$ (from constraint) Case 3: If $x \\neq 0$ and $y \\neq 0$: From the first equation: $y^2 = \\lambda$ (dividing by $x$) From the second equation: $x^2 = \\lambda$ (dividing by $y$) This gives $x^2 = y^2$ With the constraint $x^2 + y^2 = 1$, we get $2x^2 = 1$, so $x = \\pm\\frac{1}{\\sqrt{2}}$ and $y = \\pm\\frac{1}{\\sqrt{2}}$ Critical points: $(0, \\pm 1), (\\pm 1, 0), (\\frac{1}{\\sqrt{2}}, \\frac{1}{\\sqrt{2}}), (\\frac{1}{\\sqrt{2}}, -\\frac{1}{\\sqrt{2}}), (-\\frac{1}{\\sqrt{2}}, \\frac{1}{\\sqrt{2}}), (-\\frac{1}{\\sqrt{2}}, -\\frac{1}{\\sqrt{2}})$\nEvaluating $f(x,y) = x^2y^2$ at these points:\n$f(0, \\pm 1) = 0$ $f(\\pm 1, 0) = 0$ $f(\\pm\\frac{1}{\\sqrt{2}}, \\pm\\frac{1}{\\sqrt{2}}) = (\\frac{1}{2})^2 = \\frac{1}{4}$ Therefore, the maximum value is $\\frac{1}{4}$ at $(\\pm\\frac{1}{\\sqrt{2}}, \\pm\\frac{1}{\\sqrt{2}})$, and the minimum value is $0$ at $(0, \\pm 1)$ and $(\\pm 1, 0)$.\nExtremal Problem with Multiple Constraints # Maximize/minimize $f(x)$ with constraints:\n$g_1(x) = c_1$ $g_2(x) = c_2$ \u0026hellip; $g_m(x) = c_m$ Procedure: Solve the system of equations # $$\\nabla f(x) = \\lambda_1 \\nabla g_1(x) + \\lambda_2 \\nabla g_2(x) + \u0026hellip; + \\lambda_m \\nabla g_m(x)$$ $$g_1(x) = c_1, g_2(x) = c_2, \u0026hellip;, g_m(x) = c_m$$\nWith $m+n$ equations and $m+n$ variables $(x_1,\u0026hellip;,x_n, \\lambda_1,\u0026hellip;,\\lambda_m)$\nAnalytical Proof of the Theorem (Lagrange Multiplier) # We want to substitute the condition $g(x) = c_0$ into the function $f(x)$ to eliminate the constraint.\nSince $\\nabla g(x_0) \\neq 0$, we may assume without loss of generality that $\\frac{\\partial g}{\\partial x_n} \\neq 0$ at $x_0$.\nBy the implicit function theorem, the equation $g(x_1, x_2, \u0026hellip;, x_n) = c_0$ can be solved for $x_n$ in a neighborhood of $x_0$: $$x_n = h(x_1, x_2, \u0026hellip;, x_{n-1})$$\nLet $k(x_1, x_2, \u0026hellip;, x_{n-1}) = f(x_1, x_2, \u0026hellip;, x_{n-1}, h(x_1, x_2, \u0026hellip;, x_{n-1}))$\nThus, an extremum of $f$ subject to the constraint corresponds to an extremum of $k$ without constraints.\nAt an extremum of $k$, we have: $$0 = \\frac{\\partial k}{\\partial x_i} = \\frac{\\partial f}{\\partial x_i} + \\frac{\\partial f}{\\partial x_n}\\frac{\\partial h}{\\partial x_i}, \\quad i = 1, 2, \u0026hellip;, n-1$$\nSince $g(x_1, x_2, \u0026hellip;, x_{n-1}, h(x_1, x_2, \u0026hellip;, x_{n-1})) = c_0$ identically, we can differentiate with respect to $x_i$:\n$$\\frac{\\partial g}{\\partial x_i} + \\frac{\\partial g}{\\partial x_n}\\frac{\\partial h}{\\partial x_i} = 0, \\quad i = 1, 2, \u0026hellip;, n-1$$\nSolving for $\\frac{\\partial h}{\\partial x_i}$:\n$$\\frac{\\partial h}{\\partial x_i} = -\\frac{\\frac{\\partial g}{\\partial x_i}}{\\frac{\\partial g}{\\partial x_n}}, \\quad i = 1, 2, \u0026hellip;, n-1$$\nSubstituting this into our extremum condition:\n$$\\frac{\\partial f}{\\partial x_i} - \\frac{\\partial f}{\\partial x_n}\\frac{\\frac{\\partial g}{\\partial x_i}}{\\frac{\\partial g}{\\partial x_n}} = 0, \\quad i = 1, 2, \u0026hellip;, n-1$$\nRearranging:\n$$\\frac{\\partial f}{\\partial x_i}\\frac{\\partial g}{\\partial x_n} - \\frac{\\partial f}{\\partial x_n}\\frac{\\partial g}{\\partial x_i} = 0, \\quad i = 1, 2, \u0026hellip;, n-1$$\nLet $\\lambda = \\frac{\\partial f}{\\partial x_n} / \\frac{\\partial g}{\\partial x_n}$, then:\n$$\\frac{\\partial f}{\\partial x_i} = \\lambda \\frac{\\partial g}{\\partial x_i}, \\quad i = 1, 2, \u0026hellip;, n-1$$\nAnd by definition of $\\lambda$, we also have $\\frac{\\partial f}{\\partial x_n} = \\lambda \\frac{\\partial g}{\\partial x_n}$\nTherefore, in vector form: $\\nabla f(x_0) = \\lambda \\nabla g(x_0)$\n"},{"id":8,"href":"/docs/Mathematics/hidden/","title":"Hidden","section":"Mathematics","content":" This page is hidden in menu # Quondam non pater est dignior ille Eurotas # Latent te facies # Lorem markdownum arma ignoscas vocavit quoque ille texit mandata mentis ultimus, frementes, qui in vel. Hippotades Peleus pennas conscia cuiquam Caeneus quas.\nPater demittere evincitque reddunt Maxime adhuc pressit huc Danaas quid freta Soror ego Luctus linguam saxa ultroque prior Tatiumque inquit Saepe liquitur subita superata dederat Anius sudor Cum honorum Latona # O fallor in sustinui iussorum equidem. Nymphae operi oris alii fronde parens dumque, in auro ait mox ingenti proxima iamdudum maius?\nreality(burnDocking(apache_nanometer), pad.property_data_programming.sectorBrowserPpga(dataMask, 37, recycleRup)); intellectualVaporwareUser += -5 * 4; traceroute_key_upnp /= lag_optical(android.smb(thyristorTftp)); surge_host_golden = mca_compact_device(dual_dpi_opengl, 33, commerce_add_ppc); if (lun_ipv) { verticalExtranet(1, thumbnail_ttl, 3); bar_graphics_jpeg(chipset - sector_xmp_beta); } Fronde cetera dextrae sequens pennis voce muneris # Acta cretus diem restet utque; move integer, oscula non inspirat, noctisque scelus! Nantemque in suas vobis quamvis, et labori!\nvar runtimeDiskCompiler = home - array_ad_software; if (internic \u0026gt; disk) { emoticonLockCron += 37 + bps - 4; wan_ansi_honeypot.cardGigaflops = artificialStorageCgi; simplex -= downloadAccess; } var volumeHardeningAndroid = pixel + tftp + onProcessorUnmount; sector(memory(firewire + interlaced, wired)); "},{"id":9,"href":"/docs/Mathematics/MATH-351-352/Heat-Equation/Heat-Equation-Solution/","title":"Heat Equation Solution","section":"热方程","content":" Heat Equation Solution # Scale Invariance Property # [!Theorem] Since we know that $u_t=ku_{xx}$ , then we know if $u \\in U$ for $U \\subset \\mathbb{R}^n$ solves the equation, so does $u(\\lambda x, \\lambda^2 t)$ for $\\lambda \\in \\mathbb{R}$ according to the scale invariance property.\nLet’s set that $\\bar{x}=\\lambda x, \\bar{t}=\\lambda^2 t$, then it is easy to see:\n$$ \\begin{align} u_{\\bar{t}}= \\frac{\\partial u}{\\partial \\bar{t}}\\cdot\\frac{\\partial \\bar{t}}{\\partial t} = \\frac{\\partial u}{\\partial t} \\cdot (\\lambda^2) \\ u_{\\bar{x}\\bar{x}} \u0026amp;=\\frac{\\partial}{\\partial x} \\cdot \\frac{\\partial u}{\\partial \\bar{x} } = (\\frac{\\partial}{\\partial \\bar{x}} \\cdot \\frac{\\partial \\bar{x}}{\\partial x})(\\frac{\\partial u}{\\partial \\bar{x} } \\cdot \\frac{\\partial \\bar{x}}{\\partial x})\\ \u0026amp;= \\frac{\\partial^2 u}{\\partial x^2} \\cdot (\\lambda^2) \\end{align} $$\nwhere the equation still holds regardless the choice of $\\lambda$ $(\\lambda \\neq 0)$\nThe scaling $\\frac{x^2}{t}$ or $\\frac{x}{\\sqrt{t}}$ that is invariant to the equation suggests the solution is in the form of $u(x,t)=v(\\frac{x^2}{t})$ f.s. function $v$. That is,\n$$ \\begin{align} u(x,t)=t^\\alpha v(\\frac{x}{t^\\beta}) \\end{align} $$\nwhere constants $\\alpha, \\beta$ and functions $v:\\mathbb{R}^n\\to \\mathbb{R}$ must be found. This means the solution must be invariant under the dilation scaling $\\forall \\lambda \u0026gt;0, x= \\mathbb{R}^n, t\u0026gt;0$ :\n$$ u(x,t) = \\lambda^\\alpha u(\\lambda^\\beta x,\\lambda t) $$\nSetting $\\lambda=t^{-1}$, in which $v(y):= u(y,1)$. We insert (1) into the original heat equation to solve for $v$ with our new variable $y=\\cfrac{x}{t^\\beta}$. We then take $\\beta = \\frac{1}{2}$ so that the terms involved $t$ are cancelled out - we hence derived an equation that is only in terms of $y$:\n$$ \\alpha v + \\frac{1}{2}\\cdot Dv + \\Delta v = 0 \\ \\ (k=1) $$\nDifferent textbook takes different methods to find the constant $\\alpha=-\\frac{1}{2}$ here:\nUsing conservation of heat energy in physics Guessing $v$ to be radial and introduce $v(y)=w(|y|)$ Eventually, we reached at $v(y)=Ae^{-\\frac{y^2}{4k}}$ such that\n$$ u(x,t)=A\\frac{1}{ t^{n/2}}e^{-\\frac{|x|^2}{4kt}} $$\nThe particular choice of normalizing constant $A=\\frac{1}{(4\\pi k)^{n/2}}$ is derived from $\\int_{\\mathbb{R}^n} \\Phi(x,t) dx=1$. (See p. 46 Lemma, Evans) Hence, the general solution to the heat equation for $n$ dimension is\n$$ \\Phi(x,t)=\\frac{1}{(4\\pi k t)^{n/2}} e^{-\\frac{|x|^2}{4kt}} $$\nwhere $x\\in \\mathbb{R}^n, t\u0026gt;0$. For situation $t\u0026lt;0$, the solution is $\\Phi=0$.\nFor dimension $n=1$, we yield $$ \\Phi(x,t)=\\frac{1}{\\sqrt{4\\pi k t}} e^{-\\frac{x^2}{4kt}} $$ $$ $$\n"},{"id":10,"href":"/docs/Mathematics/MATH-351-352/MATH-352-PDE-in-Action/Lecture-Notes-Mar-18/","title":"Lecture Notes ( Mar 18)","section":"数值方法","content":" Chapter 9 Overview # Sections Covered: # 9.1: Reading 9.2: Introduction 9.2.1 9.2.2 9.2.4 9.2.5 (Only the statement needed) 9.2.6 Exercises: # Exercise 9.3 Exercise 9.5 (recommended for coding practice) Section 9.3: Wave Equation # PDE: # $$ \\frac{\\partial u}{\\partial t} + a\\frac{\\partial u}{\\partial x} = 0 $$\nDomain \u0026amp; Initial Conditions: # $x \\in \\mathbb{R}, \\quad t \u0026gt; 0$ Initial condition:\n$$ u(x, 0) = u_0(x) $$ Characteristics Method: # Characteristic curves defined by:\n$$ \\frac{dx}{dt} = a,\\quad x(0) = x_0 \\implies x = at + x_0 $$\nAlong characteristics:\n$$ \\frac{du}{dt} = \\frac{\\partial u}{\\partial t} + a \\frac{\\partial u}{\\partial x} = 0 $$\nThus, $u$ remains constant along these lines.\nSolution form: # $$ u(x, t) = u_0(x - at) $$\nPDE Discretization \u0026amp; Matrix Formulation # Given PDEs:\n$$ x - \\mu\u0026rsquo;\u0026rsquo; = f $$\n$$ -\\mu u\u0026rsquo;\u0026rsquo; + \\beta u = f $$\nDiscretized Form (Finite Differences): # $$ -\\mu \\frac{u_{i+1} - 2u_i + u_{i-1}}{\\Delta x^2} + \\frac{\\kappa}{T} u_i = f_i $$\nMatrix Formulation: # $$ \\left[ A + \\frac{\\kappa}{T} I \\right] u = f $$\nNotes:\nFocus on Exercise 9.5 for coding practice. Master both analytical (characteristics) and numerical (matrix formulation) methods. "},{"id":11,"href":"/docs/Mathematics/MATH-351-352/MATH-352-PDE-in-Action/Lecture-Notes-Mar-20/","title":"Lecture Notes ( Mar 20)","section":"数值方法","content":" PDE and Schemes # $$\\frac{\\partial u}{\\partial t} + a\\frac{\\partial u}{\\partial x} = 0$$\nIn red: # $$\\frac{\\partial u}{\\partial t} = -a\\frac{\\partial u}{\\partial x} \\ \\frac{\\partial^2 u}{\\partial t^2} = a^2 \\frac{\\partial^2 u}{\\partial x^2}$$\nDiagram: # Horizontal axis: spatial dimension (x), initial position $x_0$ Vertical axis: variable $u$ Curves indicating wave propagation: $a \u0026gt; 0$, propagation towards positive $x$-direction. $a \u0026lt; 0$, propagation towards negative $x$-direction. Equations and Schemes: # Characteristic equation: $$\\frac{dx}{dt} = a,\\quad x(0)=x_0$$\nBackward Euler (BE-C): $$\\frac{u_j^{n+1}-u_j^n}{\\Delta t} + a\\frac{u_j^{n+1}-u_{j-1}^{n+1}}{\\Delta x} = 0$$\nUpwind (UPW): $$\\frac{u_j^{n+1}-u_j^n}{\\Delta t} + a\\frac{u_j^n-u_{j-1}^n}{\\Delta x}=0,\\quad a\\geq0$$\nLax–Wendroff (LW): $$\\frac{u_j^{n+1}-u_j^n}{\\Delta t} + a\\frac{u_{j+1}^n-u_{j-1}^n}{2\\Delta x} - \\frac{a^2\\Delta t}{2}\\frac{u_{j+1}^n-2u_j^n+u_{j-1}^n}{\\Delta x^2}=0$$\n"},{"id":12,"href":"/docs/Mathematics/MATH-351-352/MATH-352-PDE-in-Action/Mid-Point-Method/","title":"Mid Point Method","section":"数值方法","content":" Formula Derivation # The derivative approximation: $$ \\begin{aligned} f(t_i, u_i) \u0026amp;= \\frac{dy}{dt} \\Big|{t_i} \\approx \\frac{y(t{i+1}) - y(t_{i-1})}{2\\Delta t} + \\mathcal{O}(\\Delta t^2) \\end{aligned} $$\nUpdate formula:\n$$ \\begin{aligned} u_{i+1} \u0026amp;= u_{i-1} + 2\\Delta t f(t_i, u_i) \\end{aligned} $$\nInitial Conditions # Initial Condition Calculation: Given $y_0$ $$ \\begin{aligned} u_2 \u0026amp;= y_0 + 2\\Delta t f(t_1, u_1) \\end{aligned} $$\nPredictor-Corrector Steps:\n$$ \\begin{aligned} u_1^* \u0026amp;= y_0 + \\Delta t f(t_0, y_0), \\ u_1 \u0026amp;= y_0 + \\frac{\\Delta t}{2} (f(t_0, y_0) + f(t_1, u_1^*)) \\end{aligned} $$\nTwo-Step Method # Higher-order method that improves accuracy using information from two previous time steps. The method achieves second-order accuracy due to the central difference approximation. Absolute Stability # We consider the test equation:\n$$ \\begin{aligned} \\frac{dy}{dt} \u0026amp;= -\\lambda y, \\quad y(0) = y_0 \\end{aligned} $$\nwhere $\\lambda \u0026gt; 0$.\nDiscretization # The numerical update formula is:\n$$ \\begin{aligned} u_{n+1} \u0026amp;= u_{n-1} - 2\\Delta t \\lambda u_n \\end{aligned} $$\nRearranging:\n$$ \\begin{aligned} u_{n+1} + 2\\Delta t \\lambda u_n - u_{n-1} \u0026amp;= 0 \\end{aligned} $$\nIterative Computation # Starting with initial conditions ($y_0$, $y_1$):\n$$ \\begin{aligned} u_2 \u0026amp;= y_0 - 2\\Delta t \\lambda y_1, \\ u_3 \u0026amp;= y_1 - 2\\Delta t \\lambda u_2, \\ u_4 \u0026amp;= u_2 - 2\\Delta t \\lambda u_3, \\ u_5 \u0026amp;= u_3 - 2\\Delta t \\lambda u_4 \\end{aligned} $$\nThis formulation helps analyze the stability of the numerical scheme by checking whether the sequence $u_n$ grows or decays as $n \\to \\infty$.\nStability Analysis of the Numerical Scheme # We assume a solution of the form:\n$$ \\begin{aligned} u_i \u0026amp;= C \\beta^i \\end{aligned} $$\nSubstituting into the Recurrence Relation # $$ \\begin{aligned}\n\\end{aligned} $$ $$ \\begin{aligned} C \\beta^{i+1} + C 2\\Delta t \\lambda \\beta^i - C \\beta^{i-1} \u0026amp;= 0\\ \\beta^2 + 2\\Delta t \\lambda \\beta - 1 \u0026amp;= 0 \\quad \\text{devided by $C \\beta^{i-1}$.} \\end{aligned} $$ This is a characteristic equation for the recurrence relation. And solving for $\\beta$,\n$$ \\begin{aligned} \\beta \u0026amp;= \\frac{-2\\Delta t \\lambda \\pm \\sqrt{(2\\Delta t \\lambda)^2 + 4}}{2} \\end{aligned} $$ To ensure stability, we require:\n$$ \\begin{aligned} |\\beta_0|, |\\beta_1| \u0026amp;\\leq 1. \\end{aligned} $$\nGeneral Solution # Since the recurrence relation is second-order, the general solution is: $$ \\begin{aligned} u_i \u0026amp;= C_0 \\beta_0^i + C_1 \\beta_1^i. \\end{aligned} $$ From the initial conditions:\n$$ \\begin{aligned} u_0 \u0026amp;= C_0 + C_1 = y_0, \\\n\\nu_1 \u0026amp;= C_0 \\beta_0 + C_1 \\beta_1 = y_1 \\end{aligned} $$ which can be solved for $C_0$ and $C_1$.\nStability Condition # For stability, the roots $\\beta_0, \\beta_1$ must satisfy:\n$$ \\begin{aligned}|\\beta_0 \\beta_1| \u0026amp;= 1.\\end{aligned} $$\nFrom the characteristic equation:\n$$ \\begin{aligned}\\beta_0 \\beta_1 \u0026amp;= -\\frac{1}{\\beta_1}. \\end{aligned} $$\nEnsuring $|\\beta| \\leq 1$ determines the absolute stability region.\nFinite Difference Approximation and Stability Analysis # Finite Difference Approximation # $$ \\begin{aligned} \\alpha u_{i+1} + \\beta u_i + \\sigma u_{i-1} + \\delta u_{i-2} \u0026amp;= (\\alpha + \\beta + \\sigma + \\delta) u_i + \\mathcal{O}(\\Delta t^5) \\end{aligned} $$\nTime Discretization # $$ \\begin{aligned} \\frac{du}{dt} \\Big|{t_i} \u0026amp;= \\frac{u_i - u{i-1}}{\\Delta t} + \\mathcal{O}(\\Delta t^2) \\end{aligned} $$\nStability Analysis # $$ \\begin{aligned} \\alpha + 4\\beta \u0026amp;= 0, \\ \\alpha \u0026amp;= -4\\beta, \\ 4\\beta - 2\\beta \u0026amp;= 1 \\Rightarrow \\beta = \\frac{1}{2}, \\quad \\alpha = -2. \\end{aligned} $$\nThese constraints ensure numerical stability and proper convergence of the finite difference scheme.\nTaylor Expansions # Applying Taylor expansions to express the function values at different time steps: $$ \\begin{aligned} \u0026amp; \\alpha\\left[u_{i+1}=u_i-\\left.\\frac{d u}{d t}\\right|{t_i} \\Delta t+\\ldots\\right] \\ \u0026amp; \\beta\\left[u{i+2}=u_i-\\left.\\frac{d u}{d t}\\right|{t_i} 2 \\Delta t+\\ldots\\right] \\ \u0026amp; \\gamma\\left[u{i+3}=u_i-\\left.\\frac{d u}{d t}\\right|{t_i} 3 \\Delta t+\\ldots\\right] \\ \u0026amp; \\delta\\left[u{i+4}=u_i-\\left.\\frac{d u}{d t}\\right|_{t_i} 4 \\Delta t+\\ldots\\right] \\end{aligned} $$ Summing these expansions, we obtain the system of equations,\n$$ \\left{\\begin{aligned} -\\alpha-2 \\beta-3 \\gamma-4 \\delta \u0026amp; =1 \\ \\alpha+4 \\beta+8 \\gamma+16 \\delta \u0026amp; =0 \\end{aligned}\\right. $$\n"},{"id":13,"href":"/docs/Mathematics/MATH-351-352/MATH-352-PDE-in-Action/Three-Point-Backward-Differentiation-Formula-Feb-4/","title":"Three Point Backward Differentiation Formula ( Feb 4)","section":"数值方法","content":" 1. Ok Honestly I Have No Idea Where He Started # MATH 212 is useless - Alessandro Veneziani\nGiven the population problem #Implicit:\n$$ \\dfrac{d y}{d x} = A\\left( 1 - \\dfrac{y}{B}\\right)y $$ # Numerically, the problem is: $$ \\frac{u_{i+1} - u_i}{\\Delta t} = A \\left(1 - \\frac{u_{i+1}}{B} \\right) u_{i+1} $$ To solve this numerically, we rewrite the equation: $$ \\begin{align} x - u_i \u0026amp;= A \\left(1 - \\frac{x}{B} \\right) x \\ \u0026amp;= A x - \\frac{A}{B} x^2 \\end{align} $$\nusing $f(x)=0$, and we iterate using Newton\u0026rsquo;s method:\nyes he changed notation again\n[!remark|*] Newton\u0026rsquo;s Method $$\\underbrace{x^{(u+1)}}{y{\\text{new}}}=\\underbrace{x^{(u)}}{y{\\text{old}}}-\\frac{f(x^{(u)})}{f\u0026rsquo;(x^{(u)})}$$ We have $|y_{\\text{new}}-y_{\\text{old}}|\\leq \\text{tol}.$\n$$ \\begin{align} x - u_i \u0026amp; = \\Delta t A \\left(1 - \\frac{x}{B} \\right) x \\ \u0026amp; = \\Delta t A x - \\Delta t \\frac{A}{B} x^2 \\\n\\Longrightarrow \\quad x - u_{i}-\\Delta t A x + \\Delta t \\frac{A}{B} x^{2}\u0026amp;=0 \\end{align} $$ Define a function $g(x)$ from above: $$ \\begin{align} g(x) \u0026amp; = x - u_i - \\Delta t A x + \\Delta t \\frac{A}{B} x^{2}\\ \\end{align} $$ Taking the derivative: $$ \\begin{align} g\u0026rsquo;(x) \u0026amp;= \\frac{d}{dx} \\left( x - u_i - \\Delta t A x + \\Delta t \\frac{A}{B} x^2 \\right) \\ \u0026amp;= 1 - \\Delta t \\left(A - \\frac{2A}{B} x \\right) \\ \u0026amp;= 1 - \\Delta t f\u0026rsquo;(x). \\end{align} $$ For $f^{\\prime}(x)=A-\\frac{2 A}{B} x$.\n2. Approximate $\\frac{d y}{d x}$ Using a Three-Point Backward Differentiation Formula (BDF) # tracing back to last lecture on determination of coefficients $A, B, C$\n$$ \\begin{aligned} f(t_{i},y_{i})=\\left. \\frac{dy}{dx} \\right|{x_i} \u0026amp;\\approx \\frac{3}{2 \\Delta x} y_i - \\frac{4}{2 \\Delta x} y{i-1} + \\frac{1}{2 \\Delta x} y_{i-2} \\ \\ \\text{Taylor Expansion}\\Longrightarrow\\quad \u0026amp;\\left{ \\begin{aligned} y_{i-1} \u0026amp;= y_i - \\left. \\frac{dy}{dx} \\right|{x_i} \\Delta x \\dots \\ y{i-2} \u0026amp;= y_i - \\left. \\frac{dy}{dx} \\right|{x_i} 2 \\Delta x \\dots \\end{aligned} \\right. \\end{aligned}$$ we yield: $$ \\begin{align} \\frac{3}{2 \\Delta x} u_i\u0026amp;-\\frac{4}{2 \\Delta x} u{i-1}+\\frac{1}{2 \\Delta x} u_{i-2}=f\\left(t_i , u_i\\right)\\ \\end{align} $$\nImplicit formula: $$ u_i=\\frac{4}{3} u_{i-1}-\\frac{1}{3} u_{i-2}+\\frac{2}{3} \\Delta x\\left(t_i, u_i\\right) $$ we substitute $f(t_{i},u_{i})=\\lambda u_{i}$ to derive explicitly:\n$$\\begin{align} u_i - \\frac{4}{3} u_{i-1} + \\frac{1}{3} u_{i-2} - \u0026amp;\\frac{2}{3} \\Delta x f(t_i, u_i) = 0 \\ u_i - \\frac{4}{3} u_{i-1} + \\frac{1}{3} u_{i-2} - \u0026amp;\\frac{2}{3} \\Delta x \\lambda u_{i} = 0 \\ \\end{align} $$ Explicit formula: $$\n\\boxed{u_i = \\frac{1}{1 - \\frac{2}{3} \\Delta x\\lambda} \\left( \\frac{4}{3} u_{i-1} - \\frac{1}{3} u_{i-2} \\right) }\n$$\n[!definition|*] Generalized p-step BDF Form $$\\boxed{u_i-\\sum_{j=1}^{p} \\alpha_j u_{i-j}=\\Delta x \\beta_{-1} f\\left(t_i, u_i\\right)} $$ Generalized Implicit Multistep Method: $$\\boxed{u_{i+1}-\\sum_{j=1}^p \\alpha_j u_{i-j}=\\Delta x \\sum_{j={-1}}^p \\beta_j f\\left(t_{i-j}, u_{i+1-j}\\right)}$$\n"},{"id":14,"href":"/docs/Mathematics/MATH-412-Real-Analysis-II/Homework/Homework-6/","title":"Homework 6","section":"Real Analysis II","content":"7.2: 1, 2, [3,4]; Chapter 7: [4], 5, [6], 9, [12].\nProblem 7.2.3 In the system $$\\begin{array}{r} 3 x+2 y+z^2+u+v^2=0 \\ 4 x+3 y+z+u^2+v+w+2=0 \\ x+z+w+u^2+2=0 \\end{array} $$ discuss the solvability for $u, v, w$ in terms of $x, y, z$ near $x=y=z=0, u=$ $v=0, w=-2$.\n[!theorem|*] We first define three functions: $$ \\begin{aligned} F_1(x,y,z,u,v,w) ;\u0026amp;=; 3x + 2y + z^2 + u + v^2,\\ F_2(x,y,z,u,v,w) ;\u0026amp;=; 4x + 3y + z + u^2 + v + w + 2,\\ F_3(x,y,z,u,v,w) ;\u0026amp;=; x + z + w + u^2 + 2. \\end{aligned} $$\nSubstitute $x=0,y=0,z=0,u=0,v=0,w=-2$ into each equation:\n$F_{1}(0,0,0,0,0,-2) = 3\\cdot 0 + 2\\cdot 0 + 0^2 + 0 + 0^2 = 0.$ $F_{2}(0,0,0,0,0,-2) = 4\\cdot 0 + 3\\cdot 0 + 0 + (0)^2 + 0 + (-2) + 2 = 0.$ $F_{3}(0,0,0,0,0,-2) = 0 + 0 + (-2) + (0)^2 + 2 = 0.$ Hence $\\bigl(0,0,0,0,0,-2\\bigr)$ satisfies all three equations. By the Implicit Function Theorem, we want to solve for $(u,v,w)$ if the Jacobian of $D_{(u,v,w)} (F_1, F_2, F_3) ;$ is invertible at that point.\nWe then compute partial derivatives, and evaluate them at $\\bigl(0,0,0,0,0,-2\\bigr)$: $$ D_{(u,v,w)} (F_1, F_2, F_3)=\\begin{bmatrix} F_{1u} \u0026amp; F_{1v}\u0026amp;F_{1w} \\ F_{2u} \u0026amp; F_{2v}\u0026amp;F_{2w} \\ F_{3u} \u0026amp; F_{3v}\u0026amp;F_{3w} \\end{bmatrix}=\\begin{bmatrix} 1 \u0026amp; 2v \u0026amp; 0 \\ 2u \u0026amp; 1 \u0026amp; 1 \\ 2u \u0026amp; 0 \u0026amp; 1 \\end{bmatrix} $$ At that point, $u=0$ and $v=0$, the determinant of this $3\\times 3$ matrix is $$\\det \\begin{pmatrix} 1 \u0026amp; 0 \u0026amp; 0 \\ 0 \u0026amp; 1 \u0026amp; 1 \\ 0 \u0026amp; 0 \u0026amp; 1 \\end{pmatrix} ;=; 1 ;\\neq; 0. $$ So the matrix is invertible. Therefore, since $F_1=F_2=F_3=0$ is at our point of interest, and the invertibility of Jacobian ensures that the mapping is locally bijective, the Implicit FT guarantees that in a neighborhood of $\\bigl(x,y,z\\bigr)=(0,0,0)$, there exist unique smooth functions $$u = u(x,y,z), \\quad v = v(x,y,z), \\quad w = w(x,y,z), $$ satisfying the system. And since, $\\bigl(u(0,0,0),,v(0,0,0),,w(0,0,0)\\bigr)=(0,0,-2)$, the system is locally solvable for $,(u,v,w),$ as functions of $,(x,y,z),$ near $,(0,0,0),$.\nProblem 7.2.4 Does the map\n$$ (x, y) \\mapsto\\left(\\frac{x^2-y^2}{x^2+y^2}, \\frac{x y}{x^2+y^2}\\right) $$\nhave a local inverse near $(0,1)$ ?\n[!definition|*] Define $$F(x,y);=;\\Bigl(F_1(x,y),,F_2(x,y)\\Bigr);=;\\biggl(,\\frac{x^2 - y^2}{x^2 + y^2},;\\frac{x,y}{x^2 + y^2}\\biggr)$$ We substitute $\\bigl(x,y\\bigr)=(0,1)$ into $F$: $$F(0,1) ;=;\\Bigl(\\tfrac{0^2 - 1^2}{0^2 + 1^2},;\\tfrac{0\\cdot1}{0^2 + 1^2}\\Bigr) ;=;(-1,,0)$$ We check if the Jacobian of $F$ at $(0,1)$ is invertible. The partial of $,(F_1,F_2)$ are\n$$F_1(x,y)=\\tfrac{x^2 - y^2}{x^2 + y^2}, \\quad F_2(x,y)=\\tfrac{x,y}{x^2 + y^2} $$\nFor $F_1$: $$\\begin{align} \\frac{\\partial F_1}{\\partial x}(x,y) \u0026amp; =\\frac{(x^2+y^2)(2x) - (x^2-y^2)(2x)}{(x^2+y^2)^2}\\ \u0026amp; =\\frac{2x\\Bigl[(x^2+y^2)-(x^2-y^2)\\Bigr]}{(x^2+y^2)^2}=\\frac{4xy^2}{(x^2+y^2)^2} \\end{align} $$ And $$\\begin{align} \\frac{\\partial F_1}{\\partial y}(x,y) \u0026amp; =\\frac{(x^2+y^2)(-2y) - (x^2-y^2)(2y)}{(x^2+y^2)^2} \\ \u0026amp; =\\frac{-2y\\Bigl[(x^2+y^2)+(x^2-y^2)\\Bigr]}{(x^2+y^2)^2}=-\\frac{4x^2y}{(x^2+y^2)^2} \\end{align} $$ For $F_2$: $$\\begin{align} \\frac{\\partial F_2}{\\partial x}(x,y) \u0026amp; =\\frac{(x^2+y^2)(y) - (xy)(2x)}{(x^2+y^2)^2} \\ \u0026amp; =\\frac{y\\Bigl[(x^2+y^2)-2x^2\\Bigr]}{(x^2+y^2)^2} =\\frac{y(y^2-x^2)}{(x^2+y^2)^2} \\end{align} $$ And $$\\begin{align} \\frac{\\partial F_2}{\\partial y}(x,y) \u0026amp; =\\frac{(x^2+y^2)(x) - (xy)(2y)}{(x^2+y^2)^2} \\ \u0026amp; =\\frac{x\\Bigl[(x^2+y^2)-2y^2\\Bigr]}{(x^2+y^2)^2} =\\frac{x(x^2-y^2)}{(x^2+y^2)^2} \\end{align} $$ Since $x^2+y^2=0^2+1^2=1$, the evaluation at $(0,1)$ are:\n$\\displaystyle \\frac{\\partial F_1}{\\partial x}(0,1)=\\frac{4\\cdot 0\\cdot1^2}{1^2}=0$ $\\displaystyle \\frac{\\partial F_1}{\\partial y}(0,1)=-\\frac{4\\cdot0^2\\cdot1}{1^2}=0$ $\\displaystyle \\frac{\\partial F_2}{\\partial x}(0,1)=\\frac{1,(1^2-0^2)}{1^2}=1$ $\\displaystyle \\frac{\\partial F_2}{\\partial y}(0,1)=\\frac{0,(0^2-1^2)}{1^2}=0$ Hence the Jacobian matrix of $F$ at $,(0,1)$ is $$D F(0,1) ;=; \\begin{pmatrix} 0 \u0026amp; 0 \\ 1 \u0026amp; 0 \\end{pmatrix} $$ The determinant of $D F(0,1)$ is $$\\det\\begin{pmatrix} 0 \u0026amp; 0\\ 1 \u0026amp; 0 \\end{pmatrix} ;=;0 $$ Because this determinant is zero, the matrix is not invertible. This means we cannot apply the IFT to conclude that $F$ is invertible near $(0,1)$; there is no diffeomorphic local inverse of $F$ around $(0,1)$.\nTherefore, we conclude that the map $F$ does not have a local inverse near $(0,1)$.\nProblem [7.4] 4. Show that the equations\n$$ \\begin{array}{r} x^2-y^2-u^3+v^2+4=0 \\ 2 x y+y^2-2 u^2+3 v^4+8=0 \\end{array} $$\ndetermine functions $u(x, y), v(x, y)$ near $x=2, y=-1$ such that $u(2,-1)=$ $2, v(2,-1)=1$. Compute $\\partial u / \\partial x$.\n[!definition|*] Let $$ F(x,y,u,v)=\\begin{cases} x^2 - y^2 -u^3 +v^2 +4 =0\\ 2xy+y^2 -2u^2 +v^4 +8=0 \\end{cases} $$\nWe first verify $,(x,y,u,v)=(2,-1,2,1)$ is a solution: $$\\begin{cases};4 - 1 - 8 + 1 + 4 ;=;0 \\ -4 +1 -8 +3 +8 ;=;0\\end{cases} $$ Therefore $\\bigl(2,-1,2,1\\bigr)$ is indeed a solution of the system. Then, we compute the Jobcobian: $$\\begin{align} D_{(u,v)} (F_1, F_2) \u0026amp; =\\begin{pmatrix} F_{1u} \u0026amp; F_{1v}\\ F_{2u} \u0026amp; F_{2v} \\end{pmatrix} \\Bigg|{(2,-1,2,1)} \\[3pt] \u0026amp; =\\begin{pmatrix} -3u^{2}\u0026amp; 2v\\ -4u \u0026amp; 12v^3 \\end{pmatrix}\\Bigg|{(2,-1,2,1)} \\[5pt] \u0026amp; = \\begin{pmatrix} -12 \u0026amp; 2\\ -8 \u0026amp; 12 \\end{pmatrix}\\end{align} $$ Its determinant is $\\Delta=(-12)(12) - 2(-8)= -144 +16= -128\\neq 0$. Therefore, the matrix is invertible, so by the IFT we know that we can solve for $u$ and $v$ as functions of $x,y$ near $,(2,-1)$. Now we compute $u_x(2,-1)$. For $F_1=0$: $$\\frac{\\partial}{\\partial x}(x^2-y^2 -u^3 +v^2 +4) ;=;2x ;-;3u^2 u_x ;+;2v v_x ;=;0 $$ At $(x,y,u,v)=(2,-1,2,1)$, this is $4 -12u_x + 2v_x=0$. For $F_2=0$: $$\\frac{\\partial}{\\partial x}(2xy +y^2 -2u^2 +3v^4 +8) =2y ;-;4u u_x ;+;12v^3 v_x =0 $$ At $(2,-1,2,1)$, this is $-2 ;-;8 u_x +12 v_x=0$. So we obtain: $$\\begin{cases} 4 ;-;12u_x +2v_x = 0\\ -2 ;-;8u_x +12v_x = 0 \\end{cases} $$ To solve this system of equations, we have $$ v_x = \\frac{8u_x + 2}{12} $$ So, $$ \\begin{align*} 4 - 12u_x + 2v_x \u0026amp;= 4 - 12u_x + 2\\left(\\frac{8u_x + 2}{12} \\right) \\ \u0026amp;= 4 - 12u_x + \\frac{4}{3}u_x + \\frac{1}{3} \\ \u0026amp;= -\\frac{32}{3} u_x + \\frac{13}{3} = 0 \\end{align*} $$ $$ \\Longrightarrow u_x = \\frac{13}{32} $$ Hence, we have $$u_x(2,-1) = \\frac{13}{32}$$\nProblem [7.6] Determine whether the \u0026ldquo;curve\u0026rdquo; described by the equation $x^2+y+\\sin (x y)$ $=0$ can be written in the form $y=f(x)$ in a neighborhood of $(0,0)$. Does the implicit function theorem allow you to say whether the equation can be written in the form $x=h(y)$ in a neighborhood of $(0,0)$ ?\n[!definition|*] Let $$F(x,y)=x^2 + y +\\sin!\\bigl(x,y\\bigr)=0$$ We want to show that $F\\colon \\mathbb{R}^2 \\to \\mathbb{R}$ is $C^1$, and $F(x_0,y_0)=0$. We first substitute $x=0,y=0$ into $F$: $$F(0,0)=0^2+0+\\sin(0\\cdot 0)=0$$ Hence $(0,0)$ lies on the curve $F(x,y)=0$. We then compute the partial at $(0,0)$: $$\\begin{align} F_{y} =1 +\\cos!\\bigl(xy\\bigr)\\bigl(x\\bigr) \\Longrightarrow F_{y}(0,0) =1 +0 =1\\neq 0 \\end{align} $$ And $$ \\begin{align} F_{x} =2x +\\cos!\\bigl(xy\\bigr)\\bigl(y\\bigr)\n\\Longrightarrow F_{y}(0,0) = 2\\cdot 0 + 0 = 0 \\end{align} $$\nBecause $F_{y}(0,0)=1\\neq 0$, the Implicit Function Theorem ensures that there exists neighborhood of $(0,0)$ in which we can uniquely solve the equation for $y$ as a function of $x$. Therefore, there exists $y =f(x)$ for $(x,y)$ near $(0,0)$ for all $x$ in the neighborhood of $0$.\nHowever, on the other hand, since $F_{x}(0,0)=0$, Implicit FT does not apply, so the test is conclusive. This means the usual IFT statement fails to guarantee a local solution of the form $x=h(y)$.\nProblem [7.12] Show that the implicit function theorem implies the inverse function theorem.\n[!definition|*]\nLet $f\\colon A\\subset\\mathbb{R}^n \\to \\mathbb{R}^n$ be of class $C^1$. Suppose $x_0\\in A$ and\n$$ J_f(x_0);=;\\det\\bigl(Df(x_0)\\bigr);\\neq;0. $$ We want to show that, there exist neighborhoods $U$ of $x_0$ in $A$ and $V$ of $y_0=f(x_0)$ in $\\mathbb{R}^n$ such that\n(1) $f(U)=V$ and $f\\colon U\\to V$ has an inverse $f^{-1}:V\\to U$. (2) $f^{-1}$ is of class $C^1$. (3) $D f^{-1}(y)=\\bigl[D f(x)\\bigr]^{-1}$ for all $x\\in U$ with $y=f(x)$. Define a new function $$F\\colon \\mathbb{R}^n\\times \\mathbb{R}^n \\longrightarrow \\mathbb{R}^n, \\quad F(x,y)=f(x)-y $$ with $x=(x_1,\\dots,x_n)$ and $y=(y_1,\\dots,y_n)$. Then we know that $F$ is $C^1$ because $f$ is $C^1$ and subtraction is smooth. Note that $F(x_0,,f(x_0))= f(x_0)- f(x_0)=0$. We want to compute the Jacobian of $F$ w.r.t. $y$. So for each $i=1,\\dots,n$, the $i$th component of $F$ is $$F_i(x,y)=f_i(x)-y_i.$$ Since $f_i(x)$ does not depend on $y$, we have for each $j=1,\\dots,n$ $$\\frac{\\partial F_i}{\\partial y_j}(x,y)=\\frac{\\partial}{\\partial y_j}\\bigl(f_i(x)-y_i\\bigr) =\\frac{\\partial f_i(x)}{\\partial y_j}-\\frac{\\partial y_i}{\\partial y_j} =0-\\delta_{ij} $$ where $\\delta_{ij}$ is $$\\delta_{ij}= \\begin{cases}1 \\quad i=j \\0 \\quad i\\neq j \\ \\end{cases} $$ Thus, the $(i,j)$-entry of the Jacobian is $$\\left[\\frac{\\partial F}{\\partial y}(x,y)\\right]{ij}=-\\delta{ij} $$ In matrix form, we have: $$\\frac{\\partial F}{\\partial y}(x,y)=-I $$ where $I$ is the $n\\times n$ identity matrix. Since the determinant $\\det(-I)=(-1)^n\\neq 0$, we know that $D_y F(x,y)=-I$ is invertible everywhere. This satisfy the condition for Implicit FT. Hence, by the Implicit Function Theorem, there is a neighborhood $U$ of $x_0\\in \\mathbb{R}^n$ and a neighborhood $V$ of $y_0=f(x_0)\\in \\mathbb{R}^n$ s.t. $\\forall, y\\in V$, $\\exists! ,x\\in U$ satisfying: $$F(x,y)=0 ;;\\Longleftrightarrow;; f(x)-y=0 ;;\\Longleftrightarrow;; y=f(x) $$ and we have a map that is $C^1$ $$\\Phi:V ;\\to; U \\quad\\text{such that}\\quad F\\bigl(\\Phi(y),,y\\bigr)=0 \\quad\\text{for all }y\\in V $$ which this demonstrates (2). Since $F(\\Phi(y),y) \\Longrightarrow f(\\Phi(y))=y$, it follows that $\\Phi$ is the local inverse $f^{1}$ by definition. Because $f$ itself is $C^1$ and $\\Phi=f^{-1}$ is also $C^1$, we conclude that $f^{-1}$ is a local diffeomorphism near $x_0$, which shows (1). Next, by Corollary 7.2.2 for each $y\\in V$, we have $$\\begin{align} D\\Phi(y) \u0026amp; =-\\Bigl(D_yF(\\Phi(y),y)\\Bigr)^{-1}D_xF(\\Phi(y),y) \\ \u0026amp; =-(-I)^{-1},D f\\bigl(\\Phi(y)\\bigr) \\ \u0026amp; =D f\\bigl(\\Phi(y)\\bigr)^{-1} \\end{align} $$ Since $\\Phi(y)=x$, near $x_{0}$ this yields: $$D f^{-1}(f(x)) ;=; \\bigl(Df(x)\\bigr)^{-1} $$ which shows the (3) of theorem. Hence, we have shown that Implicit Function Theorem directly implies the Inverse Function Theorem.\n"},{"id":15,"href":"/docs/Mathematics/MATH-412-Real-Analysis-II/Homework/Homework-7/","title":"Homework 7","section":"Real Analysis II","content":"HW 7: 7.6: 1, 2, 3, [4,5]; 7.7: 1, 2, 3, [4], 5, [6]; Chapter 7: [25], 36, [38], 39.\nProblem 7.6.4 Let $f(x,y) = x^2 + y^2 + 3y^3 + 8x^4 + x^2e^x \\sin x + 6$. Show that there exist new coordinates $\\xi, \\eta$, where $$\\xi = \\xi(x,y), \\quad \\eta = \\eta(x,y),$$ for which $$f(x,y) = \\xi^2 + \\eta^2 + 6$$ in a neighborhood of $(0, 0)$.\nProblem 7.6.5 (a). If $f$ has a nondegenerate critical point at $x_0 \\in \\mathbb{R}^n$, show that there is a neighborhood of $x_0$ containing no other critical points.\n(b). What are the critical points of the function $f(x,y) = x^2y^2$?\nProblem 7.7.4. $f(x, y, z) = x + y + z, x^2 - y^2 = 1, 2x + z = 1$.\nProblem 7.7.6. Supranational Sludge Corporation produces sludge using equipment and material costing $p = $243$ per unit and labor at a wage of $w = $16$ per hour. If $x$ units of equipment/material and $y$ hours of labor are used, then $20x^{3/4}y^{1/4}$ liters of sludge are produced. If the company has a budget of $B = $51,840,000$ to spend, find the maximum amount of sludge that can be produced and the amounts of equipment/material and of labor used to produce it.\nProblem 7.25\nLet $B(0, r) = {x \\in \\mathbb{R}^n \\mid |x| \\leq r}$. Let $f : B(0, r) \\to \\mathbb{R}^n$ be a map with\na. $|f(x) - f(y)| \\leq \\frac{1}{3}|x - y|$\nb. $|f(0)| \\leq \\frac{2}{3}r$\nProve that there is a unique $x \\in B(0, r)$ such that $f(x) = x$.\nProblem 7.38\nA rectangular box with no top is to have a surface area of 16 square meters. Find the dimensions that maximize the volume.\n"},{"id":16,"href":"/docs/Mathematics/MATH-412-Real-Analysis-II/%E7%AC%AC%E5%85%AB%E7%AB%A0/8.1-Integration/","title":"8.1 Integration","section":"第八章 积分","content":" Integration in 3D # Outline # Definition of integral Criteria for integrability Necessary and sufficient condition Property of integrals \u0026amp; convergence Computing and estimating integrals Definition of Integral # 1. Geometric Motivation # Computing the area of a region:\nForm the partition and create approximations Form upper and lower integrals: Upper integral: $\\overline{\\int} f$ Lower integral: $\\underline{\\int} f$ 2. General Formulation # Setup: Let $f: A \\to \\mathbb{R}$ be a bounded function on a bounded set $A$ in $\\mathbb{R}^n$.\nGoal: Define the volume of the region under the surface $z = f(x)$ (or the integral $\\int_A f(x) dx$).\nStep 1: Choose a rectangle $B = [a_1, b_1] \\times [a_2, b_2] \\times \\cdots \\times [a_n, b_n]$ such that $A \\subset B$.\nDefine $\\tilde{f}: B \\to \\mathbb{R}$ by $\\tilde{f}(x) = f(x)$ if $x \\in A$ and $\\tilde{f}(x) = 0$ if $x \\notin A$.\nThe volume over $A$ equals the volume over $B$: $$\\int_A f(x) dx = \\int_B \\tilde{f}(x) dx$$\nStep 2: Partition $B$ by dividing sides of $B$ into sub-intervals to obtain a partition $\\mathcal{P}$ (collection of smaller rectangles).\nStep 3: Form upper and lower sums:\nUpper sum of $f$ with respect to partition $\\mathcal{P}$: $$U(f, \\mathcal{P}) = \\sum_i \\sup_{x \\in B_i} f(x) \\cdot \\text{volume}(B_i)$$ (sum of volumes of rectangular prisms with height = supremum of $f$ on each rectangle)\nLower sum of $f$ with respect to partition $\\mathcal{P}$: $$L(f, \\mathcal{P}) = \\sum_i \\inf_{x \\in B_i} f(x) \\cdot \\text{volume}(B_i)$$ (sum of volumes of rectangular prisms with height = infimum of $f$ on each rectangle)\nStep 4: Form upper and lower integrals:\nUpper integral: $\\overline{\\int}A f = \\inf{\\mathcal{P}} U(f, \\mathcal{P})$ Lower integral: $\\underline{\\int}A f = \\sup{\\mathcal{P}} L(f, \\mathcal{P})$ Observation: $L(f, \\mathcal{P}) \\leq \\overline{\\int}_A f$ and $\\underline{\\int}_A f \\leq U(f, \\mathcal{P})$ for any partition $\\mathcal{P}$.\nDefinition: We say $f$ is Riemann integrable if $\\overline{\\int}_A f = \\underline{\\int}_A f$, and the integral of $f$ on $A$ is defined as: $$\\int_A f = \\overline{\\int}_A f = \\underline{\\int}_A f$$\nOther notations: $$\\int_A f(x) dx_1 dx_2 \\cdots dx_n$$\nEquivalent Condition for Integrability # General Setting # $f: A \\subset \\mathbb{R}^n \\to \\mathbb{R}$ bounded $A \\subset B$ bounded $B$ is a rectangle in $\\mathbb{R}^n$ $\\tilde{f}(x) = 0$ if $x \\notin A$ Riemann\u0026rsquo;s Condition # $\\forall \\varepsilon \u0026gt; 0$, $\\exists$ partition $\\mathcal{P}{\\varepsilon}$ of $B$ such that: $$U(f, \\mathcal{P}{\\varepsilon}) - L(f, \\mathcal{P}_{\\varepsilon}) \u0026lt; \\varepsilon$$\nDarboux\u0026rsquo;s Condition # For a number $I$ to be the value of $\\int_A f$: $\\forall \\varepsilon \u0026gt; 0$, $\\forall$ partition $\\mathcal{P}$ of $B$ into rectangles $B_1, B_2, \\ldots, B_n$ with side lengths $\u0026lt; \\delta$, if $x_1 \\in B_1, x_2 \\in B_2, \\ldots, x_n \\in B_n$, then: $$\\left|\\sum_i f(x_i) \\cdot \\text{volume}(B_i) - I\\right| \u0026lt; \\varepsilon$$\nRemark: The number $I$ is the value of the integral, and the sum is the Riemann sum of $f$ with respect to partition $\\mathcal{P}$.\nInterpretation: Darboux\u0026rsquo;s condition says that when the partition is fine enough (small side lengths), the Riemann sum is a good approximation of the integral.\nTheorem # The following conditions are equivalent:\n$f$ is integrable on $A$ $f$ satisfies Riemann\u0026rsquo;s condition $f$ satisfies Darboux\u0026rsquo;s condition Proof of Theorem # Step 1: $f$ integrable ⟹ Riemann\u0026rsquo;s condition # If $f$ is integrable, then there exists a partition $\\mathcal{P}_1$ such that: $$U(f, \\mathcal{P}_1) \u0026lt; \\int_A f + \\frac{\\varepsilon}{2}$$\n(by definition of upper integral as an infimum)\nSimilarly, there exists a partition $\\mathcal{P}_2$ such that: $$L(f, \\mathcal{P}_2) \u0026gt; \\int_A f - \\frac{\\varepsilon}{2}$$\nWe need to combine the two terms together. Let $\\mathcal{P}_3 = \\mathcal{P}_1 \\cup \\mathcal{P}_2$.\nThen $\\mathcal{P}_3$ is a refinement of both $\\mathcal{P}_1$ and $\\mathcal{P}_2$.\nFor refinements, we know: $$U(f, \\mathcal{P}_3) \\leq U(f, \\mathcal{P}_1) \\ L(f, \\mathcal{P}_3) \\geq L(f, \\mathcal{P}_2)$$\nThen we have: $$U(f, \\mathcal{P}_3) - L(f, \\mathcal{P}_3) \\leq U(f, \\mathcal{P}_1) - L(f, \\mathcal{P}_2) \\ \u0026lt; \\left(\\int_A f + \\frac{\\varepsilon}{2}\\right) - \\left(\\int_A f - \\frac{\\varepsilon}{2}\\right) = \\varepsilon$$\nStep 2: Riemann\u0026rsquo;s Condition ⟹ $f$ integrable # By assumption, $\\forall \\varepsilon \u0026gt; 0$, $\\exists$ partition $\\mathcal{P}{\\varepsilon}$ such that: $$U(f, \\mathcal{P}{\\varepsilon}) - L(f, \\mathcal{P}_{\\varepsilon}) \u0026lt; \\varepsilon$$\nSince $\\underline{\\int}A f \\leq L(f, \\mathcal{P}{\\varepsilon})$ and $U(f, \\mathcal{P}_{\\varepsilon}) \\leq \\overline{\\int}_A f$, we have: $$\\overline{\\int}A f - \\underline{\\int}A f \\leq U(f, \\mathcal{P}{\\varepsilon}) - L(f, \\mathcal{P}{\\varepsilon}) \u0026lt; \\varepsilon$$\nThus $\\overline{\\int}_A f = \\underline{\\int}_A f$ (since $\\varepsilon$ can be arbitrarily small), which means $f$ is integrable.\n"},{"id":17,"href":"/docs/Mathematics/MATH-412-Real-Analysis-II/%E7%AC%AC%E5%85%AB%E7%AB%A0/8.2-Criterion-for-Integrability/","title":"8.2 Criterion for Integrability","section":"第八章 积分","content":" Criterion for Integrability # Q: When is $f$ integrable?\nA: $f$ is integrable when the set of discontinuity is small.\n1. How to measure the size of $A$ # Volume of $A$ [!definition] A bounded set $A \\subset \\mathbb{R}^n$ has volume (or is Jordan measurable) if its characteristic function: $$1_A(x) = \\begin{cases} 1, \u0026amp; x \\in A \\ 0, \u0026amp; x \\notin A \\end{cases} $$ is integrable:\n$$V(A) = \\int_A 1_A(x), dx$$\nFact: $V(A) = 0 \\iff \\forall \\varepsilon \u0026gt; 0, \\exists$ finite cover of $A$ by rectangles $S_1, S_2, \\dots, S_N$ such that:\n$$\\sum_{i=1}^N V(S_i) \u0026lt; \\varepsilon$$\n[!definition] A set $A \\subset \\mathbb{R}^n$ (not necessarily bounded) has measure zero, written as $m(A) = 0$, if $\\forall \\varepsilon \u0026gt; 0$, there exists a countable cover of $A$ by rectangles ${S_i}{i=1}^{\\infty}$ such that: $$\\sum{i=1}^{\\infty} V(S_i) \u0026lt; \\varepsilon$$\n2. Properties of measure zero sets # Facts:\n$V(A) = 0 \\implies m(A) = 0$ $A$ is finite $\\implies V(A) = 0$ $A$ is countable $\\implies m(A) = 0$ [!theorem|8.2.4] Suppose $A_i \\subset \\mathbb{R}^n$ (for $i = 1, 2, \\dots$) with $m(A_i) = 0$ for all $i = 1, 2, \\dots$. Then, $$A = \\bigcup_{i=1}^{\\infty} A_i \\text{ has measure zero.}$$\nProof: # Given $\\varepsilon \u0026gt; 0$, for each $i = 1, 2, \\dots$, since $m(A_i) = 0$, there exist rectangles ${S_j^{(i)}}_{j=1}^{\\infty}$ such that\n$$ A_i \\subset \\bigcup_{j=1}^{\\infty} S_j^{(i)}, \\quad \\text{with} \\quad \\sum_{j=1}^{\\infty} V(S_j^{(i)}) \u0026lt; \\frac{\\varepsilon}{2^i} $$\nThen, the set of rectangles ${S_j^{(i)}}_{i,j=1}^{\\infty}$ forms a countable collection of rectangles with\n$$A = \\bigcup_{i=1}^{\\infty} A_i \\subset \\bigcup_{i=1}^{\\infty}\\bigcup_{j=1}^{\\infty} S_j^{(i)}$$\nThus, $$\\sum_{i=1}^{\\infty}\\sum_{j=1}^{\\infty} V(S_j^{(i)}) \u0026lt; \\sum_{i=1}^{\\infty}\\frac{\\varepsilon}{2^i} = \\varepsilon$$ Therefore, $m(A) = 0$.\nRemarks: # Remark: This result is not true for volume zero sets.\nCounterexample: Rational numbers in $[0,1]$. Remark: In Definition 2, one can replace closed rectangles $S_i$ by open rectangles.\nHere\u0026rsquo;s the content converted into markdown with abbreviations fully written out:\n3. Lebesgue\u0026rsquo;s Theorem # (a) Main Theorem # [!theorem|8.3.1] Let $A$ be a bounded set in $\\mathbb{R}^n$ and $f$ be a bounded function on $A$. Extend $f$ to $\\mathbb{R}^n$ by letting: $$f(x) = 0 \\quad \\text{for} \\quad x \\notin A$$ Then $f$ is integrable on $A$ if and only if the points on which the extended function $f$ is discontinuous form a set of measure zero. $$D = \\text{Set of discontinuity of extended } f$$\n(b) Examples # Example 1 # $$A = [0, 1], \\quad f(x) = \\begin{cases} 1, \u0026amp; x \\text{ rational}$$6pt] 0, \u0026amp; \\text{otherwise} \\end{cases}$$\nThen, the set of discontinuity points is $D = [0,1]$, and: $$m(D) \\neq 0$$\nBy Lebesgue\u0026rsquo;s theorem, $f$ is not integrable.\nExample 2 # $$A = {\\text{rationals in }[0,1]}, \\quad \\text{Define } f: A \\to \\mathbb{R} \\text{ by } f(x) \\equiv 1$$\nThen $f$ is continuous on $A$.\nHowever, the extended $f$ has discontinuity at $[0,1]$.\nThus, $f$ is NOT integrable by Lebesgue\u0026rsquo;s theorem.\nExample 2 # $$A = {(x,y): x^2 + y^2 \u0026lt; 1} \\subset \\mathbb{R}^2$$\n$$f(x,y) = \\begin{cases} x^2 + \\sin\\left(\\frac{1}{y}\\right), \u0026amp; y \\neq 0 \\[6pt] x^2, \u0026amp; y = 0 \\end{cases}$$\n(c) Corollaries # Corollary 1\nA bounded set $A \\subset \\mathbb{R}^n$ has volume if and only if the boundary of $A$ has measure zero.\nProof:\nAssume $V(A)$ (volume of $A$) exists. Then the indicator function $1_A(x)$ is integrable.\nThe set of discontinuities for extended $f$: $$D = \\partial A \\quad (\\text{boundary of } A)$$\nThus, $$f = 1_A(x) \\text{ is integrable } \\Longleftrightarrow m(\\partial A) = 0$$\n"},{"id":18,"href":"/docs/Mathematics/MATH-412-Real-Analysis-II/%E7%AC%AC%E5%85%AB%E7%AB%A0/8.3-Proof-of-Lebesgues-Theorem/","title":"8.3 Proof of Lebesgue's Theorem","section":"第八章 积分","content":" [!theorem|8.?.?] Let $f : A \\subset \\mathbb{R} \\to \\mathbb{R}$ be a bounded function on a bounded set $A$. Then $f$ is integrable on $A$ if and only if the set of discontinuities for the extended $f(x)$ has measure zero.\nProof of the Theorem # Step 1: Preparation # Diagram: a set $A$ enclosed in set $B$. (a): Set Up # Fix rectangle $B$ with $\\overline{A} \\subset \\text{int}(B)$ and let: $$ g(x) = \\begin{cases}\nf(x) \u0026amp; \\text{if } x \\in A \\\n0 \u0026amp; \\text{if } x \\notin A\n\\end{cases} $$ Define: $$ D = { x \\in B \\mid g \\text{ is not continuous at } x } $$ Need to show: $$ f \\text{ integrable } \\Leftrightarrow m(D) = 0 $$ (b): How to Measure Discontinuity # Oscillation of a function $h$ at a point $x_0$: $$O(h, x_0) = \\inf { \\sup \\left{ h(x) - h(y) : x, y \\in U } : U \\text{ is a neighborhood of } x_0 \\right}$$ Fact: $h$ is continuous at $x_0$ if and only if $O(h, x_0) = 0$. Step 2: Assume $m(D) = 0$. Prove $f$ integrable # Will show $g$ satisfying Riemann\u0026rsquo;s Condition. (a) Setup:\nFix $\\epsilon \u0026gt; 0$. Let $$D_{\\epsilon} = { x \\in B : O(g, x) \\geq \\epsilon }$$\nThen $D_{\\epsilon} \\subset D \\implies m(D_{\\epsilon}) = 0$\nBy definition, there exists a collection of open rectangles ${ B_i }$ such that:\n$$D_{\\epsilon} \\subset \\bigcup_i B_i \\quad ext{and} \\quad \\sum v(B_i) \u0026lt; \\epsilon$$\nClaim: $D_{\\epsilon}$ is closed (hence compact).\nAssume $x_n \\in D_{\\epsilon}, x \\rightarrow x \\implies x \\in D_{\\epsilon}$ (Assume that $x\\ne D_{\\epsilon}$) $$O(g, x_n) \\geq \\epsilon \\implies O(g, x) \\geq \\epsilon$$ (b) Partition of $B$\nConstruct a partition $P$ from ${ B_i }_{i=1}^N$ such that each rectangle $S \\in P$ is either: Disjoint from $D_{\\epsilon}$, or Its interior is contained in one of the $B_i$ Let:\n$C_1 = { S \\in P : \\text{int}(S) \\text{ is contained in one of the } B_i }$ $C_2 = { S \\in P : S \\cap D_{\\epsilon} = \\emptyset }$ (c) Refinement of $P$ # Fix $S \\in C_2$\n$S \\cap D_{\\epsilon} = \\emptyset \\implies O(g, x) \u0026lt; \\epsilon ,, \\forall x \\in S$\nThus, $\\forall x \\in S, \\exists$ a neighborhood $U_x$ such that:\n$$\\Longrightarrow\\sup { |g(x_1) - g(x_2)| : x_1, x_2 \\in U_x } \u0026lt; O(g, x) + \\delta,\\quad \\delta = \\frac{1}{2} (\\epsilon - O(g, x))$$\nTherefore: $$\\sup_{U_x} g - \\inf_{U_x} g \u0026lt; O(g, x) + 2\\delta = \\epsilon$$ $i.e. \\quad M_{U_x}(g) - m_{U_x}(g) \u0026lt; \\epsilon.$\nSince $S$ is compact, $S \\subset \\bigcup_{x \\in S} U_x \\implies \\exists$ finite collection of neighborhoods ${ U_{x_i} }$ that covers $S$.\nPosition $S$ so that each rectangle is contained in some $U_{x_i}$.\nDo this for each $S \\in C_2$\nWe obtain a refinement of $P$, denoted by $P\u0026rsquo;$.\n(d) Verify Riemman condition for $P'$ # "},{"id":19,"href":"/docs/Philosophy/50-words-Close-Reading/","title":"50 Words Close Reading","section":"Philosophy","content":"(The Order of Things: An Archaeology of the Human Sciences, Preface, p. xxii)\n$$ \\begin{align} \\newline \\ \\ \\ \\\n\\newline\\newline\\newline \\end{align}\n$$\n[\u0026hellip;] epistemological field, the episteme in which knowledge, envisaged apart from all # $$\\begin{align}\n\\end{align}$$\ncriteria having reference to its rational value or to its objective forms, grounds its # $$\\begin{align}\n\\end{align}$$\npositivity and thereby manifests a history which is not that of its growing perfection, # $$\\begin{align}\n\\end{align}$$\nbut rather that of its conditions of possibility. # "},{"id":20,"href":"/docs/Philosophy/Commentary-on-Foucaults-The-Order-of-Things/","title":"Commentary on Foucault's the Order of Things","section":"Philosophy","content":" Close Reading Commentary # The selected quote is from Foucault’s early-stage (1960s) intellectual project of philosophical \u0026ldquo;archaeology\u0026rdquo;, which was his first major methodological phase. He presents a radical historical analysis of knowledge in The Order of Things, intending to eliminate the assumption of unchanging criteria for knowledge.\nThis quote sits at the center of his archaeological method, in which he attempted \u0026ldquo;to bring to light\u0026rdquo; the underlying episteme of knowledge. This recursive long sentence, broken down into three main modifiers, describes the epistemological field, which almost, if not intentionally, resembles the idea of a \u0026ldquo;field\u0026rdquo; in physics - an invisible but structured influence that determines how objects behave within it. The traditional epistemological assumption that he challenged holds that knowledge is grounded by universal standards of rationality and objectivity, and the first modifier sets the stage for this argument. Foucault subverts this unchanging framework by treating it as historically contingent, or specifically, one of the possible conditions \u0026ldquo;having reference\u0026rdquo; to rationality and objectivity.\nThe second modifier, \u0026ldquo;grounds its positivity and thereby manifests a history,\u0026rdquo; presents one of his most radical takes on epistemology. The positivity of knowledge is constructed within the space established by the historical a priori, is thus validated by what is possible to be discovered as \u0026ldquo;knowledge.\u0026rdquo; For Foucault, the corresponding relationship between how well knowledge describes reality and knowledge itself is radically destabilized, because there is no objective guarantee of such a relationship, given that epistemes structure our perception and thus make reality itself historically conditioned.\nThe third modifier further develops this idea and explicitly rejects the notion of a progression of knowledge towards \u0026ldquo;growing perfection.\u0026rdquo; It is surprising for me to interpret that not only is progression non-linear and discontinuous, but progression itself simply cannot exist, precisely because epistemic ruptures shift the framework of what counts as knowledge and make previous ways of thinking unthinkable. (It reminds me of Thomas Kuhn\u0026rsquo;s view on science, but the preservation of continuity is completely abandoned.) Since the episteme structures the conditions under which the history of knowledge unfolds, it determines the framework within which historical institutions and discourses \u0026ldquo;ground\u0026rdquo; knowledge as legitimate.\nThis directly supports his examination of discourses on madness, crime, and sexuality, and how the changing episteme of madness throughout history, for example, redefines its implications - whether through the logic of confinement or its later medicalization under psychiatric authority. My close reading of this passage really forced me to zoom out from the sciences I have been studying and reflect on the historical illusion of epistemic progress.\n"},{"id":21,"href":"/docs/Philosophy/Object-petit-a/","title":"Object Petit A","section":"Philosophy","content":"What is $\\mathbb{objet; petit; a}$?\n"},{"id":22,"href":"/docs/Philosophy/Untitled/","title":"Untitled","section":"Philosophy","content":" Can you imagine sexuality without gender? # For Foucault\nSexual identity i s produced within the grid of sexuality\nfrom normal to abnormal\nchanges over time\nModern subject is a sexual subject (gendered being)\nWhat does freedom look like in this? When there is no outside, what does it mean to have transgression?\npower-knowledge-pleasure\ngreatest pleasure is the pleasure of the analysis "},{"id":23,"href":"/docs/Philosophy/%E7%A6%8F%E6%9F%AF%E8%A7%86%E8%A7%92%E4%B8%8B%E7%9A%84%E7%89%A9%E7%90%86%E5%AD%A6%E8%BD%AC%E5%8F%98%E4%BB%A5%E5%8F%8A%E6%96%B0%E8%8C%83%E5%BC%8F%E7%9A%84%E5%8F%AF%E8%83%BD/","title":"福柯视角下的物理学转变以及新范式的可能","section":"Philosophy","content":"我相信，\n翻开《词与物》没读完第一章就合上了，然后草率地读了结尾——我实在对这种节奏巨慢的历史学庞杂征引感到索然无味，以至于不得不读两页国内的数学书来综合一下\u0026hellip; 我对物理学的态度，以及对其研究方向的直觉，远远大于我本身可以延展他们的能力（很可惜，否则我必然毫不犹豫的投身其中）。但是幸运的是，对于基础科学来说，这会是人类历史当中，提出正确的问题所能带给我们的效益最大话的时代。我真正需要提出他对知识进行了激进的历史分析，并且构建了和绝大部分的科学家秉持的认识论有悖的历史断裂式“知识论领域”。\n所谓的知识论领域，原文里说：\n[\u0026hellip;] epistemological field, the episteme in which knowledge, envisaged apart from all criteria having reference to its rational value or to its objective forms, grounds its positivity and thereby manifests a history which is not that of its growing perfection, but rather that of its conditions of possibility.\n当我第一时间看到他所说的知识的“field”的时候，想到的不是传统翻译里的“领域”，而是一种十分类似于物理学中的“场”的概念：一种不可见但结构化的影响力，决定了其中对象的行为方式。而这种受“场”所预设的知识的构建轨迹就相比于光在大质量黑洞旁边的行动——似乎光仅仅是依照着它的准则，一种肉眼可见的弯曲道路行进，但是实际上，他们在被引力场所弯曲的预设时空中，走直线（基于理性的客观性的知识发展）便是所见的“弯路”。但是福柯真正所面临的问题在于，如果沿用以上的类比，我们无从以观测者的身份知道以什么是直线，而什么是弯曲。\n作为其考古学方法的核心，福柯试图“揭示”知识的基础认识型（épistémè），以及其认识论场（epsitomalogical field）的历史性变化。福科挑战了传统认识论，那些所有基于理性与客观性的普遍标准的认知框架，并且将他们都视为了历史偶然（或成为了原文所说的，指向\u0026quot;理性与客观性的\u0026quot;可能条件\u0026quot;之一）。\n知识“确立其实证性（positivité）并由此展现历史”，呈现了他对认识论最激进的观点之一。知识的实证性在历史先验（a priori historique）建立的空间中被建构，因而通过能被发现为\u0026quot;知识\u0026quot;（savoir）的事物获得有效性。对福柯而言，知识描述现实的有效性与知识本身之间的对应关系被根本性动摇，因为这种关系没有客观保证——由于认识型构建了我们的感知，从而使现实本身具有历史条件性。\n他明确拒绝知识向\u0026quot;日益完善\u0026quot;（perfection croissante）进步的观念。这或许是他的认知论最激进的观点之一，进步不仅不是线性且连续的，而是进步本身根本不可能存在——因为认识型断裂（rupture épistémologique）会改变何为知识的框架，并使先前的思维方式变得不可想象（impensable）（哪怕是和他类似的托马斯·库恩的断裂式科学观中的连续性，也被完全抛弃）。由于认识型构建了知识史展开的条件，它决定了历史制度与话语将知识\u0026quot;确立\u0026quot;为合法性的框架。\n这用来支撑了他对疯狂、犯罪与性态话语的考察，例如历史上不断变化的疯狂认识型如何通过禁闭（confinement）逻辑或精神病学权威下的医学化重新定义其内涵。我对这段文本的细读迫使自己跳出正在研究的科学领域，反思所谓\n如果我们接受认识论进步是某一种历史幻觉，那么重新评估物理学的转变，于是我们便可以说：\n相对论的诞生并没有超越了牛顿力学，取得了更加正确的结论，而仅仅是知识论领域场从绝对时空转移到了相对时空——这是一种“épistémè”的转移。那么至于相对时空对物理现实的逼进是否优于绝对时空，这个问题是无法以绝对正确的方式被提出的，因为现代物理学的范式 - 实验，证伪性，同行评估 - 已经被塑造成了评估这个问题的核心范式。从历史学的角度上说，爱因斯坦的弯曲几何、薛定谔的波函数，本质上都是权力配置知识生产的历史先验（a priori historique）。物理学史中那些被视为“自然”的真理秩序在福科的认识论范围内被彻底解构。\n那么\n"},{"id":24,"href":"/docs/Physics/Quantum-Mechenics/Chapter-1-The-Wave-Function/","title":"Chapter 1 the Wave Function","section":"Quantum Mechenics","content":"To find a particle\u0026rsquo;s wave function, $\\psi(x,t)$, we solve:\nlogically analogous to Newton\u0026rsquo;s Second Law $F=ma$\n[!definition] Schrodinger\u0026rsquo;s Equation $$i\\hbar \\frac{ \\partial \\Psi}{ \\partial t}=-\\frac{\\hbar^{2}}{2m}\\frac{ \\partial^{2}\\Psi}{ \\partial x^{2} }+V \\Psi$$\nwhere Planck\u0026rsquo;s constant $\\hbar=\\frac{h}{2\\pi}=1.054573 \\times 10^{-34}$.\n[!definition] Born\u0026rsquo;s Statistical Interpretation $$\\int^{a}_{b} |\\Psi(x,t)^{2}| , dx $$ which is the probability finding the particle between $a$ and $b$.\nIt is natural to wonder whether it is a fact of nature, or a defect in theory.\nThree quantum indeterminacy position: # realist the particle was at C. (a hidden variable?) orthodox (Copenhagen Interpretation) the particle wasn\u0026rsquo;t anywhere. (measurement produce the result) most widely accepted position (agnosticism) refuse to answer. That is, no meaning to ask such question. Pauli: one should no more rack one\u0026rsquo;s brain about the problem of whether something one cannot know anything about exists all the same, than about the ancient question of how many angels are able to sit on the point of needle.\nfall-back position, however, eliminated by John Bell\u0026rsquo;s experiment in 1964 Two Distinct Physical Processes: # Ordinary evolves in a leisurely fashion under Measurements wave equation $\\Psi$ discontinuously collapses, when the first measurement radically alters the function. "},{"id":25,"href":"/docs/Physics/Quantum-Mechenics/Chapter-2-Time-Independent-Schrodinger-Equation-Stationary-States/","title":"Chapter 2 Time Independent Schrodinger Equation Stationary States","section":"Quantum Mechenics","content":" Music: Harmonics # $$ \\begin{align} C_{1}:f_{1}\u0026amp;=f_{0} \\ C_{2}:f_{1}\u0026amp;=2f_{0} \\ G:f_{1}\u0026amp;=3f_{0} \\ C_{3}:f_{1}\u0026amp;=4f_{0} \\end{align} $$\nSeparation of variables # $$ \\begin{equation} i\\hbar \\frac{ \\partial \\Psi}{ \\partial t}=-\\frac{\\hbar^{2}}{2m}\\frac{ \\partial^{2}\\Psi}{ \\partial x^{2} }+V_{x} \\Psi \\end{equation} $$ where $V(x)$: time independent potential $\\hat{H}=-\\frac{\\hbar^{2}}{2m}\\frac{ \\partial^{2} }{ \\partial x^{2} }+V(x)$. $$ H\\Psi=i\\hbar \\frac{ \\partial }{ \\partial t } \\Psi $$ We begin by= separate the variables, and set $$ \\begin{equation} \\Psi(x,t)=\\psi(x) \\phi(t) \\end{equation}\n$$\n(2) $\\Rightarrow$ (1): $$ \\begin{align} -\\frac{\\hbar^{2}}{2m}\\frac{ \\partial^{2}}{ \\partial x^{2} }(\\psi(x) \\phi(t))+V_{x} \\Psi\u0026amp;=i\\hbar \\frac{ \\partial \\Psi}{ \\partial t}\\ -\\frac{\\hbar^2}{2m} \\frac{\\partial^2}{\\partial x^2} \\psi \\varphi + V \\psi \\varphi \u0026amp;= i \\hbar \\psi \\frac{\\partial}{\\partial t} \\varphi \\ \u0026amp; \\hbar = \\end{align} $$ Divide by $\\psi \\varphi$ (assumed $\\neq 0$). Why stationary? $$ \\begin{align} \\phi(x,t)\u0026amp;=\\Psi^(x,t)\\Psi(x,t) \\ \u0026amp;=(\\Psi^(x)e^{iEt/\\hbar})(\\Psi(x)e^{iEt/\\hbar}) \\ \u0026amp;=|\\Psi(x)^{2}|(e^{\\frac{iEt}{h}-\\frac{iEt}{h}}) \\ \u0026amp;=|\\Psi(x)^{2}| \\end{align} $$ # Furthermore, expectation value of dynamical variables are also time independent $$ \\langle Q(x,p)\\rangle=\\int , dx ,\\Psi^* (x,t) \\dots $$ $$ \\boxed{\\hat{H}\\Psi(x)=E\\Psi(s)} $$ $E$ is the eigentvalue here Stationary states are states of definite energy: $$ \\hat{H}=-\\frac{\\hbar}{2m}\\frac{d^{2}}{dx^{2}}+V(x) $$ This is an example of an eigenvalue equation of the operator $H$. Expectation value of the total Energy? $$ \\begin{align} \\langle \\hat{H} \\rangle \u0026amp;= \\int , dx, \\Psi^{}(x)\\hat{H}\\Psi(x) \\ \u0026amp;= E \\int , dx \\Psi^{}(x)\\Psi(x) \\ \u0026amp;=E\\int , dx ,|\\Psi(x)|^{2} \\ \u0026amp;=E \\ \\end{align} $$\nmissing two white board page ![[IMG_1165.heic]] # ![[IMG_1168.heic]] # Linearity of the S.E. $\\Longleftrightarrow$ principles of superposition\nGeneral Solution of the S. Equation # \u0026hellip; \u0026hellip; A broader case of fourier expansion.\nSuppose the system initiates at $$ \\begin{align} \\Psi(x,p) \u0026amp; =C_{1}\\Psi_{2} + C_{2}\\Psi_{2} \\ \u0026amp; = \\end{align}\n$$\n"},{"id":26,"href":"/docs/Physics/Quantum-Mechenics/Feb-5-Fourier-Series-on-S.-Euqation-Solution/","title":"Feb 5 Fourier Series on S. Euqation Solution","section":"Quantum Mechenics","content":" 0. Review # $$ \\hat{H}=-\\frac{\\hbar^{2}}{2m}\\partial^{2}x+V(x) $$ Stationary States $$ \\Psi(x,t)=\\psi(x)e^{-iEt/\\hbar} $$ Eigenvalue equation: $$\\hat{H}\\psi(x) = E\\psi(x)$$ In newtonian mechanics, note $$F(x)=-\\frac{ \\partial V(x) }{ \\partial x } $$\n1. Infinite Finite Well (particle on a box) # $$E = \\frac{p^{2}}{2m}$$\nknowing $E$ results in knowing momentum $p^{2}$\nProblem Set-up Between $x=0$, and $x=a$, $$-\\frac{\\hbar^{2}}{2m} \\frac{d^{2}}{dx}\\Psi(x)=E \\Psi(x)$$ Subject to \u0026ldquo;boundary condition\u0026rdquo;: $\\Psi(0)=\\Psi(a)=0$ $$ \\begin{align} \\frac{d^{2}\\Psi}{dx} \u0026amp; =-\\left( \\frac{2m}{\\hbar^{2}} \\right) E \\Psi \\ \u0026amp; =-k^{2}\\Psi \\end{align} $$ Recall\nSolution:\n$\\Psi(x)=C_{1}e^{ikx}+C_{2}e^{-ikx}$ $\\Psi(x)=C_{1}\\cos(kx)+ C_{2}\\sin(kx)$ (picked this version) The solution is in the form of $$\\Psi(x)=A\\sin(kx)+ B\\cos(kx)$$ Impose the boundary condition:\n$\\Psi(x=0)=B\\cos(0)=0$ $$\\boxed{B=0}$$ $\\Psi(x=a)=A\\sin(ka)=0$ $$\\begin{align} \\sin(ka) \u0026amp; =0 \\ ka \u0026amp; =+\\boldsymbol{\\pi},+2\\boldsymbol{\\pi},+3\\boldsymbol{\\pi}\\dots \\ k_{n} \u0026amp; =\\frac{n\\boldsymbol{\\pi}}{a} \\quad {n\\in \\mathbb{N}} \\Rightarrow \\boxed{E_{n}=\\frac{\\hbar^{2}\\pi^{2}n^{2}}{2ma^{2}}} \\end{align}$$ Note: $n \\neq 0$, since the eq. would vanish entirely. $n\u0026gt;0$, for positive $k$.\n3. Normalization # $$\\Psi(x)=A\\sin(k_{n}x)=A\\sin\\left( \\frac{n\\pi x}{a} \\right)$$ We normalize $$ \\begin{align} \\int^a_{b}|\\Psi_{n}(x)|^{2}, dx \u0026amp; =1 \\ A^{2}\\int^a_{b}\\sin ^{2}\\left( \\frac{n\\pi x}{a} \\right), dx \u0026amp; =1 \\ A^{2}\\cdot \\frac{a}{2} \u0026amp; =1 \\Rightarrow A=\\sqrt{ \\frac{2}{a} } \\end{align} $$ Final Solution: $$\\Psi(x)=A\\sin(k_{n}x)=\\sqrt{ \\frac{2}{a} }\\sin\\left( \\frac{n\\pi x}{a} \\right) \\quad {n\\in \\mathbb{N}}$$ (A): Why $E_{1}\u0026gt;0$? $$\\begin{aligned} \\Delta x \u0026amp;\\sim a \\ \\Delta p \\cdot \\Delta x \u0026amp;\\sim \\hbar \\ \\Delta p \u0026amp;\\sim \\frac{\\hbar}{a} \\quad \\Longrightarrow \\quad KE\\sim \\frac{(\\Delta p)^2}{2 m} \\sim \\frac{\\hbar^2}{2 m a^2}\\end{aligned}$$ (B) States with higher energy have more nodes (C) States are orthonormal: $$\\int_0^a d x \\Psi_n^*(x) \\Psi_m(x)=\\delta_{n m}$$ (D) Completeness: $f(x)$ defined on the interval $[0,a]$, with $f(x=0) = f(x=a) = 0$.\nFourier Series Representation: $$ f(x) = \\sum_{n=1}^{\\infty} c_n \\psi_n(x) = \\sqrt{\\frac{2}{a}} \\sum_{n=1}^{\\infty} c_n \\sin\\left(\\frac{n\\pi x}{a}\\right) $$ $$ \\begin{align} \\int_0^a dx , \\Psi_m^(x) f(x) \u0026amp; = \\sum_{n=1}^{\\infty} C_n \\int_0^a dx , \\Psi_m^(x) \\Psi_n(x) \\ \u0026amp; =\\sum_{n=1}^{\\infty} C_n \\delta_{m,n} \\ \u0026amp; =C_m \\end{align} $$$$\n$$ $$ \\boxed{C_m = \\int_0^a dx , \\Psi_m^*(x) f(x)} $$\n$$ \\delta_{m,n} = \\begin{cases} 1, \u0026amp; \\text{if } m = n \\ 0, \u0026amp; \\text{if } m \\neq n \\end{cases} $$\n"},{"id":27,"href":"/docs/Physics/Quantum-Mechenics/Homework/HW3-Code/","title":"Hw3 Code","section":"Quantum Mechenics","content":"import numpy as np import scipy.sparse as sp import scipy.sparse.linalg as spla import matplotlib.pyplot as plt\ndef computation(): #parameters N, V0_tilde, L = 600, 10.0, 1.0 M, dx = N - 2, L / (N - 1) x_vals = np.linspace(-0.5 * L + dx, 0.5 * L - dx, M) # Interior points\n# KE matrix T (tridiagonal) factor = (N**2) / (np.pi**2) T = sp.diags([np.full(M - 1, -factor), np.full(M, 2 * factor), np.full(M - 1, -factor)], [-1, 0, 1]) # PE matrix V (diagonal) V = sp.diags(np.where(np.abs(x_vals) \u0026lt; (L / 6), V0_tilde, 0)) #Hamiltonian H = T + V H = T + V #solve for lowest two eigenvalues/eigenvectors eigvals, eigvecs = spla.eigsh(H, k=2, which='SM') eigvals, eigvecs = zip(*sorted(zip(eigvals, eigvecs.T))) # Sort eigenvalues \u0026amp; vectors print(f\u0026quot;Ground state energy = {eigvals[0]}\u0026quot;) print(f\u0026quot;1st excited energy = {eigvals[1]}\u0026quot;) #include boundary points x_full = np.linspace(-0.5 * L, 0.5 * L, N) psi_full = [np.concatenate(([0], psi, [0])) for psi in eigvecs] # Plot wavefunctions plt.figure(figsize=(8,6)) plt.plot(x_full, psi_full[0], color='red',label=\u0026quot;Ground State\u0026quot;) plt.plot(x_full, psi_full[1], color='blue', label=\u0026quot;1st Excited State\u0026quot;) plt.axvspan(-L/6, L/6, color='gray', alpha=0.1, label='Barrier region') plt.title(\u0026quot;Wavefunctions for lowest two states\u0026quot;) plt.xlabel(\u0026quot;x (dimensionless)\u0026quot;) plt.ylabel(\u0026quot;ψ(x)\u0026quot;) plt.legend() plt.grid() plt.show() if name == \u0026ldquo;main\u0026rdquo;: computation()\n"},{"id":28,"href":"/docs/Physics/Quantum-Mechenics/Wave-Functions-live-in-Hilbert-Space/","title":"Wave Functions Live in Hilbert Space","section":"Quantum Mechenics","content":" Hilbert Space # Infinite dimensional vector space, denoted as $L^2(a,b)$, of square-integrable functions on an interval $[a,b]$. $$\\int_a^b |f(x)|^2 , dx \u0026lt; \\infty$$ Inner product defined as: $$\\langle f | g \\rangle = \\int_a^b f^(x)g(x) , dx$$ Note that: $$\\langle f | g \\rangle = \\langle g | f \\rangle^$$ $$\\langle f | f \\rangle = \\int_a^b |f(x)|^2 , dx \\geq 0$$ Also: $$\\langle f | f \\rangle = 0 \\iff f(x) = 0 \\quad\\text{in the interval}\\quad [a,b]$$\nOrthonormal Set ${f_n}$ # $$\\langle f_m | f_n \\rangle = \\int_a^b f_m^*(x)f_n(x),dx = \\delta_{m,n}$$ Completeness: A set of functions ${f_n}$ is complete if any $f(x)$ in the Hilbert space can be expanded as: $$f(x) = \\sum_n c_n f_n(x)$$ If ${f_n}$ is orthonormal, then: $$c_n = \\langle f_n | f \\rangle$$\nObservables and Hermitian Operators # An operator $\\hat{Q}$ is Hermitian if:\n$$ \\hat{Q} = \\hat{Q}^{\\dagger} $$\nProperties # Eigenvalues are real. Expectation value $\\langle Q \\rangle$:\n$$ \\langle Q \\rangle = \\langle \\psi | \\hat{Q} \\psi \\rangle = \\langle \\hat{Q}^{\\dagger} \\psi | \\psi \\rangle = \\langle \\psi | \\hat{Q} \\psi \\rangle^{*} $$\nThus,\n$$ \\langle Q \\rangle \\quad \\text{is real} $$\nCheck inner product:\n$$ \\langle f| \\hat{x} g \\rangle = \\int_{-\\infty}^{\\infty} f^*(x) x g(x) , dx $$\nComplex conjugate clearly shows:\n$$ = \\int_{-\\infty}^{\\infty} (x f(x))^* g(x) , dx = \\langle \\hat{x}f | g \\rangle $$\nThus,\n$$ \\hat{x} = \\hat{x}^{\\dagger} \\quad \\Rightarrow \\quad \\text{Hermitian} $$\nEvaluate inner product:\n$$ \\langle f| \\hat{p} g \\rangle = \\int_{-\\infty}^{\\infty} f^*(x) \\left(-i\\hbar \\frac{d}{dx}\\right) g(x) , dx $$\nUsing integration by parts:\n$$ = -i\\hbar \\int_{-\\infty}^{\\infty} dx \\frac{d}{dx}(f^(x)g(x)) + i\\hbar \\int_{-\\infty}^{\\infty} dx \\frac{df^(x)}{dx} g(x) $$\nBoundary term vanishes:\n$$ = -i\\hbar [f^*(x)g(x)]_{-\\infty}^{\\infty} + \\langle \\hat{p} f | g \\rangle, \\quad \\text{with boundary term = 0} $$\nThus:\n$$ \\langle f| \\hat{p} g \\rangle = \\langle \\hat{p} f | g \\rangle \\quad \\Rightarrow \\quad \\hat{p} = \\hat{p}^{\\dagger}, \\quad \\text{Hermitian!} $$\nObservables and Hermitian Operators # Hermitian Operator: # An operator $\\hat{Q}$ is Hermitian if:\n$$\\hat{Q} = \\hat{Q}^{\\dagger}$$\nSpectrum of $\\hat{Q}$ # Spectrum: The collection of all eigenvalues $q \\in \\mathbb{R}$. Eigenvalue equation:\n$$\\hat{Q}\\Psi = q\\Psi$$\nwhere:\n$q$ is an eigenvalue. $\\Psi$ represents eigenvectors, eigenstates, or eigenfunctions. Standard Deviation: # The uncertainty (standard deviation) $\\sigma$ of an observable $\\hat{Q}$ is given by:\n$$\\sigma^2 = \\langle \\Psi | \\hat{Q}^2 \\Psi \\rangle - \\langle \\Psi | \\hat{Q} \\Psi \\rangle^2$$\nIf $\\Psi$ is an eigenfunction of $\\hat{Q}$:\nEigenvalue equations: $$\\hat{Q}\\Psi = q\\Psi, \\quad \\hat{Q}^2 \\Psi = q^2 \\Psi$$\nThen, the standard deviation becomes:\n$$\\langle \\Psi | \\hat{Q}^2 \\Psi \\rangle = q^2 \\langle \\Psi | \\Psi \\rangle = q^2$$ $$\\langle \\Psi | \\hat{Q} \\Psi \\rangle^2 = (q \\langle \\Psi | \\Psi \\rangle)^2 = q^2$$\nThus:\n$$\\sigma^2 = q^2 - q^2 = 0$$\n\u0026mdash; Physical Interpretation: # This means that if we prepare a quantum state to be an eigenstate/eigenvector/eigenfunction of $\\hat{Q}$, then a measurement of $\\hat{Q}$ will return a definite value. In this case, the state $|\\Psi\\rangle$ is called a determinate state.\nExample # For $\\hat{H}\\Psi = E\\Psi$, we have:\n$E$ is an eigenvalue (energy level) belonging to the set ${ E }$, which represents all possible energies of the system. $\\Psi$ are the corresponding eigenstates/eigenfunctions of definite energy (stationary states). Example: Energy Eigenvalue Equation # The Schrödinger equation for a quantum system is given by:\n$$\\hat{H}\\Psi = E\\Psi$$\nWhere:\n$E$ is an eigenvalue (energy level) belonging to the set ${ E }$, representing all possible energies of the system. $\\Psi$ represents the corresponding eigenstates or eigenfunctions of definite energy, also known as stationary states. Particle on a Ring of Radius $R$ # Coordinate transformation: $$x = R \\cdot \\phi, \\quad (\\text{with } \\phi \\text{ periodic, } \\phi \\sim \\phi + 2\\pi)$$\nMomentum Operator in Circular Coordinates: # $$\\hat{p} = -i\\hbar\\frac{d}{dx} = -i\\hbar\\frac{\\partial}{R\\partial\\phi} = \\frac{\\hbar}{R}\\left(-i\\frac{\\partial}{\\partial\\phi}\\right)$$\nCheck if $\\hat{Q}$ is Hermitian:\n$$\\langle f|\\hat{Q}g \\rangle \\stackrel{?}{=} \\langle \\hat{Q}f | g \\rangle$$\nHermiticity Check for Operator $\\hat{x}$: # $$\\langle f|\\hat{x}g \\rangle = \\int_{-\\infty}^{\\infty}f^*(x)xg(x),dx = \\langle \\hat{x}f|g \\rangle \\quad \\Rightarrow \\quad \\hat{x} = \\hat{x}^{\\dagger}$$\nThus, $\\hat{x}$ is Hermitian.\nEigenvalues and Eigenfunctions (Periodic Boundary Conditions): # Functions on a ring of radius $R$: periodic with $\\phi$: $$f(\\phi+2\\pi) = f(\\phi)$$ $$g(\\phi+2\\pi) = g(\\phi)$$ Eigenvalue equation for the operator $\\hat{Q}$: $$\\hat{Q}f(\\phi)=q f(\\phi)$$ Solve for $f(\\phi)$: $$-i\\frac{d f(\\phi)}{d\\phi} = q f(\\phi) \\quad\\Rightarrow\\quad f(\\phi) = A e^{i q \\phi}$$ Normalization and Quantization of $q$: # From periodic boundary condition:\n$$f(\\phi + 2\\pi) = A e^{i q (\\phi+2\\pi)} = A e^{i q \\phi} e^{i q 2\\pi} = f(\\phi)$$\nThus,\n$$e^{i q 2\\pi} = 1 \\quad\\Rightarrow\\quad q = 0, \\pm1, \\pm2, \\pm3, \\dots$$\nNormalization condition: # $$\\int_0^{2\\pi} d\\phi |f(\\phi)|^2 = \\int_0^{2\\pi} d\\phi |A|^2 = |A|^2 \\cdot 2\\pi = 1$$\nThus,\n$$|A|^2 = \\frac{1}{2\\pi} \\quad\\Rightarrow\\quad A = \\frac{1}{\\sqrt{2\\pi}}$$\nFinal Set of Eigenfunctions and Eigenvalues: # $$f_q(\\phi) = \\frac{1}{\\sqrt{2\\pi}} e^{i q \\phi}, \\quad q = 0, \\pm1, \\pm2, \\dots$$\nEigenvalues for Momentum $\\hat{p}$: # $$\\frac{\\hbar}{R}q = 0, \\pm\\frac{\\hbar}{R}, \\pm\\frac{2\\hbar}{R}, \\pm\\frac{3\\hbar}{R}, \\dots$$\nHere\u0026rsquo;s the requested content neatly formatted in Markdown with LaTeX notation, using the {align} environment for clarity:\nEigenfunctions of a Hermitian Operator # $$\\hat{Q}\\psi = q\\psi$$\nDiscrete Spectra: $$\\hat{Q} f = q f$$\nEigenvalues $q \\in \\mathbb{R}$. For two eigenfunctions $f$ and $g$ corresponding to distinct eigenvalues $q$ and $q\u0026rsquo;$, we have: $$\\hat{Q}f = qf, \\quad \\hat{Q}g = q\u0026rsquo;g,\\quad q \\neq q\u0026rsquo;$$ Then: $$\\langle f | \\hat{Q} g \\rangle = \\langle \\hat{Q}f|g \\rangle$$\nBut also: $$q\u0026rsquo;\\langle f|g \\rangle = q\\langle f|g\\rangle \\implies (q - q\u0026rsquo;)\\langle f|g\\rangle = 0$$\nThus, for distinct eigenvalues: $$\\langle f|g\\rangle = 0$$\nContinuous Spectra # Consider eigenfunctions of the momentum operator on the real line $(-\\infty, +\\infty)$:\n$$-i\\hbar \\frac{d}{dx}f_p(x) = p,f_p(x)$$\nEigenfunctions have the form: $$f_p(x) = A e^{\\frac{i p x}{\\hbar}}$$\nNote that these eigenfunctions are not square-integrable: $$\\int_{-\\infty}^{\\infty}|f_p(x)|^2,dx = |A|^2\\int_{-\\infty}^{\\infty}\\left|e^{\\frac{ipx}{\\hbar}}\\right|^2dx = \\infty$$\nHence, the eigenfunctions corresponding to continuous eigenvalues are not square-integrable functions.\n"},{"id":29,"href":"/docs/Physics/section/","title":"Section","section":"Physics","content":" Section # Section renders pages in section as definition list, using title and description. Optional param summary can be used to show or hide page summary\nExample # {{\u003c section [summary] \u003e}} Buttons Buttons # Buttons are styled links that can lead to local page or external link.\nExample # {{\u003c button relref=\"/\" [class=\"...\"] \u003e}}Get Home{{\u003c /button \u003e}} {{\u003c button href=\"https://github.com/alex-shpak/hugo-book\" \u003e}}Contribute{{\u003c /button \u003e}} Get Home Contribute "},{"id":30,"href":"/docs/Physics/section/buttons/","title":"Buttons","section":"Section","content":" Buttons # Buttons are styled links that can lead to local page or external link.\nExample # {{\u003c button relref=\"/\" [class=\"...\"] \u003e}}Get Home{{\u003c /button \u003e}} {{\u003c button href=\"https://github.com/alex-shpak/hugo-book\" \u003e}}Contribute{{\u003c /button \u003e}} Get Home Contribute "},{"id":31,"href":"/posts/2025-Topology-Summer-Research/","title":"2025 Topology Summer Research","section":"Blog","content":" Summer Application: # https://sgi.mit.edu/about-geometry-processing/\nApril # https://topologyandgeometry.iu.edu/gstgc25/\nMay # https://topology.franklinresearch.uga.edu/2025GITC\nPast Year # https://sites.google.com/view/princetonrtg2023/mini-conferences\n"},{"id":32,"href":"/posts/Image-to-3D-Model/","title":"Image to 3 D Model","section":"Blog","content":" Converting 2D Anime-Style Clothing to 3D: Tools \u0026amp; Workflow # Creating 3D clothing from 2D anime-style references (like Genshin Impact outfits) is now faster with AI-assisted tools, though manual refinement is often needed for the best results. This guide focuses on clothing conversion – taking 2D images of robes, armor, or accessories and turning them into stylized 3D meshes with clean topology. We’ll explore the top AI tools and workflows (as of 2025) and outline a step-by-step process compatible with Blender.\nKey Requirements for 2D-to-3D Clothing Conversion # Stylized Fidelity: The 3D clothing should match the anime/Genshin Impact aesthetic of the concept art (shapes, folds, and design details). Optimized Topology: Meshes need clean, animation-friendly topology (proper edge loops, reasonable polycount) for attaching to a rigged character. Texture \u0026amp; Detail: Preserve clothing details (patterns, trims, armor segments) either as modeled geometry or textures/normal maps. Rigging Compatibility: The generated clothing must fit the existing character and allow weight painting or rig transfers so it deforms correctly during animation. Minimal Restrictions: Tools that allow creative freedom (no strict content rules) are preferred so any custom outfit design can be used. AI-Powered Tools for Image-to-3D Clothing Conversion # Modern AI tools can convert a single 2D image into a 3D model in minutes ( Converting 2D Images into 3D Models with AI: The step-by-step Guide). These are particularly useful to get a base 3D mesh of a clothing piece quickly, which can then be refined. Below are some of the best options:\nMeshy AI (Image to 3D): A popular AI 3D model generator with an image-to-3D feature and even a Blender plugin ( Meshy AI - The #1 AI 3D Model Generator for Creators) ( Meshy AI - The #1 AI 3D Model Generator for Creators). Meshy supports different art styles (including anime) for output ( Converting 2D Images into 3D Models with AI: The step-by-step Guide) ( Meshy AI - The #1 AI 3D Model Generator for Creators). You upload concept art or reference photos and get a 3D model with textures. Pros: Fast cloud generation, supports versatile art styles (can capture stylized looks) ( Meshy AI - The #1 AI 3D Model Generator for Creators), exports to common formats (OBJ, FBX, GLB, etc.) for easy Blender import ( Meshy AI - The #1 AI 3D Model Generator for Creators). Cons: Paid service (free tier available with limits), and results may require cleanup if topology is dense or if some parts are inaccurate.\nMazing AI / 3DFY.ai: Services that turn single images into 3D models with a focus on realism and high quality ( Converting 2D Images into 3D Models with AI: The step-by-step Guide). Mazing (an e-commerce oriented tool) emphasizes automatic texturing and real-time optimization ( Converting 2D Images into 3D Models with AI: The step-by-step Guide) ( Converting 2D Images into 3D Models with AI: The step-by-step Guide). 3DFY.ai similarly promises high-quality results from one image ( 3DFY.ai). Pros: Quick image to model conversion; optimized for product visuals. Cons: May be geared towards realistic objects; stylized anime clothing might need additional editing to match the art style.\nKaedim and Alternatives (Tripo 3D, Alpha3D): Kaedim is an AI-assisted service where you upload an image (even a sketch or concept) and their pipeline (ML + human touch-ups) delivers a 3D model ( Kaedim Alternatives in 2025 | Best Kaedim Alternatives - Toolify). Tripo 3D offers a similar “single image to 3D in seconds” solution with emphasis on detailed geometry and textures ( Kaedim Alternatives in 2025 | Best Kaedim Alternatives - Toolify). Alpha3D provides image-to-3D generation but currently only for certain categories (e.g. shoes, furniture) ( Transform text and 2D images into 3D assets with generative AI for free - Alpha3D). Pros: These services deliver production-ready assets with textures and decent topology, suitable for game engines ( Kaedim Alternatives in 2025 | Best Kaedim Alternatives - Toolify). Cons: They are paid services (some with subscriptions) and may have category limits. Quality can vary – often a good starting point but still might need retopology for optimal loops.\nThe New Black (AI Fashion Generator): A specialized tool for fashion design that can turn an outfit image into a realistic 3D clothing model ( AI Fashion Features | Clothing Design). It’s geared toward apparel designers (e.g. previewing how a garment looks in 3D). Pros: Focused on clothing, likely good with fabric details like folds and drape. Cons: Primarily aimed at realistic fashion; you might need to simplify or stylize the output for anime characters. Also, it may output standalone clothing on a generic avatar that you’ll have to refit to your character.\nHunyuan 3D (Tencent): An AI model available via HuggingFace that generates 3D meshes from an image (used in the community alongside Meshy) ( Do you know an AI to create cloth and outfit? - Daz 3D Forums). It’s free to try and can handle characters or clothes. Pros: Free and accessible; known to work for generating a rough clothed figure mesh. Cons: The output might be a combined human+clothes mesh (if the input was a full character image) and will definitely require manual retopology and separation of the clothing. Good for getting the overall shape of a complex outfit, but not a final game-ready mesh.\n“Pic-to-3D Mesh” Blender Add-on: An add-on that integrates AI image-to-3D conversion directly in Blender ( Top AI Tools for Model Generation on Blender 3D - Vagon). You can input a reference image (e.g. a front view of a costume) and it generates a detailed 3D mesh inside Blender ( Top AI Tools for Model Generation on Blender 3D - Vagon). Pros: Fully inside Blender – no need to use external apps; straightforward UI and quick conversion with just a few clicks ( Top AI Tools for Model Generation on Blender 3D - Vagon). This is useful to instantly get a mesh that you can start editing in the same session. Cons: Being relatively new, results can be hit-or-miss on complex armor or multi-layer outfits; likely works best for simpler garments or accessory pieces.\nPixelModeler AI (Blender Add-on): A unique workflow where you paint on a 2D canvas in Blender and an AI generates a corresponding 3D mesh ( PixelModeller AI - Blender Market) ( PixelModeller AI - Blender Market). This can be used by painting the silhouette or even a depth map of the clothing; the addon will create a solid mesh from it. Generated models are watertight, UV-mapped, and come with vertex colors (a basic texture) ( Top AI Tools for Model Generation on Blender 3D - Vagon), ready for further detailing. Pros: Gives a lot of control – you essentially guide the shape by painting, so it’s AI-assisted modeling rather than fully automatic. No external service needed (the AI model runs locally) ( PixelModeller AI - Blender Market). Cons: There is a learning curve to painting effective guides. It won’t automatically produce intricate patterns – you’ll need to add those via texture or additional modeling.\nComparison of Key Tools # Below is a quick comparison of these tools relevant to 2D-to-3D clothing conversion:\nTool/Service Type Output Quality Topology \u0026amp; UVs Integration with Blender Notes Meshy AI Cloud AI (image→3D) High detail; supports anime style ( Converting 2D Images into 3D Models with AI: The step-by-step Guide) ( Meshy AI - The #1 AI 3D Model Generator for Creators) Decent mesh; textured output (may need retopo) Blender plugin available ( Meshy AI - The #1 AI 3D Model Generator for Creators) Fast; paid (free trial available). Mazing / 3DFY.ai Cloud AI (image→3D) Photorealistic focus, good folds Optimized for real-time ( Converting 2D Images into 3D Models with AI: The step-by-step Guide); provides textures Exports standard formats (OBJ/FBX) Great for realism; stylization may require tweaks. Kaedim Cloud AI (+human) Custom models from concept art Cleaned by artists; quad topology Download to import in Blender Consistent results; subscription-based. Tripo 3D Cloud AI (image→3D) Fast generation, detailed textures ([Kaedim Alternatives in 2025 Best Kaedim Alternatives - Toolify]( https://www.toolify.ai/alternative/kaedim#:~:text=,model%20generation)) Unknown topology quality Exports GLB/OBJ The New Black (Fashion) Cloud AI (image→3D) Realistic garment on avatar Likely well-formed cloth mesh Export capabilities (likely OBJ/FBX) Fashion design oriented; may need rigging after import. Hunyuan (Tencent) Cloud AI (image→3D) Full character mesh with clothes High-poly, needs retopo OBJ export via HuggingFace demo Free; good for concept shape ( Do you know an AI to create cloth and outfit? - Daz 3D Forums). Pic-to-3D (Blender) Blender Add-on Good for single-object models ( Top AI Tools for Model Generation on Blender 3D - Vagon) Mesh quality varies; UV depends Inside Blender (no export needed) Convenient, no coding needed. PixelModeler (Blender) Blender Add-on User-guided, can achieve high detail Watertight \u0026amp; UV-mapped ( Top AI Tools for Model Generation on Blender 3D - Vagon) Inside Blender Interactive painting workflow. Table: AI-Based 2D→3D Clothing Tools – Comparison (performance as of 2025).\nAI-Assisted + Manual Workflow Strategies # Fully automated results often need human improvement. In practice, the best quality comes from combining AI generation with manual modeling ( Converting 2D Images into 3D Models with AI: The step-by-step Guide). Here are some AI-assisted workflows that clothing artists use:\nImage Inpainting + Mesh Generation: One clever approach is to use AI image tools to conceptually dress your character, then extract a model. For example, a community-suggested workflow is: render your character’s base body in T-pose, use an AI image editor (like Stable Diffusion inpainting or Photoshop’s generative fill) to “paint” new clothes onto the image, isolate just the garment in the edited image, then input that into an image-to-3D tool (Meshy or Hunyuan) to get a 3D mesh ( Do you know an AI to create cloth and outfit? - Daz 3D Forums). This way, the AI helps create a consistent design on the body and another AI turns it into geometry. You’d still need to retopologize and UV map the result manually ( Do you know an AI to create cloth and outfit? - Daz 3D Forums), but it jumpstarts the modeling process for complex costumes.\nDepth Map Extraction: If you have a front-view concept art of the outfit, you can generate a depth map (using AI like MiDaS or Stable Diffusion depth estimation). That depth map can be used to displace a plane or guide a mesh generation. Tools like PixelModeler AI automate this: they generate a depth internally from the image and produce a mesh ( PixelModeller AI - Blender Market). The output will capture the relief (folds, protrusions) from the concept art, though you’ll have to model or guess the back side of the garment. This method is useful for armor pieces or relief details on clothing that are visible in the concept.\nTemplate-Based Generation (Parametric): Some solutions use parametric templates plus AI for customization. Sloyd.ai, for instance, combines a library of human-made base models with AI adjustments, ensuring the result is game-ready with UV maps and LODs generated, and optimized meshes ( SLOYD AI: A 3D Automation Tool To Generate Game-Ready Assets – startupanz.com). If there are clothing templates (e.g. a generic T-shirt, jacket, dress) you can morph those to roughly match your design and let the tool handle topology. This is semi-manual: you pick the base closest to your design and tweak. Note: As of 2025, parametric generators like Sloyd have many props and environment assets; clothing templates might be limited, but the approach guarantees clean topology if a template fits your needs.\nManual Sculpt with AI Reference: Another assisted route is using the AI output as a reference or base mesh and then manually sculpting over it. For example, you can take a coarse mesh from an AI, bring it into Blender, and use multiresolution sculpting or retopology tools (like Quad Remesher or Blender’s shrinkwrap) to impose a clean topology that follows the AI model’s shape. The AI model essentially serves as a 3D concept sketch. You can also project the texture from the AI model (if it provided one) onto your new topology for a starting point.\nManual Tools for 3D Clothing Creation # While AI is speeding things up, manual modeling tools are still crucial, especially for achieving the cleanest results and stylized looks:\nMarvelous Designer / CLO3D: These are industry-standard tools for designing clothing using pattern-based simulation. You draw 2D garment patterns, sew them, and the software simulates the cloth on a avatar model – perfect for creating natural folds and drapes. Pros: Extremely high fidelity cloth behavior; great for layered outfits, pleats, ruffles, etc. You can match an anime costume by designing similar patterns. Marvelous can even auto-generate PBR texture maps like normal and opacity for details ( [Tips\u0026amp;Tricks] Discover Better Workflow with Marvelous Designer and Unreal Engine – Marvelous Designer). Cons: The meshes are triangulated and high-poly (since it’s focused on simulation). You will need to retopologize the garment for use in a game or realtime engine ( Retopology of Marvelous Designer Clothes in Blender - YouTube). Marvelous has introduced some retopo tools (EveryWear Auto-Retopology) and can even rig garments, but often external retopo (using Blender or ZBrush) gives more control. Despite not being AI, Marvelous is frequently recommended for creating custom outfits ( Do you know an AI to create cloth and outfit? - Daz 3D Forums) because of the quality of the result. The typical workflow is simulate in Marvelous → export OBJ → retopo in Blender → transfer to character rig. ( [Tips\u0026amp;Tricks] Discover Better Workflow with Marvelous Designer and Unreal Engine – Marvelous Designer) Example of a stylized 3D outfit created with cloth simulation. (This fairy-like garment was designed and simulated in Marvelous Designer, showcasing layered fabric, ruffles, and realistic folds.)\nBlender’s Sewing/Cloth Tools: If you prefer open-source, Blender itself has cloth simulation and addons like Garment Tool that mimic Marvelous’s pattern sewing approach. You can import your character into Blender, model garment panels (or even trace them from reference images), then use cloth physics to drape them. The result can then be applied as a shape key or applied mesh. You’ll still need to manually refine the mesh topology. Blender’s sculpting tools (cloth brush, slide relax, etc.) can also help adjust folds. This approach is manual and requires skill, but no additional cost.\nDirect Poly Modeling: For hard-surface armor pieces or very structured outfits (like a mech suit or a rigid breastplate), classic poly modeling or box modeling in Blender might be the way to go. You can use the 2D image as a reference in the background and model the clothing piece by piece (ensuring proper topology as you go). This is time-consuming but yields the cleanest meshes. You might use AI just to generate normals or texture details in this case, rather than the mesh.\nRetopology \u0026amp; Refinement Tools: No matter which initial method you choose, retopology tools are vital for clothing. Blender has a PolyBuild and Snap-to-face retopo workflow, and add-ons like RetopoFlow can speed it up. If you have ZBrush, ZRemesher can quickly re-mesh a triangulated Marvelous output into quads, which you can then tweak. There are also auto-retopology AI in development – for instance, some research tools attempt to auto-retopo meshes with neural networks, but in practice most artists still do this part manually or with traditional algorithms. The goal is to end up with edge loops around openings (neck, arm holes) and ideally follow the flow of fabric folds with the topology for deformation.\nRecommended Workflow (Step-by-Step) # Bringing it all together, here is a step-by-step workflow to convert a 2D outfit into a 3D mesh and attach it to your Blender character, using the best of AI and manual tools:\n1. Gather Reference Images: Ideally have the concept art or reference of the clothing from as many angles as possible. A front view is usually required for AI tools; a side or back view (if available) will help during modeling or can be fed into some tools for better accuracy. If only a front view exists, be prepared to interpret the design for the unseen parts.\n2. Choose an AI Generation Method for Base Mesh: For a head start, pick one of the AI approaches:\nOption A: Use Meshy AI (or similar service) to upload the clothing image and generate a 3D model. Download the result (e.g. as a .glb or .obj) when ready ( Meshy AI - The #1 AI 3D Model Generator for Creators).\nOption B: In Blender, install the Pic-to-3D Mesh addon and run it on your reference image to get a mesh ( Top AI Tools for Model Generation on Blender 3D - Vagon).\nOption C: If the outfit is very complex or you want a full mannequin with clothing, try the Hunyuan 3D demo by providing an image of the clothed character; then extract the clothing mesh from the output.\nOption D: If you have a concept sketch, consider Kaedim/Tripo services for a perhaps cleaner base model (they might return the model next day or in a couple of hours, which you can then use).\nRegardless of option, don’t expect a perfect final model – treat this as a rough draft or proof of concept in 3D. It should capture the overall shape and major details of the clothing.\n3. Import and Inspect in Blender: Bring the generated 3D model into Blender. Center and scale it to your character. At this stage:\nCheck the mesh density and topology. Are there a lot of uneven triangles or random bumps? Check if all parts of the outfit are present. Sometimes single-view reconstructions leave holes or undefined backs. You may need to patch holes (Blender’s Fill or Grid Fill can help) or even mirror parts of the mesh if symmetry can be assumed. If the tool provided textures, apply them to see the look. However, for anime style, you might later hand-paint textures or use simple materials, so textures are optional. 4. Retopologize the Clothing Mesh: This is crucial for optimization. You can use Blender’s retopology tools to create a new mesh over the AI mesh:\nAdd a shrinkwrap modifier on a new mesh and model low-poly geometry that tightly wraps the AI model. Focus on quads and logical edge flow (e.g. edge loops around cuffs, hemlines, and along seams). Alternatively, use an auto-retopo tool: for example, Instant Meshes (free tool) or Quad Remesher (paid) to get a quick quad mesh. You might still tweak the output by hand. Ensure the retopo’d mesh has proper thickness where needed (you can solidify later if it’s cloth, but parts like armor might be modeled as solid pieces). UV unwrap the new mesh if not already UV’d. Good UVs are needed for texturing anime-style details (like emblems or gradients on the fabric). 5. Fit and Attach to the Character: Place the new clothing mesh on the character in the correct pose (usually T-pose or A-pose matching the rig). To attach:\nUse Blender’s Transfer Weights: parent the clothing to the armature (with empty groups), then select the body, then clothing, and use Weight Transfer (source: body, destination: clothing). This copies the rig weights so the clothing will move with the body ( How separte clothes for Animatoion? - CG Cookie). Check deformation by posing the character. Likely you will need to clean up weights (for instance, ensure sleeves move with the arms, etc. without too much clipping). If the clothing is very close to the body, you might need to delete hidden faces of the character under the clothes to avoid mesh clipping in tight areas (e.g. remove torso polygons under a shirt). For rigid pieces (like armor plates), you may instead want to assign them to a specific bone and keep them rigid or use a bone parent for that object. 6. Detail and Texture: Now polish the visual fidelity:\nSculpt or model finer folds that the AI may have missed. You can use Blender’s sculpt mode with the cloth brush or crease brush to imprint additional wrinkle lines where appropriate. Add thickness to cloth if it’s just a single surface (Solidify modifier). Stylized outfits often have a bit of thickness at edges (e.g. a coat lapel). Texture Painting: For anime style, a lot of detail can come from textures (like painted shadows or highlights, stylized fabric patterns). You can paint directly in Blender or use Substance 3D Painter. If the original 2D image has patterns (say, a symbol on the back of a cape), use it as a reference or even project it onto your UV map. Generate normal maps if needed. For example, if the outfit has an engraved design or stitching that is too fine to model, you can paint a height map and bake it to a normal map. Some AI tools can assist in generating texture maps from descriptions (e.g. Meshy has an AI texturing feature) ( Kaedim Alternatives in 2025 | Best Kaedim Alternatives - Toolify), which could be used to create stylized fabric textures by prompting. 7. Iterate and Refine: After these steps, you should have the clothing on the character, but iteration is key:\nGo back and forward between sculpting, adjusting topology, and tweaking weights until the clothing looks right and deforms well in various poses. If something is off compared to the concept art (maybe the AI misunderstood a part of the design), you might have to model that part manually. It’s common to model small accessories or intricate pieces separately (for example, a belt buckle or a brooch) and then attach them. LOD (Level of Detail): If this is for a game, consider making lower-poly versions or at least ensure the topology is efficient. AI meshes can be decimated or re-generated at lower detail if needed. 8. Final Check and Export: Once satisfied, you can integrate the clothed character into your project. Because we focused on Blender compatibility, you can continue to animate or render in Blender. If exporting to a game engine, export the character with the outfit as FBX/GLTF with the armature. Double-check that all parts are properly bound and that textures are packed or exported.\nThroughout this process, remember that AI is a helper, not a replacement for your skill. Even the best AI-generated model benefits from a human artist’s eye for clean topology and style accuracy. As one guide noted, AI tools speed up getting a base, but “as AI is not perfect, [enhancement] is recommended” to reach production quality ( Converting 2D Images into 3D Models with AI: The step-by-step Guide). Don’t hesitate to do manual touch-ups – the goal is a high-quality anime-style outfit that looks like it was hand-crafted for the character.\nConclusion # Converting 2D anime-style clothing into 3D is becoming more accessible thanks to AI innovations. Tools like Meshy, PicTo3D, and others can generate a quick 3D draft of an outfit from a single concept image ( Top AI Tools for Model Generation on Blender 3D - Vagon) ( Converting 2D Images into 3D Models with AI: The step-by-step Guide), saving hours of initial modeling. However, the best results come from a hybrid workflow: leveraging AI for speed and then applying traditional modeling techniques for accuracy and clean topology. This collaborative approach (AI plus human) is highlighted as the future of 3D content creation ( Converting 2D Images into 3D Models with AI: The step-by-step Guide) ( Converting 2D Images into 3D Models with AI: The step-by-step Guide) – AI handles the heavy lifting of shape prediction, while the artist refines and stylizes the final asset.\nBy carefully choosing the right tools and following a structured workflow, you can efficiently bring 2D costume designs into the 3D world, ready to be worn by your Blender character. The combination of AI-assisted generation and manual refinement ensures you get both speed and quality – detailed Genshin Impact-style clothing that not only looks great but is also rigged and optimized for your creative projects.\nSources # MazingXR Blog – “Converting 2D Images to 3D Models with AI” (Feb 2025) ( Converting 2D Images into 3D Models with AI: The step-by-step Guide) ( Converting 2D Images into 3D Models with AI: The step-by-step Guide) ( Converting 2D Images into 3D Models with AI: The step-by-step Guide) Vagon Blog – “Top AI Tools for Model Generation on Blender 3D” ( Top AI Tools for Model Generation on Blender 3D - Vagon) ( Top AI Tools for Model Generation on Blender 3D - Vagon) Daz3D Forums – “Do you know an AI to create cloth and outfit?” (Jan 2025) ( Do you know an AI to create cloth and outfit? - Daz 3D Forums) ( Do you know an AI to create cloth and outfit? - Daz 3D Forums) StartupAnz – “Sloyd AI: Game-Ready 3D Asset Generation” ( SLOYD AI: A 3D Automation Tool To Generate Game-Ready Assets – startupanz.com) Alpha3D.io – “2D image to 3D model generation (limitations)” ( Transform text and 2D images into 3D assets with generative AI for free - Alpha3D) Toolify AI – “Kaedim Alternatives in 2025” ( Kaedim Alternatives in 2025 | Best Kaedim Alternatives - Toolify) (Tripo3D features) Marvelous Designer Official Support – Workflow tips (pleat and texture generation) "},{"id":33,"href":"/docs/Mathematics/MATH-412-Real-Analysis-II/%E7%AC%AC%E5%85%AD%E7%AB%A0/6.4-Sufficient-Conditions-for-Differentiability/","title":"6.4 可微分性的必要条件","section":"第六章 可微映射","content":" 1. Necessary Condition for Differentiability # Recall: A necessary condition for differentiability: $$ \\boxed{ f \\text{ differentiable} \\Rightarrow f \\text{ is continuous} } $$ Continuity is a requirement. 2. Sufficient Conditions for Differentiability # (a) Partial derivatives and differentiability f differentiable $\\Rightarrow$ continuity + partials exists conditions + partials exists $\\Rightarrow f$ differentiable (?)\nEx. 1 # Consider the function defined as:\n$$ f(x,y) = \\begin{cases} \\frac{xy}{x^2 + y^2}, \u0026amp; (x,y) \\neq (0,0) \\ 0, \u0026amp; (x,y) = (0,0) \\end{cases} $$\nClaim 1: ( f ) is continuous at ( (0,0) ). # We analyze the limit:\n$$ |xy| \\leq \\frac{1}{2} (x^2 + y^2) $$\nwhich implies:\n$$ f(x,y) \\to 0 \\quad \\text{as} \\quad (x,y) \\to (0,0) $$\nThus, ( f ) is continuous at ( (0,0) ).\nClaim 2: Compute partial derivatives at ( (0,0) ) # $$ \\frac{\\partial f(0,0)}{\\partial x} = \\lim_{x \\to 0} \\frac{f(x,0) - f(0,0)}{x} = \\lim_{x \\to 0} \\frac{0}{x} = 0 $$\n$$ \\frac{\\partial f(0,0)}{\\partial y} = \\lim_{y \\to 0} \\frac{f(0,y) - f(0,0)}{y} = \\l\n"},{"id":34,"href":"/docs/Mathematics/MATH-412-Real-Analysis-II/%E7%AC%AC%E5%85%AD%E7%AB%A0/6.5-The-Chain-Rule/","title":"6.5 链式法则","section":"第六章 可微映射","content":"[ ]\n"},{"id":35,"href":"/docs/Mathematics/MATH-412-Real-Analysis-II/%E7%AC%AC%E5%85%AD%E7%AB%A0/6.6-Product-Rule-and-Gradients/","title":"6.6 乘积法则与梯度","section":"第六章 可微映射","content":"[ ]\n"},{"id":36,"href":"/docs/Mathematics/MATH-412-Real-Analysis-II/%E7%AC%AC%E5%85%AD%E7%AB%A0/6.9-Taylor-Higher-Dimentions/","title":"6.9 泰勒公式的高维形式","section":"第六章 可微映射","content":"$$ R_{r-1} = \\frac{1}{r!} D^{(r)} f(\\xi) (x-x_0, \\dots, x-x_0) $$ And satisfying $$ \\frac{R_{r-1}(x_0)}{|x - x_0|^{r-1}} \\to 0 \\quad \\text{as} \\quad x \\to x_0. $$\n\\begin{proof} Consider 1-variable function: $$ g(t) = f(x_0 + t(x - x_0)), \\quad (a, b) \\to \\mathbb{R} $$ for $t\\in (a, b)$ with $[0, 1] \\subset (a, b)$.\nApplying Taylor\u0026rsquo;s theorem to $g(t)$: $$ \\begin{align} g(1) \u0026amp;= g(0) + g\u0026rsquo;(0)(1-0) + \\frac{g\u0026rsquo;\u0026rsquo;(0)}{2!} (1-0)^2 + \\dots + \\frac{g^{(r-1)}(0)}{(r-1)!} (1-0)^{r-1} + R_{r-1}\\ f(x) \u0026amp;= f(x_0) + \\sum_{k=1}^{r-1} \\frac{g^{(k)}(0)}{k!} + \\frac{1}{r!} g^{(r)}(\\tilde{c}), \\quad \\tilde{c} \\in [0,1] \\end{align} $$ By chain rule, $$ g\u0026rsquo;(t) = Df(\\varphi(t)) \\cdot \\varphi\u0026rsquo;(t) $$ $$g\u0026rsquo;(0) = Df(x_0) (x - x_0) $$ \\end{proof}\n#Example # Determine the $2\\text{nd}$ order Taylor formula for $$f(x,y)=e^{(x-1)^{2}}\\cos (y)\\quad \\text{at},(1,0)$$ Solution (compute partials): $$ \\begin{align} \\frac{\\partial f}{\\partial x} \u0026amp;= e^{(x-1)^2} 2(x-1) \\cos y, \\quad \\frac{\\partial f}{\\partial y} = -e^{(x-1)^2} \\sin y, \\ \\frac{\\partial^2 f}{\\partial x^2} \u0026amp;= 2 e^{(x-1)^2} \\cos y + 4(x-1)^2 e^{(x-1)^2} \\cos y, \\ \\frac{\\partial^2 f}{\\partial x \\partial y} \u0026amp;= -2 (x-1) e^{(x-1)^2} \\sin y, \\qquad \\frac{\\partial^2 f}{\\partial y^2} = -e^{(x-1)^2} \\cos y. \\end{align} $$\nTaylor\u0026rsquo;s Formula: Let $h = x - x_0 = (x,y) - (1,0)$, then we have\n$$ \\boxed{f(x,y) = f(1,0) + \\mathbb{D}f(1,0)(h) + \\frac{1}{2} \\mathbb{D}^2 f(1,0)(h,h) + R_2} $$ $$ f(1,0) = 1, \\quad \\mathbb{D}f(1,0) = (0 \\quad 0), $$ $$ \\mathbb{D}^2 f(1,0) = \\begin{bmatrix} 2 \u0026amp; 0 \\ 0 \u0026amp; -1 \\end{bmatrix} $$ Evaluating the second-order term: $$ \\begin{align} \\mathbb{D}^2 f(1,0)(h,h) \u0026amp;= \\begin{bmatrix} x-1 \u0026amp; y \\end{bmatrix} \\begin{bmatrix} 2 \u0026amp; 0 \\ 0 \u0026amp; -1 \\end{bmatrix} \\begin{bmatrix} x-1 \\ y \\end{bmatrix} \\ \u0026amp;= 2(x-1)^2 - y^2 \\end{align} $$\nThus, $$f(x,y) = 1 + \\frac{1}{2} (2(x-1)^2 - y^2) + R_2 $$\n3 Maximum and Minimum Problem in $\\mathbb{R}^n$ # 3.1 Introduction # Q: Given $f: A \\subset \\mathbb{R}^n \\to \\mathbb{R}$,\nhow do we find (local) max or min points for $f$ in $A$?\nRecall 1-D case: $f: (a,b) \\to \\mathbb{R}$\nA local max / min point (or extreme point) $x_0$ must be a critical point: $$ \\boxed{f\u0026rsquo;(x_0) = 0 \\quad \\text{or\\quad DNE}}\n$$ 3.2 Second Derivative Test (for a critical point) # $$ \\begin{aligned} f\u0026rsquo;\u0026rsquo;(x_0) \u0026gt; 0 \u0026amp;\\Rightarrow x_0 \\text{ is a local minimum} \\ f\u0026rsquo;\u0026rsquo;(x_0) \u0026lt; 0 \u0026amp;\\Rightarrow x_0 \\text{ is a local maximum} \\end{aligned} $$\n4. Necessary Condition for Extreme Points in $\\mathbb{R}^n$ # Definition: Let $f: A \\subset \\mathbb{R}^n \\to \\mathbb{R}$.\nA point $x_0 \\in A$ is a local minimum if: $$ \\exists \\delta \u0026gt; 0 \\text{ such that } | x - x_0 | \u0026lt; \\delta, x \\in A \\Rightarrow f(x) \\geq f(x_0) $$ A point $x_0 \\in A$ is a local maximum if: $$ \\exists \\delta \u0026gt; 0 \\text{ such that } | x - x_0 | \u0026lt; \\delta, x \\in A \\Rightarrow f(x) \\leq f(x_0) $$\n[!theorem|6.9.2] If $f: A \\to \\mathbb{R}$ is differentiable at $x_0$, and if $x_0 \\in A$ is an extreme point for $f$, then $x_0$ is a critical point, i.e., $$ Df(x_0) = 0. $$\nRemark # The condition $\\mathbb{D}f(x_0) = 0$ is necessary, but not sufficient!\nExample # Let $f(x,y) = x^2 - y^2$, then $\\mathbb{D}f(0,0) = 0$, but $(0,0)$ is a saddle point.\n\\begin{proof}\nAssume $Df(x_0) \\neq 0$.\nThen, there exists $v \\in \\mathbb{R}^n$ such that $Df(x_0)(v) = c \u0026gt; 0$. By the definition of differentiability, choose $\\delta \u0026gt; 0$ such that: $$ | f(x_0 + h) - f(x_0) - Df(x_0)(h) | \u0026lt; \\frac{c}{2 | v |} | h | $$ for all $| h | \u0026lt; \\delta$.\nNow, choose $h = \\lambda v$ with $\\lambda \u0026gt; 0$ and $| h | \u0026lt; \\delta$, then: $$ \\begin{cases} f(x_0 + \\lambda v) - f(x_0) \u0026gt; 0 \\ f(x_0 - \\lambda v) - f(x_0) \u0026lt; 0 \\end{cases} $$ This establishes the desired contradiction. \\end{proof}\n"},{"id":37,"href":"/docs/Mathematics/MATH-412-Real-Analysis-II/%E7%AC%AC%E4%B8%83%E7%AB%A0/7.1-Inverse-Function-Theorem/","title":"7.1 反函数定理","section":"第七章 逆函数和隐函数定理","content":" 7.1 Inverse Function Theorem (IFT) # Two lines of ideas:\nA: CMP $⇒$ Inverse FT $⇒$ Applications in ODE\nB: IFT $⇒$ Implicit FT $⇒$ Local behavior, extreme problems\nI. Inverse Function Theorem # 1. Linear Case # Consider a linear map, $y = f(x): \\mathbb{R}^n \\to \\mathbb{R}^n$.\n$$ x = (x_1, x_2, \\dots, x_n)^T $$\nGiven $y \\in \\mathbb{R}^n$, $f(x)$ is a linear system of equations:\n$$\\begin{aligned} y_1 \u0026amp;= a_{11} x_1 + a_{12} x_2 + \\dots + a_{1n} x_n \\\\ y_2 \u0026amp;= a_{21} x_1 + a_{22} x_2 + \\dots + a_{2n} x_n \\\\ \u0026amp;\\vdots \\\\ y_n \u0026amp;= a_{n1} x_1 + \\dots + a_{nn} x_n \\end{aligned}$$\nor $$ A_{n\\times n}X_{n\\times 1} = Y_{n\\times 1} $$\n[!assumption|*] $$X \\text{ has a unique solution} \\Longleftrightarrow \\det(A) \\neq 0.$$\nIn this case, the solution is given by: $$ X = A^{-1} Y $$ Thus, the inverse function satisfies: $$ f^{-1} \\circ f = \\text{Identity} $$ The inverse theorem for $y = f(x)$:\n$$ f(f^{-1}(y)) = A A^{-1} y = y $$\nQuestion: When can we solve a nonlinear system? # We consider a system of nonlinear equations: $$ \\begin{cases} f_1(x_1, x_2, \\dots, x_n) = y_1 \\\\ f_2(x_1, x_2, \\dots, x_n) = y_2 \\\\ \\quad \\vdots \\\\ f_n(x_1, x_2, \\dots, x_n) = y_n \\end{cases} $$ or equivalently, $$ f(x) = y $$\n2. The Inverse of a General Function # Notation:\nLet $y = f(x): A \\subset \\mathbb{R}^n \\to \\mathbb{R}^n$ be a diffeomorphism.\n$$ y = (y_1, y_2, \\dots, y_n) $$\nwhere\n$$ y_i = f_i(x_1, x_2, \\dots, x_n) $$\nThe Jacobian determinant of $f$ at $x$ is:\n$$ \\det \\left( \\frac{\\partial f_i}{\\partial x_j} \\right) $$\n[!theorem|7.1.1] Let $y = f(x): A \\subset \\mathbb{R}^n \\to \\mathbb{R}^n$ be of class $C^1$. Suppose $x_0 \\in A$ and $\\det(Df(x_0)) \\neq 0$. Then there exists a neighborhood $U$ of $x_0$ and a neighborhood $W$ of $y_0 = f(x_0)$ such that:\n$f: U \\to W$ has an inverse $f^{-1}: W \\to U$. $f^{-1}$ is of class $C^1$. $D(f^{-1}(y)) = (Df(x))^{-1}$ for all $y \\in W$ at $y = f(x)$. Visualization: # $y = f(x)$ maps from $U$ to $W$. $x = f^{-1}(y)$ gives the inverse mapping from $W$ back to $U$. Recall: Contraction Mapping Principle (CMP) # Let $\\mathbb{X}$ be a complete metric space and let\n$$ \\varphi: \\mathbb{X} \\to \\mathbb{X} $$\nbe a function satisfying a contraction condition for some constant $k$ with $0 \u0026lt; k \u0026lt; 1$:\n$$ d(\\varphi(x), \\varphi(y)) \\leq k \\cdot d(x,y), \\quad \\forall x,y \\in \\mathbb{X}. $$\nThen, there exists a unique fixed point $X^*$ such that:\n$$ \\varphi(X^) = X^. $$\nProof of the Inverse Function Theorem (IFT) # Step 1: Reductions # (a) May assume that the Jacobian matrix at $x_0$ is the identity: $$ D f(x_0) = I. $$ In fact, define the transformation: $$ T = D f(x_0). $$ Then, we can consider a new function:\n$$ \\tilde{f} = T^{-1} \\circ f. $$\nThus,\n$$ D(\\tilde{f})(x_0) = I. $$\n(b) Main assumption:\n$$ x_0 = f^{-1}(y_0). $$\nTo see this, define:\n$$ h(x) = f(x) - f(x_0). $$\nThen,\n$$ D h(x_0) = D f(x_0) - D f(x_0) = 0. $$\nIf $h^{-1}$ exists, then $y = f(x)$ can be solved as:\n$$ f(x) = h(x) + f(x_0) = y. $$\nThus, the inverse function satisfies:\n$$ x = x_0 - h^{-1}(y - f(x_0)). $$\nStep 2: Existence of the Inverse Function # (a) Setup: By the reduction above, we assume:\n$$ x_0 = 0, \\quad y_0 = f(x_0) = 0, \\quad D f(x_0) = I. $$\nNeed to show:\nThere exist neighborhoods $U$ and $W$ such that the mapping:\n$$ y = f(x): U \\to W $$\nhas an inverse function in $W$, meaning:\n$$ \\forall y \\in W, \\quad \\exists! x \\in U \\text{ such that } y = f(x). $$\nIllustration:\nA diagram representing $U$ mapping to $W$ via $f$, where $f$ is invertible.\nFor a fixed $y \\in \\mathbb{R}^n$, define: # $$ g_x = g(y) = y + x - f(x). $$\nWe need to show that $g_x$ has a unique fixed point.\n(b) Construction of neighborhoods $U$ and $W$\nLet:\n$$ g(x) = x - f(x). $$\nThen:\n$$ D g(x) = I - D f(x). $$\nSince:\n$$ D g(x_0) = I - I = 0, $$\nit follows that:\n$$ D g(x) \\text{ is close to zero}. $$\nThus, choosing:\n$$ \\epsilon = \\frac{1}{2n}, $$\nthere exists $\\delta \u0026gt; 0$ such that:\n$$ |x - x_0| \u0026lt; \\delta \\implies |D g_x(x)| \\leq \\frac{1}{2n}. $$\nApplying the Contraction Mapping Principle to $g_x$, we obtain:\n$$ \\exists x \\in B_{\\delta}(x_0) \\text{ such that } g_x(x) = x. $$\nThus:\n$$ g_x(x) = g_x(x_0) + D g_x(\\xi)(x - x_0), $$\nwhich shows:\n$$ D g_x(\\xi) (x - x_0). $$\nChapter 7: Inverse and Implicit Function Theorems # Contraction Mapping Principle (CMP) # Let $\\mathbb{X}$ be a complete metric space, and let $\\varphi: \\mathbb{X} \\to \\mathbb{X}$ satisfy:\n$$ d(\\varphi(x), \\varphi(y)) \\leq k \\cdot d(x,y), \\quad 0 \u0026lt; k \u0026lt; 1. $$\nThen, there exists a unique fixed point $X^*$ such that $\\varphi(X^{*}) = X^{*}$.\nProof of the Inverse Function Theorem (IFT) # Step 1: Reduction # Assume $Df(x_0) = I$. Define $\\tilde{f} = Df(x_0)^{-1} \\circ f$, ensuring $D\\tilde{f}(x_0) = I$.\nFor $x_0 = f^{-1}(y_0)$, define $h(x) = f(x) - f(x_0)$. Since $Dh(x_0) = 0$, solving $f(x) = y$ reduces to:\n$$ x = x_0 - h^{-1}(y - f(x_0)). $$\nStep 2: Existence of the Inverse** # Set up: $x_0 = 0, y_0 = f(x_0) = 0, Df(x_0) = I$. Need to show a local inverse:\n$$ \\forall y \\in W, \\quad \\exists! x \\in U \\text{ such that } y = f(x). $$\nDefine:\n$$ g_x(y) = y + x - f(x). $$\nWe need to show $g_x$ has a unique fixed point.\nLet $g(x) = x - f(x)$, then $Dg(x) = I - Df(x)$. Since $Dg(x_0) = 0$, choosing $\\epsilon = \\frac{1}{2n}$ ensures $|D g_x(x)|$ is small. Applying CMP, we get:\n$$ \\exists x \\in B_{\\delta}(x_0) \\text{ such that } g_x(x) = x. $$ Thus, the inverse exists and is unique.\nbabeldown::deepl_translate_hugo( post_path = \u0026ldquo;content.en/docs/Mathematics/MATH 412 Real Analysis II/Lecture/7.1 Inverse Function Theorem.md\u0026rdquo;, target_lang = \u0026ldquo;ZH\u0026rdquo;, source_lang = \u0026ldquo;EN\u0026rdquo;, force = TRUE )\n"},{"id":38,"href":"/docs/Mathematics/MATH-412-Real-Analysis-II/%E7%AC%AC%E4%B8%83%E7%AB%A0/7.1.1-Inverse-FT-Proof/","title":"7.1.1 反函数定理（证明）","section":"第七章 逆函数和隐函数定理","content":" 7.1* Implicit Function Theorem (IFT) Proof # 1. Recall IFT # Theorem 7.1.1: Let $y = f(x): A \\subset \\mathbb{R}^n \\to \\mathbb{R}^n$ be of class $C^1$. Suppose $x_0 \\in A$ with: $$ J_f(x_0) = \\det(Df(x_0)) \\ne 0 $$ Then there exist neighborhoods $U$ of $x_0$ in $A$ and $W$ of $y_0 = f(x_0)$ such that:\n$f(U) = W$ and $f: U \\to W$ has an inverse $f^{-1}: W \\to U$. $f^{-1} \\in C^1$ (If $f \\in C^r$, then $f^{-1} \\in C^r$). $Df^{-1}(y) = [Df(x)]^{-1}$ for $x \\in U$ and $y = f(x)$. 2. Proof of Theorem 7.1.1 # Step 1: Reduction # We may assume $Df(x_0) = I$ and $x_0 = 0$, $y_0 = f(x_0)$.\nStep 2: Existence of inverse # Consider the function $g(x) = x - f(x)$.\nUsing continuity of $Dg(x)$ at $0$ and Mean Value Theorem, one can show there exists $\\delta \u0026gt; 0$ such that for $x \\in B(0, \\delta)$: $$ |g(x)| \\le \\frac{\\delta}{2} $$ Define $g: B(0, \\delta) \\to B(0, \\frac{\\delta}{2})$. Let $W = B(0, \\frac{\\delta}{2})$, and define: $$ U = { x \\in B(0, \\delta): f(x) \\in W } $$ Step 3: Existence of $f^{-1}: W \\to U$ # Fix $y \\in W$. Apply the Contraction Mapping Principle (CMP) to: $$ g_y(x) = y + x - f(x) = y + g(x) $$ Then $g_y(x): B(0, \\delta) \\to B(0, \\delta)$. Thus, there exists a unique $x \\in B(0, \\delta)$ such that: $$ g_y(x) = x \\quad \\Longrightarrow \\quad f(x) = y $$ Therefore, $\\exists! x \\in U$ such that $f(x) = y$.\nFix $y, y_1, y_2 \\in W$, let $x_i = f^{-1}(y_i), i = 1,2$. Then: $$ | f^{-1}(y_1) - f^{-1}(y_2) | = | x_1 - x_2 | = | g_{y_1}(x_1) - g_{y_2}(x_2) | $$\nSince $| Dg(x) | \\le \\frac{1}{2}$ for $x \\in B(0, \\delta)$, we get: $$ | x_1 - x_2 | \\le 2 | y_1 - y_2 | $$\nThus, $f^{-1}$ is Lipschitz continuous.\nStep 4: Differentiability of $f^{-1}$ # (i) Observation: $[Df(x_0)]^{-1}$ exists and $Df(x)$ is continuous at $x_0$.\n$$ \\Rightarrow \\exists \\delta \u0026gt; 0 \\text{ such that } [Df(x)]^{-1} \\text{ exists and bounded by } M \\text{, } \\forall |x| \\leq \\delta $$ $$ | [Df(x)]^{-1} | \\leq M, \\quad \\forall x \\in B(0, \\delta) $$\n(ii) Show $f^{-1}$ is differentiable at any $y_* \\in W$ and: $$ Df^{-1}(y_0) = [Df(x_0)]^{-1}, \\quad \\text{where} \\quad y_0 = f(x_0) $$\nFix $y_* \\in W$. Then: $$ \\frac{| f^{-1}(y) - f^{-1}(y_) - [Df(x_0)]^{-1}(y - y_) |}{| y - y_* |} $$ can be simplified, and as $y \\to y_*$, it tends to $0$.\nThus, in conclusion, $f^{-1}(y)$ is differentiable at $y_* \\in W$ and: $$ Df^{-1}(y_) = [Df(x_)]^{-1} $$\nExample: # Investigate the invertibility (both local and global) for the map: $$f \\in C^\\infty, \\quad A = \\mathbb{R}^2$$\n$$W = (u,v) = f(x,y): \\mathbb{R}^2 \\to \\mathbb{R}^2$$ Given by: $$ u = e^x\\cos y, \\quad v = e^x\\sin y$$\nCompute Jacobian determinant: $$ J_f(x,y) = \\det(Df(x,y)) = \\begin{vmatrix} e^x\\cos y \u0026amp; -e^x\\sin y \\\\ e^x\\sin y \u0026amp; e^x\\cos y \\end{vmatrix} = e^{2x} \u0026gt; 0 $$ Thus, by IFT, $f$ is invertible locally at any point and: $$ Df^{-1}(u,v) = [Df(x,y)]^{-1} = \\begin{bmatrix} e^x\\cos y \u0026amp; -e^x\\sin y \\\\ e^x\\sin y \u0026amp; e^x\\cos y \\end{bmatrix}^{-1} = \\begin{bmatrix} e^{-x}\\cos y \u0026amp; e^{-x}\\sin y \\\\ -e^{-x}\\sin y \u0026amp; e^{-x}\\cos y \\end{bmatrix} $$\nHowever, $f$ is not globally invertible (not injective). Consider: $$ \\begin{aligned} f(x_0, y_0 + 2\\pi) \u0026amp;= (e^{x_0}\\cos(y_0 + 2\\pi), e^{x_0}\\sin(y_0 + 2\\pi))\\\\ \u0026amp;= (e^{x_0}\\cos y_0, e^{x_0}\\sin y_0)\\\\ \u0026amp;= (u_0, v_0) \\end{aligned} $$\nIn complex notation, $f$ can be written as: $$ f(z) = e^z = e^{x+iy} = e^x e^{iy} = e^x(\\cos y + i \\sin y) $$ with $u = e^x \\cos y$, $v = e^x \\sin y$.\nConclusion # Since $f(x, y)$ maps points periodically in $y$, it is not globally injective, despite being locally invertible.\nAdditional Notes # The periodic nature is reflected in the mapping: $$f(x_0, y_0 + 2\\pi) = f(x_0, y_0)$$ This demonstrates that multiple points in the domain map to the same point in the range, confirming non-injectivity.\n"},{"id":39,"href":"/docs/Mathematics/MATH-412-Real-Analysis-II/%E7%AC%AC%E4%B8%83%E7%AB%A0/7.2-Implicit-Function-Theorem/","title":"7.2 隐函数定理","section":"第七章 逆函数和隐函数定理","content":"111\n"},{"id":40,"href":"/docs/Mathematics/MATH-351-352/MATH-352-PDE-in-Action/9.1-Boundary-Value-Problems/","title":"9.1 边值问题的近似","section":"数值方法","content":" 1.1 准备工作：String with fixed endpoints # 我们可以写 $$ \\begin{align} -\\frac{d^2u}{dx^2} \u0026amp;= f(x), \\quad x \\in (0,1) \\ u(0) \u0026amp;= \\alpha, \\quad \\frac{du}{dx}(0) = \\beta \\end{align} $$\n记$w = \\frac{du}{dx}$，那么 $\\frac{dw}{dx} = f(x)$。因此，我们知道\n$$\\frac{d}{dt} = \\begin{bmatrix} 0 \u0026amp; 0 \\ 1 \u0026amp; 0 \\end{bmatrix} \\begin{bmatrix} w \\ u \\end{bmatrix}$$\n定义 # 边值问题（boundary-value problem）的定义为\n[!definition|*] $$\\begin{align} -\\mu\\frac{d^2u}{dx^2} \u0026amp;= f(x), \\quad x\\in (0,1), \\quad \\mu \u0026gt; 0 \\ u(0) \u0026amp;= \\alpha, \\quad u(1) = \\beta \\end{align} $$\n1.2 泊松方程（Poisson Equation） # 此类方程的二维形态为：\n$$\\begin{align} -\\left(\\frac{\\partial^2 u}{\\partial x^2} + \\frac{\\partial^2 u}{\\partial y^2}\\right) \u0026amp;= f(x,y) \\ u|_{\\text{boundary of }\\Omega} \u0026amp;= 0 \\end{align}$$\n用拉普拉斯算子来表示：\n$$\\left(\\frac{\\partial^2 u}{\\partial x^2} + \\frac{\\partial^2 u}{\\partial y^2}\\right) = \\Delta u, \\quad \\text{where }\\Delta = \\nabla^2 u = \\sum_{i=1}^{n} \\frac{\\partial^2}{\\partial x_i^2}$$\n所以，广义的泊松方程可以写为\n[!definition] A general ($n$-dimentional) poisson equation is written as $$\\Delta u = f(\\mathbf{x})$$ where $\\mathbf{x}=(x_{1},x_{2},x_{3}\\dots x_{n})$.\n1.3 Back to the String Example: How can we get a BVP? # 考虑以下经典力学中很常见的弦的能量泛函（energy functional）：\n$$J(u) = \\frac{1}{2}\\int_0^1 \\mu\\left(\\frac{du}{dx}\\right)^2 dx - \\int_0^1 f \\cdot u , dx \\quad \\text{(Energy of string)}$$\nBoundary condition: $u(0) = u(1) = 0$.\n作为自然界的基本趋势中，最小作用量原理解释了自然系统倾向于采取能量消耗最小的路径或状态，也就是说，自然会沿着$\\min J(u)$的路径发展。\n最简单的方法是直接用 欧拉-拉格朗日方程（Euler–Lagrange equation）搞定，但是这毕竟是个数学课，那么我们用最暴力的原始方法解决：\n大致思路为：\n把 $u$ 加入扰动（perturbation）变成 $u+εv$： $$u_{\\epsilon}(x) = u(x) + \\epsilon v(x)$$\n$J(u+εv)$ 进行显式展开： $$J(u + \\epsilon v) = J(u) + \\epsilon \\underbrace{\\delta J(u; v)}{\\text{一阶变分}} + \\frac{1}{2} \\epsilon^2 \\underbrace{\\delta^2 J(u; v)}{\\text{二阶变分}} + \\cdots$$\n在变分法或力学的语言里：通常是指在能量或作用量（action）等泛函意义下的驻点（stationary point）：也就是对任意“小扰动” $εv$，该函数 $u$ 都使得泛函的一阶变化量为 0。\n求导，来找$J$的最小值 $$\\lim_{\\varepsilon \\to 0} \\frac{J(u + \\varepsilon v) - J(u)}{\\varepsilon} = 0, \\quad \\varepsilon \\in \\mathbb{R}$$\n显然易见：\n$$ \\begin{align} \u0026amp;\\frac{1}{2}\\int_0^1 \\mu\\left(\\frac{du}{dx} + \\varepsilon\\frac{dv}{dx}\\right)^2 dx - \\int_0^1 f(u+\\varepsilon v) , dx - \\frac{1}{2}\\int_0^1 \\mu\\left(\\frac{du}{dx}\\right)^2 dx - \\int_0^1 f \\cdot u , dx \\ \u0026amp;= \\frac{1}{2}\\int_0^1 \\mu\\left(\\frac{du}{dx}\\right)^2 dx + \\frac{1}{2} \\cdot 2\\varepsilon \\int_0^1 \\mu \\frac{du}{dx} \\cdot \\frac{dv}{dx} , dx + \\frac{1}{2}\\varepsilon^2 \\int_0^1 \\mu\\left(\\frac{dv}{dx}\\right)^2 dx \\ \u0026amp;\\quad - \\int_0^1 f \\cdot u , dx - \\varepsilon\\int_0^1 f \\cdot v , dx - \\frac{1}{2}\\int_0^1 \\mu\\left(\\frac{du}{dx}\\right)^2 dx - \\int_0^1 f \\cdot u , dx \\ \u0026amp;= \\varepsilon \\int_0^1 \\mu \\frac{du}{dx} \\cdot \\frac{dv}{dx} , dx + \\frac{1}{2}\\varepsilon^2 \\int_0^1 \\mu\\left(\\frac{dv}{dx}\\right)^2 dx - \\varepsilon\\int_0^1 f \\cdot v , dx\\end{align} $$\n这实际上正是欧拉–拉格朗日方程最早的“原始变分法”推导，也正是 E-L 方程的来龙去脉。只不过 E-L 方程把这个过程“公式化”了，让我们不必每次都展开一大堆项、再分部积分去凑出那个通用形式。\n然后\n$$\\frac{J(u+\\varepsilon v) - J(u)}{\\varepsilon} = \\int_0^1 \\mu \\frac{du}{dx} \\cdot \\frac{dv}{dx} , dx + \\frac{1}{2} \\varepsilon \\int_0^1 \\mu\\left(\\frac{dv}{dx}\\right)^2 dx - \\int_0^1 f \\cdot v , dx$$\n极限为：\n$$\\lim_{\\varepsilon \\to 0} \\frac{J(u+\\varepsilon v) - J(u)}{\\varepsilon} = \\int_0^1 \\mu \\frac{du}{dx} \\cdot \\frac{dv}{dx} , dx - \\int_0^1 f \\cdot v , dx = 0$$\n一个“平衡解”（equilibrium solution）。\n变分形式或弱形式（Variational/Weak）: # 由此我们得到了一个泛函的“变分条件”：\n[!claim|*] $$\\int_0^1 \\mu \\frac{du}{dx} \\cdot \\frac{dv}{dx} , dx - \\int_0^1 f \\cdot v , dx = 0$$\n分部积分:\n$$ \\begin{align} \\int_0^1 \\mu \\frac{du}{dx} \\cdot \\frac{dv}{dx} , dx \u0026amp;= \\mu\\left[\\frac{du}{dx}v\\right]_0^1 - \\mu\\int_0^1 \\frac{d^2u}{dx^2} v , dx \\ \u0026amp;= -\\mu\\int_0^1 \\frac{d^2u}{dx^2} v , dx \\end{align} $$\nSince $v(0) = v(1) = 0$\n$$\\frac{d}{dx}\\left(\\frac{du}{dx}\\right) = \\frac{d^2u}{dx^2}$$\n$$\\int \\frac{dv}{dx} , dx = v$$\n边界项因为BC而消失，所以弱形式$\\rightarrow$强形式:\n$$-\\mu\\int_0^1 \\frac{d^2u}{dx^2} v , dx - \\int_0^1 f \\cdot v , dx = 0$$\n$$-\\int_0^1 \\left(\\mu\\frac{d^2u}{dx^2} + f\\right) \\cdot v , dx = 0$$\nWe want it to be true $\\forall v$. So, it must be: $$\\mu\\frac{d^2u}{dx^2} + f = 0$$\n我们得到一个常见的附带边界条件的强形式常微分方程(ODE)。\n[!claim|*] We obtain a Boundary Value Problem (BVP): $$ \\begin{align} \\mu u\u0026rsquo;\u0026rsquo;(x) +f\u0026amp;= 0 \\ u(0) \u0026amp;= u(1) = 0 \\end{align} $$\nAssumption: $u$ is at least $C^2$.\n1.4 两种表述边值问题（BVP）的方式 # 寻找函数 $u$，使得对所有满足 $v(0) = v(1) = 0$ 的 $v$，均有 $$ \\int_0^1 \\mu \\frac{du}{dx} \\cdot \\frac{dv}{dx} , dx ;=; \\int_0^1 f \\cdot v , dx $$\n$\\Rightarrow$ $u$ 只需保证“一阶可微” $\\Rightarrow$ 通常采用 有限元法 (Finite Element) 寻找函数 $u$，使得 $$ \\begin{aligned} -\\mu \\frac{\\partial^2 u}{\\partial x^2} \u0026amp;= f, \\quad x \\in (0,1),\\ u(0) \u0026amp;= 0,\\quad u(1) = 0 \\end{aligned} $$\n$\\Rightarrow$ $u$ 需要至少“二阶可微” $\\Rightarrow$ 通常采用 有限差分法 (Finite Difference) "},{"id":41,"href":"/docs/Mathematics/MATH-351-352/MATH-352-PDE-in-Action/9.2-Finite-Difference/","title":"9.2 有限差分法","section":"数值方法","content":" 2.1 边值问题（BVP）的有限差分: # [!claim|*] Consider the Boundary-Value Problem: $$ \\begin{align} -\\mu\\frac{d^2u}{dx^2} \u0026amp;= f, \\quad x \\in (0,1) \\ u(0) \u0026amp;= u(1) = 0 \\end{align} $$ with discrete points: $$0 = x_0 \u0026lt; x_1 \u0026lt; \\cdots \u0026lt; x_{N} = 1\\quad\\Longrightarrow \\quad-\\mu\\frac{d^2u}{dx^2}(x_i) = f(x_i)$$\n2.2 推导二阶中心差分近似法 # 2.2.1 Poisson 微分方程 # 对与任意一个离散的点$x_{i}$，我们首先在网格点 $x_{i+1} = x_i + \\Delta x$ 和 $x_{i-1} = x_i - \\Delta x$ 处对函数 $u(x)$ 进行泰勒级数展开：\n$$ \\begin{align} u(x_{i+1}) \u0026amp;= u(x_i) + \\frac{du}{dx}(x_i)\\Delta x + \\frac{1}{2}\\frac{d^2u}{dx^2}(x_i)\\Delta x^2 + \\cdots \\ u(x_{i-1}) \u0026amp;= u(x_i) - \\frac{du}{dx}(x_i)\\Delta x + \\frac{1}{2}\\frac{d^2u}{dx^2}(x_i)\\Delta x^2 + \\cdots \\end{align} $$\n当我们将这两个方程相加时，由于奇数阶导数项的符号相反，它们会相互抵消：\n$$ \\begin{align} u(x_{i+1}) + u(x_{i-1}) \u0026amp;= 2u(x_i) + 2\\left(\\frac{1}{2}\\frac{d^2u}{dx^2}(x_i)\\Delta x^2\\right) + 2\\left(\\frac{1}{24}\\frac{d^4u}{dx^4}(x_i)\\Delta x^4\\right) + \\mathcal{O}(\\Delta x^6) \\ \\ \u0026amp;= 2u(x_i) + \\frac{d^2u}{dx^2}(x_i)\\Delta x^2 + \\frac{1}{12}\\frac{d^4u}{dx^4}(x_i)\\Delta x^4 + \\mathcal{O}(\\Delta x^6) \\end{align} $$\n接着, 我们重新整理方程以分离出二阶导数项（舍去高阶项）\n$$\\begin{align} \\frac{d^2u}{dx^2}(x_i)\\Delta x^2 \u0026amp;= u(x_{i+1}) + u(x_{i-1}) - 2u(x_i) - \\frac{1}{12}\\frac{d^4u}{dx^4}(x_i)\\Delta x^4 + \\mathcal{O}(||\\Delta x||^6)\\ \\frac{d^2u}{dx^2}(x_i) \u0026amp;= \\frac{u(x_{i+1}) + u(x_{i-1}) - 2u(x_i)}{\\Delta x^2} - \\frac{1}{12}\\frac{d^4u}{dx^4}(x_i)\\Delta x^2 + \\mathcal{O}(||\\Delta x||^2) \\ \u0026amp;\\approx \\boxed{ \\frac{u(x_{i+1}) + u(x_{i-1}) - 2u(x_i)}{\\Delta x^2}} \\end{align}$$\n记 $u_i = u(x_i)$ 与 $f_i = f(x_i)$. 因此我们得到微分方程\n[!claim|*] $$-\\mu\\frac{d^2u}{dx^2}(x_i) = -\\mu\\frac{u_{i+1} + u_{i-1} - 2u_i}{\\Delta x^2} = f_i$$\n截断误差（Truncation Error）为 $\\mathcal{O}(\\Delta x^2)$ 这证实了该近似是二阶精度 （second-order accuracy） 2.2.2 构建线性系统 # 用这种离散化方法推导出一个线性方程组（linear system）:\n$$Au = f$$\nwhere $A$ is given by:\n$$A = \\frac{\\mu}{\\Delta x^2} \\begin{bmatrix} 2 \u0026amp; -1 \u0026amp; 0 \u0026amp; \u0026amp; \\ -1 \u0026amp; \\ddots \u0026amp; \\ddots \u0026amp; \u0026amp; \\ 0 \u0026amp; \\ddots \u0026amp; \\ddots \u0026amp; \\ddots \u0026amp; \\ \u0026amp; \u0026amp; \\ddots \u0026amp; \\ddots \u0026amp; -1 \\ \u0026amp; \u0026amp; \u0026amp; -1 \u0026amp; 2 \\end{bmatrix} $$\n2.3 What is the Accuracy of FD? # 矩阵A的关键性质 (Key Properties of Matrix A) # 从差分离散化得到的matrix $A$有几个重要性质：\n正定性 (Positive Definiteness)：$x^TAx \u0026gt; 0 \\quad \\forall x \\neq 0$ $\\Longrightarrow$ solvable。 对称性 (Symmetry)：Symmetry $\\Longrightarrow \\forall ,\\lambda \\in \\mathbb{R}$ 特征值性质 (Eigenvalue Properties)：Non-singular 条件数关系 (Condition Number Relation)：A的最小特征值与最大特征值之比与Δx成正比，即$$\\frac{\\lambda_{min}}{\\lambda_{max}} \\propto \\Delta x$$ 误差 # 当我们解离散系统（$Au = f$）时，精确解$u_{ex}$与近似解$u$之间存在误差，所以$Au_{ex} \\neq f$。\n精确关系实际上为：\n[!claim|*] $$Au_{ex} = f + T$$ where $T_i = C(x_i)\\Delta x^2$ is truncation error\n其中$C(x_i)$与四阶导数相关：$$C(x_i) = C\\frac{d^4u}{dx^4}(x_i)$$\n误差方程 (Error Equation) # 若定义误差$e = u_{ex} - u$，则 $$Ae = T$$\n$$\\Longrightarrow e = A^{-1}T$$\n因此\n$$||e|| = ||A^{-1}T|| \\leq ||A^{-1}|| \\cdot ||T||$$\n收敛性证明 (Convergence Proof) # 为了证明方法收敛，需要满足两个条件：1. 稳定性：$A^{-1}$有界 (Boundedness of $A^{-1}$) 2. 一致性：截断误差趋零 (Truncation Error Tends to Zero)\n[!lemma|*] Conditions to show convergence: $$||A^{-1}|| \u0026lt; \\infty \\quad \\text{and} \\quad ||T|| \\to 0 \\quad \\text{as} \\quad \\Delta x \\to 0$$\n关于 $|A^{-1}|$ 的有界性 # 矩阵的条件数定义为： $$\\kappa(A) = |A| \\cdot |A^{-1}|=\\frac{\\lambda_{max}}{\\lambda_{min}}$$\n$\\frac{\\lambda_{min}}{\\lambda_{max}} \\propto \\Delta x \\longrightarrow\\kappa(A) \\propto \\frac{1}{\\Delta x}$ hence, $||A^{-1}||$ is bounded, regardless of $\\Delta x$. 关于$T$的一致性 # 因为截断误差范数$|T| \\sim \\Delta x^2$，所以\n$$|T| \\to 0 ,,\\text{as},, \\Delta x \\to 0$$\n这也意味着：\n$$|e| \\to 0 ,,\\text{as},, \\Delta x \\to 0$$\n因此，该有限差分方法是收敛的 (convergent) 虽然$\\kappa$随 $\\Delta x$ 变化，但 $|A^{-1}|$ 的增长被 $|T|$ 的更快减小所抵消。\n实际意义？ # 该有限差分法随着网格间距 (grid spacing) 减小而收敛到精确解 收敛速率 (convergence rate) 是$O(\\Delta x^2)$，即二阶精度 (second-order accuracy) 误差主要受控于四阶导数的大小和网格间距的平方 这解释了为什么在实际计算中，当我们将网格间距减半时，误差大约会减小到原来的四分之一 这种数学证明为我们使用有限差分法求解微分方程提供了理论保障，确保了在足够细的网格下，数值解 (numerical solution) 会以可预测的速率接近真实解 (exact solution)。\n"},{"id":42,"href":"/docs/Mathematics/MATH-351-352/MATH-352-PDE-in-Action/9.3-Advection-Diffusion-Equation/","title":"9.3 对流-扩散方程","section":"数值方法","content":" 3.1 对流-扩散方程 # 对流-扩散方程是一种描述物质或热量在流体中同时受到对流（也称为平流）和扩散作用影响的偏微分方程。这个方程在流体力学、传热学和物质传输等领域有广泛应用。\n$$ \\begin{align} -\\mu\\frac{\\partial^2 u}{\\partial x^2} + \\beta\\frac{\\partial u}{\\partial x} \u0026amp;= f \\ \\text{diffusion} \\quad \u0026amp; \\text{advection} \\end{align} $$\n$$u(0) = u_L, \\quad u(1) = u_R$$\n离散化过程：\nBy Taylor\u0026rsquo;s Expansion: $$u(x_{j+1}) = u(x_j) + \\frac{\\partial u}{\\partial x}(x_j)\\Delta x + \\frac{1}{2}\\frac{\\partial^2 u}{\\partial x^2}(x_j)\\Delta x^2 - \\frac{1}{6}\\frac{\\partial^3 u}{\\partial x^3}(x_j)\\Delta x^3 + \\frac{1}{12}\\frac{\\partial^4 u}{\\partial x^4}(x_j)\\Delta x^4 + \\mathcal{O}(||x||^5)$$\n$$\\frac{\\partial u}{\\partial x}(x_j)\\Delta x = u(x_{j+1}) - u(x_j) + \\frac{1}{2}\\frac{\\partial^2 u}{\\partial x^2}(x_j)\\Delta x^2$$\n$$\\frac{\\partial u}{\\partial x}(x_j) = \\frac{u_{j+1} - u_j}{\\Delta x} + \\frac{1}{2}\\frac{\\partial^2 u}{\\partial x^2}(x_j)\\Delta x$$\nCan we do better?\n$$u(x_{j-1}) = u(x_j) - \\frac{\\partial u}{\\partial x}(x_j)\\Delta x + \\frac{1}{2}\\frac{\\partial^2 u}{\\partial x^2}(x_j)\\Delta x^2 - \\frac{1}{6}\\frac{\\partial^3 u}{\\partial x^3}(x_j)\\Delta x^3 + \\frac{1}{12}\\frac{\\partial^4 u}{\\partial x^4}(x_j)\\Delta x^4 + \\mathcal{O}(||x||^5)$$\n(1) - (2): $$u(x_{j+1}) - u(x_{j-1}) = 2\\frac{\\partial u}{\\partial x}(x_j)\\Delta x + \\frac{1}{3}\\frac{\\partial^3 u}{\\partial x^3}(x_j)\\Delta x^3 + \\mathcal{O}(||\\Delta x||^5)$$\nThen, $$\\frac{\\partial u}{\\partial x}(x_j) = \\frac{u(x_{j+1}) - u(x_{j-1})}{2\\Delta x} - \\frac{1}{6}\\frac{\\partial^3 u}{\\partial x^3}(x_j)\\Delta x^2 + \\mathcal{O}\\left(\\frac{||\\Delta x||^4}{2}\\right)$$\nFinal numerical solution: $$-\\mu\\frac{u_{i+1} - 2u_i + u_{i-1}}{\\Delta x^2} + \\beta\\frac{u_{i+1} - u_{i-1}}{2\\Delta x} = f_j$$\n$$\\sim \\mathcal{O}(\\Delta x^2)$$\n3.2 例子 # $$ \\begin{align} -\\mu\\frac{\\partial^2 u}{\\partial x^2} + \\beta\\frac{\\partial u}{\\partial x} \u0026amp;= 0 \\ u(0) \u0026amp;= 0 \\ u(a) \u0026amp;= 1 \\end{align} $$\n$$u_{ex} = \\frac{e^{\\frac{\\beta}{\\mu}x} - 1}{e^{\\frac{\\beta}{\\mu}} - 1}$$\n$$\\frac{|\\beta|}{\\mu} \u0026raquo; 1 : \\text{convection dominated problem}$$\nNumerical experiment shows that when $|\\beta|$ is large, the numerical solution will not be consistent anymore. What\u0026rsquo;s wrong?\nMathematical Explanation: # $$-\\mu\\frac{u_{i+1} - 2u_i + u_{i-1}}{\\Delta x^2} + \\beta\\frac{u_{i+1} - u_{i-1}}{2\\Delta x} = 0$$\n$$\\left(-\\frac{\\mu}{\\Delta x^2} + \\frac{\\beta}{2\\Delta x}\\right)u_{i+1} + \\left(\\frac{2\\mu}{\\Delta x^2}\\right)u_i - \\left(\\frac{\\mu}{\\Delta x^2} + \\frac{\\beta}{2\\Delta x}\\right)u_{i-1} = 0$$\nDifference equation: guess solution: $u_j = C\\rho^j$.\nThen, $$\\left(-\\frac{\\mu}{\\Delta x^2} + \\frac{\\beta}{2\\Delta x}\\right)C\\rho^{j+1} + \\left(\\frac{2\\mu}{\\Delta x^2}\\right)C\\rho^j - \\left(\\frac{\\mu}{\\Delta x^2} + \\frac{\\beta}{2\\Delta x}\\right)C\\rho^{j-1} = 0$$\n$$\\left(-\\frac{\\mu}{\\Delta x^2} + \\frac{\\beta}{\\Delta x}\\right)\\rho^2 + \\left(\\frac{2\\mu}{\\Delta x^2}\\right)\\rho - \\left(\\frac{\\mu}{\\Delta x^2} + \\frac{\\beta}{2\\Delta x}\\right) = 0$$\nWe can find $\\rho_1$ and $\\rho_2$ from this equation. Then, $$u_j = C_1\\rho_1 + C_2\\rho_2 \\quad \\text{linear combination}$$\nNote $\\rho_1, \\rho_2$ are solutions.\n$$\\rho_1\\rho_2 = \\frac{-\\left(\\frac{\\mu}{\\Delta x^2} + \\frac{\\beta}{2\\Delta x}\\right)}{\\left(-\\frac{\\mu}{\\Delta x^2} + \\frac{\\beta}{2\\Delta x}\\right)} = \\frac{1 + \\frac{\\beta\\Delta x}{2\\mu}}{1 - \\frac{\\beta\\Delta x}{2\\mu}}$$\nPéclet, Pe:\nIf $\\frac{|\\beta|\\Delta x}{2\\mu} \u0026gt; 1$, $\\rho_1\\rho_2 \u0026lt; 0$, and then we have oscillating solutions.\n3.3 Another Method: Upwind Method # Information flow\nOur previous computation relies on symmetry. However, there is a clear physical information flow. So, this problem is asymmetric in reality. We don\u0026rsquo;t want as fancy as $\\sim \\mathcal{O}(\\Delta x^2)$ solutions, but we can use a $\\sim \\mathcal{O}(\\Delta x)$ method.\n$$\\beta\\frac{\\partial u}{\\partial x} \\approx \\beta\\frac{u_i - u_{i-1}}{\\Delta x} \\quad (\\beta \u0026gt; 0) \\quad \\text{(upwind)}$$\nNow, let\u0026rsquo;s show (upwind) is stable.\n$$\\beta\\frac{u_i - u_{i-1}}{\\Delta x} = \\beta\\frac{u_{i+1} - u_{i-1}}{2\\Delta x} - \\beta\\frac{u_{i+1}}{2\\Delta x} - \\beta\\frac{2u_i}{2\\Delta x} + \\beta\\frac{u_{i-1}}{2\\Delta x}$$\n$$= \\beta\\frac{u_{i+1} - u_{i-1}}{2\\Delta x} - \\frac{\\beta\\Delta x}{2} \\cdot \\frac{u_{i+1} - 2u_i + u_{i-1}}{\\Delta x^2}$$\nCentral mean $\\quad$ Approx. of 2nd derivative\nSo, we can consider the equation: $$-\\left(\\mu + \\frac{|\\beta|\\Delta x}{2}\\right)\\frac{\\partial^2 u}{\\partial x^2} + \\beta\\frac{\\partial u}{\\partial x} = 0$$\nApply a central approximation: $$-\\mu\\frac{u_{i+1} - 2u_i + u_{i-1}}{\\Delta x^2} + \\beta\\frac{u_{i+1} - u_{i-1}}{2\\Delta x} = 0$$\nUpwind solution of the original problem.\nCentral (Perturbed) = Upwind (Original).\nRecall Péclet: $Pe = \\frac{|\\beta|\\Delta x}{2\\mu}$. Then, $\\mu^* = \\mu(1 + Pe)$.\nPéclet of this perturbed system: $$Pe^* = \\frac{|\\beta|\\Delta x}{2\\mu^*} = \\frac{|\\beta|\\Delta x}{2\\mu(1+Pe)} = \\frac{Pe}{1+Pe} \u0026lt; 1 \\quad \\forall |\\beta| \\text{ and } \\Delta x$$\nSo, this upwind method is always stable.\nConsistency: when $\\Delta x \\to 0$, $\\mu^* \\to \\mu$.\nFor the perturbed system, we have a 2nd order approach, but with the original problem, it is only a 1st order method.\n3.4 Design a Better Method # $$\\mu^{smart} = \\mu(1 + \\Phi(Pe))$$\ns.t.\n$\\Phi(Pe) \\to 0 \\quad \\text{as} \\quad \\Delta x \\to 0$ $Pe^{smart} = \\frac{|\\beta|\\Delta x}{2\\mu^{smart}} \u0026lt; 1$ Our upwind method takes $\\Phi(Pe) = Pe \\sim \\mathcal{O}(\\Delta x)$. But can we take some $\\Phi(Pe) \\sim \\mathcal{O}(\\Delta x^2)$?\n$\\Rightarrow$ Scharfetter-Gummel Method: $\\Phi(Pe) = Pe - 1 + \\frac{2Pe}{e^{2Pe} - 1}$\n$\\Phi(Pe) \\uparrow$\n$\\Phi(Pe) = Pe$\n$\\Phi(Pe) \\sim \\mathcal{O}(\\Delta x)$\nThe worst case order of Scharfetter-Gummel is $\\sim \\mathcal{O}(\\Delta x^2)$.\nScharfetter-Gummel is also a special $\\Phi(Pe)$ that produces exact solutions.\n"},{"id":43,"href":"/docs/Mathematics/MATH-351-352/MATH-352-PDE-in-Action/9.4-2D-Problem/","title":"9.4 二维问题（2D Problem)","section":"数值方法","content":"$$ \\begin{align} -\\mu\\Delta u + \\vec{\\beta} \\cdot \\nabla u \u0026amp;= f \\ u(\\partial\\Omega) \u0026amp;= \\text{data} \\end{align} $$\nWrite it out: $$ \\begin{align} -\\mu\\left(\\frac{\\partial^2 u}{\\partial x^2} + \\frac{\\partial^2 u}{\\partial y^2}\\right) + \\beta_x\\frac{\\partial u}{\\partial x} + \\beta_y\\frac{\\partial u}{\\partial y} \u0026amp;= f(x,y) \\ u(\\partial\\Omega) \u0026amp;= d \\end{align} $$\n4.1 Only Consider Diffusion. Turn off Wind: # To form a system: $(i,j) \\to k$.\n$Au = b$.\n$A$ is symmetric, SPD.\n4.2 Turn on the Wind. Upwind # With upwind, the pts are not good.\n5. Parabolic Problems # $$ \\begin{align} \\frac{\\partial u}{\\partial t} - \\mu\\frac{\\partial^2 u}{\\partial x^2} \u0026amp;= f, \\quad x \\in (0,1) \\quad 0 \u0026lt; t \u0026lt; T\\ u(0,t) \u0026amp;= u_L(t), \\quad u(1,t) = u_R(t) \\ u(x, t=0) \u0026amp;= u_0(x) \\end{align} $$\nDiscretization along $x$: semi-discretization: $u_j(t) \\approx u(x_j, t)$. $$\\frac{du_j}{dt} - \\mu\\frac{u_{j+1}(t) - 2u_j(t) + u_{j-1}(t)}{\\Delta x^2} = f_j(t) = f(x_j, t)$$\nSo, we form system $Au = f$.\n$$A = \\frac{\\mu}{\\Delta x^2}\\text{Triad}(-1, 2, 1), \\quad u(t) = \\begin{bmatrix} u_1(t) \\ \\vdots \\ u_n(t) \\end{bmatrix}, \\quad f(t) = \\begin{bmatrix} f_1(t) \\ \\vdots \\ f_n(t) \\end{bmatrix}$$\nThen, we have a system of ODE: $$\\frac{du}{dt} - Au = f$$\nWe can now do time discretization and use ODE methods.\nEE/FE: $$u^n = u(t^n), \\quad \\left.\\frac{du}{dt}\\right|_{t^n} \\approx \\frac{u^{n+1} - u^n}{\\Delta t} = f^n + Au^n$$\n$$u^{n+1} = u^n + \\Delta t Au^n + \\Delta t f^n = (I + \\Delta t A)u^n + \\Delta t f^n = (I + \\Delta t A)^n u_0 + \\Delta t f^n$$\nIE/BE: $$\\left.\\frac{du}{dt}\\right|_{t^n} = \\frac{u^n - u^{n-1}}{\\Delta t} = f^n + Au^n$$\n$$u^n - u^{n-1} = \\Delta t f^n + \\Delta t Au^n$$\n$$u^n - \\Delta t Au^n = \\Delta t f^n + u^{n-1}$$\n$$(I - \\Delta t A)u^n = u^{n-1} + \\Delta t f^n \\quad \\leftarrow \\text{A linear system to solve}$$\n$I - \\Delta t A$ is SPD and $A$ is time-independent. So, we may favor direct method (as we can store $A = LU$ and reuse it) over iterative methods.\nTo discuss stability, set $f = 0$:\nEE is conditionally stable: Let $\\lambda_i$ be eigenvalues of $A$.\n$$\\Delta t \u0026lt; \\frac{2}{|\\lambda_i|} \\quad \\text{for stability}$$\nFurther, $A = \\frac{\\mu}{\\Delta x^2}\\text{triad}(1, -2, 1)$, $\\rho(A) \\sim \\frac{c}{\\Delta x^2}$. So,\n$$\\Delta t \u0026lt; \\frac{2}{|\\lambda_i|} \\leq \\frac{2}{\\rho(A)} = \\frac{2}{c}\\Delta x^2$$\nSo, if we decrease $\\Delta x$ by 2, to have stability\n$$\\Delta t_{new} \u0026lt; \\frac{2}{c}\\left(\\frac{\\Delta x}{2}\\right)^2 = \\frac{\\Delta t_{old}}{4} \\quad \\Rightarrow \\text{we need finer intervals for time}$$\nIE is unconditionally stable.\nDef. ($\\theta$ Methods). $$\\frac{u^{n+1} - u^n}{\\Delta t} = \\theta Au^{n+1} + (1-\\theta)Au^n + \\theta f^{n+1} + (1-\\theta)f^n, \\quad \\theta \\in [0,1]$$\nEE: $\\theta = 0 \\quad \\mathcal{O}(\\Delta t) \\quad$ explicit $\\quad$ conditional stability\nIE: $\\theta = 1 \\quad \\mathcal{O}(\\Delta t) \\quad$ implicit $\\quad$ unconditional stability\nCN: $\\theta = \\frac{1}{2} \\quad \\mathcal{O}(\\Delta t^2) \\quad$ implicit $\\quad$ unconditional stability\nSuppose $f = 0$. Then, $$\\frac{u^{n+1} - u^n}{\\Delta t} = \\theta Au^{n+1} + (1-\\theta)Au^n$$\n$$u^{n+1} - u^n = \\Delta t \\theta Au^{n+1} + \\Delta t(1-\\theta)Au^n$$\n$$(I - \\Delta t \\theta A)u^{n+1} = (I + \\Delta t(1-\\theta)A)u^n$$\nWe essentially solve a linear system in each iteration.\n5.1 Thm (Stability and Order of $\\theta$ Methods) # $\\theta$ methods are unconditionally stable for $\\theta \\geq \\frac{1}{2}$. Otherwise, it is conditionally stable for $\\theta \u0026lt; \\frac{1}{2}$ and the stability condition for parabolic problem is $\\Delta t \u0026lt; c\\Delta x^2$. Meanwhile, the method is order 1 for $\\theta \\neq \\frac{1}{2}$ and order 2 for $\\theta = \\frac{1}{2}$. Although the $\\theta$ method is 2nd order in space, the order of error is dominant and determined by the order in time. CN is the most vulnerable to lack of regularity and sensitive to non-smoothness. 6. Hyperbolic Problems # 6.1 # $ \\begin{align} \\frac{\\partial u}{\\partial t} + \\alpha\\frac{\\partial u}{\\partial x} \u0026amp;= 0, \\quad \\alpha \u0026gt; 0, \\text{ constant} \\ u(x,0) \u0026amp;= u_0(x) \\end{align} $\nExact solution: $u(x,t) = u_0(x - \\alpha t)$\n6.2 Example: Modeling Density of Pollutant # $u$: pollutant, $x$: displacement of boat, $t$: time.\n$$ \\begin{align} \\frac{du}{dx} \u0026amp;= 0 \\quad \\text{(i.e, pollutant and boat moves at the same velocity)} \\ \\frac{dx}{dt} \u0026amp; = a \\quad \\text{(i.e., boat moves at velocity of $a$)} \\end{align}\n$$\n$x(t) = x_0 + at \\Rightarrow$ characteristic curves\n$u(x,t) = u_0(x-at)$. Solution to $\\begin{cases} \\frac{dx}{dt} = a \\ x(0) = x_0 \\end{cases}$\nConsider $u(x(t),t)$: $\\frac{du}{dt} = \\frac{\\partial u}{\\partial t} + \\frac{\\partial u}{\\partial x} \\cdot \\frac{dx}{dt} = \\frac{\\partial u}{\\partial t} + a \\cdot \\frac{\\partial u}{\\partial x} = 0$.\n6.3 Similar Problems: # Conservation law $\\frac{\\partial u}{\\partial t} + \\frac{\\partial q(u)}{\\partial x} = 0$\n$q(u) = v(u) \\cdot u$ with $v = v_{max}\\left(1 - \\frac{u}{u_{max}}\\right)$\n$\\Rightarrow \\frac{\\partial u}{\\partial t} + v_{max}\\left(1 - \\frac{u}{u_{max}}\\right)\\frac{\\partial u}{\\partial x} = 0$. Models the density of traffic.\n$= \\alpha$, but $\\alpha$ is not constant here.\nHeat equation $\\frac{\\partial^2 u}{\\partial t^2} - v^2\\frac{\\partial^2 u}{\\partial x^2} = f$\nDefine $w_1 = \\frac{\\partial u}{\\partial x}$ and $w_2 = \\frac{\\partial u}{\\partial t}$.\n$ \\begin{align} \\frac{\\partial w_1}{\\partial t} - v^2\\frac{\\partial w_2}{\\partial x} \u0026amp;= f \\ \\frac{\\partial w_2}{\\partial t} - \\frac{\\partial w_1}{\\partial x} \u0026amp;= 0 \\quad \\frac{\\partial^2 u}{\\partial x \\partial t} = \\frac{\\partial^2 u}{\\partial t \\partial x} \\end{align} $\nDefine $w = \\begin{bmatrix} w_1 \\ w_2 \\end{bmatrix}$, $A = \\begin{bmatrix} 0 \u0026amp; -v^2 \\ -1 \u0026amp; 0 \\end{bmatrix}$\nThen, the original equation becomes a system: $\\frac{\\partial w}{\\partial t} + A\\frac{\\partial w}{\\partial x} = 0$\nThe eigenvalues of $A$: $\\lambda_{1,2} = \\pm iv$. $\\Rightarrow$ Diagonalizable.\nFind the numerical solution.\n$\\frac{\\partial u}{\\partial t}\\bigg|_{t^{n+1}, x_j} = \\frac{u_j^{n+1} - u_j^n}{\\Delta t}$\n$\\alpha\\frac{\\partial u}{\\partial x}\\bigg|{t^{n+1}, x_j} = \\frac{\\alpha}{2} \\cdot \\frac{u{j+1}^{n+1} - u_{j-1}^{n+1}}{\\Delta t}$\nWith BE-C: $\\frac{u_j^{n+1} - u_j^n}{\\Delta t} + \\frac{\\alpha}{2} \\cdot \\frac{u_{j+1}^{n+1} - u_{j-1}^{n+1}}{\\Delta t} = 0$\n$ \\Rightarrow \\begin{bmatrix} \\frac{1}{\\Delta t} \u0026amp; \\frac{\\alpha}{2\\Delta t} \u0026amp; 0 \u0026amp; 0 \u0026amp; \\cdots \\ -\\frac{\\alpha}{2\\Delta t} \u0026amp; \\frac{1}{\\Delta t} \u0026amp; \\frac{\\alpha}{2\\Delta t} \u0026amp; 0 \u0026amp; \\cdots \\ \u0026amp; \u0026amp; \\ddots \u0026amp; \u0026amp; \\end{bmatrix} $\nWith FE-C: unconditionally unstable. NEVER USE IT! $\\frac{u_j^{n+1} - u_j^n}{\\Delta t} + \\frac{\\alpha}{2} \\cdot \\frac{u_{j+1}^n - u_{j-1}^n}{\\Delta t} = 0$\n$\\Rightarrow u_j^{n+1} = u_j^n + \\frac{\\alpha\\Delta t}{2\\Delta t}(u_{j+1}^n - u_{j-1}^n)$\nWith FE-Upwind: $\\frac{u_j^{n+1} - u_j^n}{\\Delta t} + \\alpha\\frac{u_j^n - u_{j-1}^n}{\\Delta x} = 0 \\quad \\alpha \u0026gt; 0$\n$\\frac{u_j^{n+1} - u_j^n}{\\Delta t} + \\alpha\\frac{u_{j+1}^n - u_j^n}{\\Delta x} = 0 \\quad \\alpha \u0026lt; 0$\n$\\frac{u_j^{n+1} - u_j^n}{\\Delta t} + \\frac{\\alpha}{2}\\frac{u_{j+1}^n - u_{j-1}^n}{\\Delta x} - \\frac{|\\alpha|\\Delta t}{2}\\frac{u_{j+1}^n - 2u_j^n + u_{j-1}^n}{\\Delta x^2} = 0$\nDiffusion\nLax Wendroff: FE-upwind with modified coefficient $\\frac{u_j^{n+1} - u_j^n}{\\Delta t} + \\frac{\\alpha}{2}\\frac{u_{j+1}^n - u_{j-1}^n}{\\Delta x} - \\frac{\\alpha^2\\Delta t}{2}\\frac{u_{j+1}^n - 2u_j^n + u_{j-1}^n}{\\Delta x^2} = 0$\n$u(x_j, t^{n+1}) = u(x_j, t^n) + \\frac{\\partial u}{\\partial t}\\bigg|{t^n, x_j}(t^{n+1} - t^n) + \\frac{1}{2}\\frac{\\partial^2 u}{\\partial t^2}\\bigg|{t^n, x_j}(t^{n+1} - t^n)^2 + \\mathcal{O}(||t^{n+1} - t^n||^3)$\n$\\frac{\\partial u}{\\partial t} = -\\alpha\\frac{\\partial u}{\\partial x}, \\quad \\frac{\\partial^2 u}{\\partial x \\partial t} = -\\alpha\\frac{\\partial^2 u}{\\partial x^2}, \\quad \\frac{\\partial^2 u}{\\partial t^2} = \\alpha^2\\frac{\\partial^2 u}{\\partial x^2}$\nSubstitute: $u_j^{n+1} = u_j^n - \\alpha\\left(\\frac{u_{j+1}^n - u_{j-1}^n}{2\\Delta x}\\right)\\Delta t + \\frac{\\alpha^2}{2}\\left(\\frac{u_{j+1}^n - 2u_j^n + u_{j-1}^n}{\\Delta x^2}\\right)\\Delta t^2$\nStability: $\\left|\\frac{\\alpha\\Delta t}{\\Delta x}\\right| \\leq 1$\n"},{"id":44,"href":"/docs/Mathematics/MATH-351-352/Heat-Equation/The-Fourier-Series/","title":"傅立叶级数","section":"热方程","content":" 1. 傅立叶级数的基本形态 # 1.1 周期 # 在经历了周期$T$后，重新获得原值的函数为周期函数：\n$$ \\varphi(t+T)=\\varphi $$\n1.2 正弦型量 # 正弦型量形如：\n$y(t)=Asin(\\omega t+\\alpha)$ where $\\omega = \\cfrac{2\\pi}{T}$ is the frequency.\nNotice that for values $s.t.$:\n$$ y_0 = A_0, \\ y_1=A_1\\sin(\\omega t + \\alpha_1), \\ y_2=A_2\\sin(2\\omega t + \\alpha_2), \\ y_3=A_3\\sin(3\\omega t + \\alpha_3) \u0026hellip; $$\nwe have frequency as the multiple of the smallest frequency with their period:\n$\\omega$, $2\\omega$, $3\\omega$…\n$T$, $\\frac{1}{2}T$, $\\frac{1}{3}T$…\n![[Fourier Series.png]]\nIf we add them together, we get…\n1.3.1 三角级数 - $\\varphi(t)$函数 # 💡 **It is possible to represent any periodic function with finite or infinite summations of sin functions:** $$ \\varphi(t)=A_0 + \\sum_{n=1}^{\\infty}A_n\\sin(n\\omega t+ \\alpha_n) $$\nwhere $A_n, \\alpha_n$ are constants\n$\\varphi(t)$可以被分解成无数个调和震动 每一项称之为调和素 对$\\varphi(t)$进行分解的手法被称之为调和分析 1.3.2 三角级数 - 最终展开式 # 注意ppt里的公式是不一样的换元，$x=\\frac{2Lt}{T}$，所以$\\frac{\\pi}{L}$被抽出来了。这里我们会用正常的逻辑换元推导，等到后面需要计算generic interval，才重新换一个$L$进去***\n当我们用$x=\\omega t = \\frac{2\\pi t}{T}$ 来换元 $s.t.$ $f(x)=\\varphi(t) = \\varphi(\\frac{x}{\\omega})$ ，我们用三角正弦公式展开：\n$$ \\begin{align}f(x)\u0026amp;= A_0 + \\sum_{n=1}^{\\infty}A_n\\sin(nx+ \\alpha_n)\\ \u0026amp;=A_0 + \\sum_{n=1}^{\\infty}A_n(\\cos nx\\sin \\alpha_n+ \\sin nx \\cos \\alpha_n) \\\\end{align} $$\n正弦公式：$\\sin(a+b)=\\cos a\\sin b + \\sin a\\cos b$ 展开\n$$ f(x)=A_0+\\sum_{n=1}^{\\infty}[(A_n\\sin \\alpha_n)\\cos nx+ (A_n \\cos \\alpha_n)\\sin nx )] $$\n并令 $A_0=a_0, \\ A_n\\sin\\alpha_n = b_n, \\ A_n\\cos\\alpha_n = b_n$\n💡 于是我们就有了会有三角级数的**最终展开形态**： $$ f(x)=a_0 + \\sum_{n=1}^{\\infty}(a_n\\cos nx+ b_n\\sin nx) $$\nthe period for $f$ is $2\\pi$ due to our definition of new independent variable $x$ 2. 傅立叶级数的系数 # 2.1 欧拉-傅立叶公式（Euler-Fourier formula） # 这个是一个18世纪初欧拉使用的系数确定法。后面我们还学了泛函分析的inner product算系数的方法。\nAssuming $f(x)$ under $[-\\pi,\\pi]$ is an integrable function, if we assume Fourier Expansion for $f(x)$ is true, then directly we have:\n$$ \\begin{align}\\int_{-\\pi}^{\\pi} f(x) , dx = 2\\pi a_0 + \\sum_{n=1}^{\\infty} \\left[ a_n \\int_{-\\pi}^{\\pi} \\cos nx , dx + b_n \\int_{-\\pi}^{\\pi} \\sin nx , dx \\right]\\end{align} $$\nobviously, the integration for $\\cos$ and $\\sin$ for $[-\\pi,\\pi]$ is 0 regardless of the values, so we only left with:\n$$ a_0= \\frac{1}{2\\pi}\\int_{-\\pi}^{\\pi} f(x) , dx $$\nnext, if to find the specific value for arbitrary $a_m$ ($m=1,2,3\u0026hellip;$), we multiply $(3)$ by $\\cos (ma)$ so that the terms we needed wouldn’t cancel out, eventually we reached at:\n$$ a_m= \\frac{1}{\\pi}\\int_{-\\pi}^{\\pi} f(x) \\cos(ma) , dx $$\nSimilarly, multiply by $\\sin(ma)$, we derive:\n$$ b_m= \\frac{1}{\\pi}\\int_{-\\pi}^{\\pi} f(x) \\sin(ma) , dx $$\n这些公式被称之为欧拉-傅立叶公式（Euler-Fourier formula），而他们算出来的数值被称为已给函数的傅立叶系数（Fourier Coefficient）。\n2.2* 狄利克雷积分（Dirichlet integral） # 通过傅立叶展开的一个定点$x=x_0$的性质，获得的重要积分：\n$$ s_n(x_0) = \\frac{1}{\\pi} \\int_{0}^{\\pi} \\left[ f(x_0 + t) + f(x_0 - t) \\right] \\frac{\\sin (n + \\frac{1}{2})t }{2 \\sin\\frac{t}{2}} , dt\n$$\ne.x. https://www.bilibili.com/video/BV1XE411p7ZN/\n3*. 广义形态的傅立叶级数和系数公式 # 3.1 任意区间的情况 # 💡 We can separate out a $\\frac{1}{2}$ from the original $a_0$ coefficient, so the first term becomes a special case for $n=0$. 在任意$2L$大小的区间 $(-L,L]$ 上，我们可以使用变换：$x=\\frac{Ly}{\\pi} (-\\pi\u0026lt;y\\leq\\pi)$ 使得$f(x)\\rightarrow f(\\frac{Ly}{\\pi})$ 。于是，我们根据公式获得：\n$$ f\\left( \\frac{Ly}{\\pi} \\right) = \\frac{a_0}{2} + \\sum_{n=1}^{\\infty} \\left( a_n \\cos ny + b_n \\sin ny \\right) $$\n以及其系数：\n$$ a_n = \\frac{1}{\\pi} \\int_{-\\pi}^{\\pi} f\\left( \\frac{y}{\\pi} \\right) \\cos ny , dy \\quad (n = 0, 1, 2, \\ldots) $$\n$$\nb_n = \\frac{1}{\\pi} \\int_{-\\pi}^{\\pi} f\\left( \\frac{y}{\\pi} \\right) \\sin ny , dy \\quad (n = 1, 2, \\ldots) $$\n当我们重新变换回去，即使得$y = \\cfrac{\\pi x}{L}$，那么我们就会获得一个广义上的傅立叶展开！\n💡 The general form of **Fourier Expansion**: $$ \\begin{align}f(x)=\\frac{A_0}{2} + \\sum_{n=1}^{\\infty} \\left( A_n \\cos \\frac{n\\pi x}{L} + B_n \\sin \\frac{n\\pi x}{L} \\right) \\end{align} $$\nHere, $x$ is no longer the angle, but the integer multiples of $\\frac{\\pi x}{L}$, such that the Fourier Coefficient for generic interval $[-L,L]$ are:\n$$ \\begin{align} A_n \\equiv \\frac{1}{L} \\int_{-L}^{L} f(x) \\cos\\left(\\frac{n\\pi x}{L}\\right) dx, \\quad n = 0, 1, 2, \\ldots \\ B_n \\equiv \\frac{1}{L} \\int_{-L}^{L} f(x) \\sin\\left(\\frac{n\\pi x}{L}\\right) dx, \\quad n = 1, 2, 3, \\ldots \\end{align}\n$$\n3.2 菜就多练，给爷展 # $f(x)=e^{ax}$, $a\\neq0$ on the interval of $(-\\pi,\\pi)$\n答案\n$f(x)=\\frac{\\pi-x}{2}$ on the interval of $(0,2\\pi)$\n答案\n$f(x)=x^2$ on the interval of $[-\\pi,\\pi]$, expand as cosine series.\n答案\nTwo functions ($a$ is assumed to be non-integers):\n$f_1(x)=\\cos(ax)$ on the interval of $[-\\pi,\\pi]$, expand as cosine series.\n答案\n$f_2(x)=\\sin(ax)$ on the interval of $(-\\pi,\\pi)$, expand as sine series.\n答案\n$f(x)=e^{ax}$, $a\\neq0$ on the interval of $(0,\\pi)$:\nexpand as cosine series expand as sine series 答案\n4. 傅里叶级数的拓扑空间 # 💡 理解傅里叶级数变换的拓扑空间的逻辑是： 三维空间—— $n$维空间——$\\infty$维空间——希尔伯特空间（$L^2$空间）——傅立叶级数——傅立叶变换\n4.1 $\\infty$维欧式空间 - $\\R^{\\infty}$ # 4.1.1 $n$维空间的定义- $\\R^{n}$ # 范数（Norm）:\n$$ N_p(x) = | x |_p = \\left( |x_1|^p + |x_2|^p + \\cdots + |x_n|^p \\right)^{\\frac{1}{p}} $$\n单位正交向量基（standard orthogonal basis）:\n$$ \\left{ \\begin{aligned}\\vec{e}_1 \u0026amp;= (1, 0, \\ldots, 0), \\\\vec{e}_2 \u0026amp;= (0, 1, \\ldots, 0), \\\u0026amp; \\vdots \\\\vec{e}_n \u0026amp;= (0, 0, \\ldots, 1)\\end{aligned}\\right. $$\n因此$n$维欧式空间的任何向量可以被直接表达成：\n$$ \\vec{a} = \\sum_{i=1}^{n} a_i \\vec{e}_i $$\n4.1.2 由此推出$\\infty$维空间 - $\\R^{\\infty}$ # 同理，当我们有无数个标准基，${ \\vec{e}_1 , \\vec{e}_2 , \\vec{e}_3 \\ldots}$，的时候，向量变成了\n$$ \\vec{a} = \\sum_{i=1}^{\\infty} a_i \\vec{e}_i $$\n但是他们依然是离散的元素 4.2 Hilbert空间 # 我们需要把离散的元素过度到连续的函数，Hilbert空间：\n设定一个向量函数$\\vec{f}(x)$\n并且存在一组基函数（standard orthogonal functions）\n${ \\vec{\\varphi}_1 , \\vec{\\varphi}_2 , \\vec{\\varphi}_3 \\ldots}$ $s.t.$ we have\n$$ \\vec{f}(x) = \\sum_{i=1}^{\\infty} a_i \\vec{\\varphi_i}(x) $$\n因此，我们在Hilbert空间就有了这样的性质：\n💡 1. 函数在区间$[a,b]$上的模（norm）： $$ | f(x) | = \\sqrt{\\int_a^b f^2(x) , dx} ; $$\n如果两个函数的正交条件（orthogonality）为其内积（inner product）为零： $$ \\int_{a}^{b} f(x) g(x) , dx = 0 $$\n两者的角的余弦为 $$ \\cos(\\theta) = \\frac{\\langle f(x), g(x) \\rangle}{| f(x) | \\cdot | g(x) |} = \\frac{\\int f(x)g(x) , dx}{\\sqrt{\\int f^2(x) , dx} \\sqrt{\\int g^2(x) , dx}} ; $$\n4.3 $L^p$ 空间（Lebesgue Space） # 定义：Suppose $f(x)$ is measurable functions on $E\\subset R^n$.\nFor $0\u0026lt;p\u0026lt;\\infty$, we denote:\n$$ ||f||_p=(\\int_E|f(x)|^pdx)^{1/p} $$\n我们用$L^p(E)$来表示$||f||_p\u0026lt;\\infty$的全体函数，称其为$L^p$空间。\n其范数（norm）为：\n$$ L_p = | \\varphi |p = \\left( \\sum{i=1}^{n} |\\varphi_i|^p \\right)^{\\frac{1}{p}}, \\quad x = (x_1, x_2, \\ldots, x_n) $$\n$L^p$空间的一些基础属性：\n$L$空间里的每一个函数都是Lebesgue可积的 空间维度是无穷而且不可数的度量空间（Metric Space） Banach空间，或者完备赋范向量空间 (complete normed vector space) 当$p=2$，$L^2$变成了一个Hilbert空间，一个带有内积的Banach空间 A Hilbert space is a real or complex inner product space that is also a complete metric space with respect to the distance function induced by the inner product. In every Hilbert Space, we have functions that\n$$ \\langle x, y \\rangle = \\sum_{k=1}^{n} \\overline{x_k} y_k $$\n$L^2$空间的范数**（norm）**，根据之前的公式，我们可以得知：\n$$ | \\varphi |2 = \\sqrt{ \\sum{i=1}^{n} |\\varphi_i|^2 }, \\quad x = (x_1, x_2, \\ldots, x_n) $$\np.s. 以（p=2）为例，空间中到原点的欧氏距离为1的点构成了一个球面。\n![[L-space-1.png]]\n4.4 傅里叶级数的正交函数系与规范系 # 定义：if $\\int_{a}^{b} \\varphi(x) \\psi(x) , dx = 0$ for interval $[a,b]$, then $\\varphi(x), \\psi(x)$ are orthogonal.\n4.4.1 正交函数系 (orthogonal functions) # 当每对双函数$\\varphi_n(x), \\ \\varphi_m(x)$ 都符合定义以下，我们称这样的函数群体为正交函数系 （orthogonal group）：\n$$ \\int_{a}^{b} \\varphi_n(x) \\varphi_m(x) , dx = 0 \\space \\space\\space\\space\\space\\space\\space\\space {n,m\\in \\N\\ | \\ n\\neq m } $$\n4.4.2 规范正交函数系 (orthonormal functions) # 若函数的 $\\lambda_n=1$ $(n=1,2,3\u0026hellip;)$, 那么这便是规范系（orthonormal group）：\n$$ \\int_{a}^{b} \\varphi_n^2(x) , dx = \\lambda_n $$\n若不是orthogonal，则我们可以通过$\\left{ \\cfrac{\\varphi_n(x)}{\\sqrt{\\lambda_n}} \\right}$ 来进行换取新的orthogonal functions。\n4.5 傅里叶级数在$L^2$ 空间的基函数 # Notice back to this set of functions inside the interval $[-\\pi,\\pi]$:\n$$1, \\cos(x), \\sin(x), \\cos(2x), \\sin(2x),\u0026hellip;\\cos(nx), \\sin(nx),\u0026hellip;$$\nThese are orthogonal basis functions for their vector space because we see for any two functions in this set $\\int_{-\\pi}^{\\pi} \\cos(mx) \\cdot \\sin(nx) , dx = 0.$\nHowever, they are not standard, or normed, because $\\lambda_n \\neq1$.\n我们可以通过模（norm）的定义获得他们的normalizing coefficient：\n$$|1| = \\sqrt{\\int_{-\\pi}^{\\pi} 1^2 , dx} = \\sqrt{2\\pi}$$\n$$|\\cos(nx)| = \\sqrt{\\int_{-\\pi}^{\\pi} \\cos^2(nx) , dx} = \\sqrt{\\pi}$$\n$$|\\sin(nx)| = \\sqrt{\\int_{-\\pi}^{\\pi} \\sin^2(nx) , dx} = \\sqrt{\\pi}$$ Then, we would have a standard orthonormal functions: $$\\frac{1}{\\sqrt{2\\pi}}, \\ldots, , \\frac{\\cos nx}{\\sqrt{\\pi}}, , \\frac{\\sin nx}{\\sqrt{\\pi}}, , \\ldots$$\nLet’s define them:\n$$\\psi_0=\\frac{1}{\\sqrt{2\\pi}}, \\psi_j=\\frac{1}{\\sqrt{\\pi}}\\cos(jx), \\varphi_j=\\frac{1}{\\sqrt{\\pi}}\\sin(jx)$$\n$$\\psi_0\\equiv\\sqrt L\\quad \\psi_j\\equiv\\sqrt L\\cos\\left ( \\frac{j\\pi}{L}x \\right )\\quad \\varphi_j\\equiv\\sqrt L\\sin\\left ( \\frac{j\\pi}{L}x \\right) $$\nsuch that, we obtain the coefficient for each standard basis functions needed:\n$$\\begin{align} a_0 \u0026amp;= \\langle f,\\psi_0\\rangle=\\frac{1}{\\sqrt{2\\pi}} \\int_{-\\pi}^{\\pi} f(x) , dx\\a_j \u0026amp;=\\langle f,\\psi_k\\rangle=\\frac{1}{\\sqrt{\\pi}} \\int_{-\\pi}^{\\pi} f(x) \\cos(jx) , dx\\ b_j \u0026amp;=\\langle f,\\varphi_k\\rangle =\\frac{1}{\\sqrt{\\pi}} \\int_{-\\pi}^{\\pi} f(x) \\sin(kx) , dx \\end{align} $$\nThen, for the function $\\mathcal X$ and its coffecient $C_k$ defined as\n$$ \\mathcal X_k=( \\psi_k ,\\varphi_k ), \\quad C_k=(a_j,b_j) $$\nwe have a function space:\n$$ \\mathcal F(f)=\\sum_{k=0}^\\infty C_k \\cdot \\mathcal X_k $$\n如同$\\vec{a} = \\sum_{i=1}^{n} a_i \\vec{e}_i \\quad$一样，我们有$f(x) = a_0 \\frac{1}{\\sqrt{2\\pi}} + a_1 \\frac{\\cos x}{\\sqrt{\\pi}} + b_1 \\frac{\\sin x}{\\sqrt{\\pi}} + a_2 \\frac{\\cos 2x}{\\sqrt{\\pi}} + b_2 \\frac{\\sin 2x}{\\sqrt{\\pi}} + \\cdots$，或者\n$$\nf(x) = a_0 \\frac{1}{\\sqrt{2\\pi}} + \\sum_{k=1}^{\\infty} a_k \\frac{\\cos kx}{\\sqrt{\\pi}} + \\sum_{k=1}^{\\infty} b_k \\frac{\\sin kx}{\\sqrt{\\pi}} $$\n代入$a_0,a_k,b_k$到上式中，我们获得：\n$$ f(x) = \\frac{1}{\\sqrt{2\\pi}} \\int_{-\\pi}^{\\pi} f(x) , dx \\frac{1}{\\sqrt{2\\pi}} + \\sum_{k=1}^{\\infty} \\frac{\\cos kx}{\\sqrt{\\pi}}\\frac{1}{\\sqrt{\\pi}} \\int_{-\\pi}^{\\pi} f(x) \\cos kx , dx + \\sum_{k=1}^{\\infty} \\frac{\\sin kx}{\\sqrt{\\pi}} \\frac{1}{\\sqrt{\\pi}} \\int_{-\\pi}^{\\pi} f(x) \\sin kx , dx $$\n当我们简化之后，并且将系数项更新，我们最终有了现在的傅里叶展开式：\n$$ f(x)=A_0 + \\sum_{n=1}^{\\infty}(A_n\\cos nx+ B_n\\sin nx) $$\n$$ \\begin{align} A_0 \u0026amp;= \\frac{1}{2\\pi} \\int_{-\\pi}^{\\pi} f(x) , dx\\A_n \u0026amp;= \\frac{1}{\\pi} \\int_{-\\pi}^{\\pi} f(x) \\cos(nx) , dx\\ B_n \u0026amp;= \\frac{1}{\\pi} \\int_{-\\pi}^{\\pi} f(x) \\sin(nx) , dx \\end{align} $$\n"}]