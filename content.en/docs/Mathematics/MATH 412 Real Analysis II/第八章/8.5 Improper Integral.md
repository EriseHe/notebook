---
weight: "8.5"
title: 8.5 不定积分
---

## 8.3 反常积分 (Improper Integrals)

WTS: Study integral of the form $\int_A f(x)$, where $f : A \subset \mathbb{R}^n \rightarrow \mathbb{R}$ is an arbitrary function and $A \subset \mathbb{R}^n$ is an arbitrary set.

### 定义 8.3.1 (Integral)

- If $A \subset \mathbb{R}^n$ is bounded and $f$ is bounded, then
  $$\int_A f(x) = \int_{\overline{A}} f(x) = \underline{\int_{A}} f(x) \quad \text{(Riemann Condition)}$$

- $f(x) \geq 0$ bounded and $A$ is arbitrary, then
  $$\int_A f(x) = \lim_{a\to\infty} \int_{A_a} f(x)$$
  
  $A \subset \mathbb{R}^n$
  
  $A_a = [-a, a]^n$

- $f(x) \geq 0$ unbounded and $A$ is arbitrary.
  
  For $M > 0$, define
  $$f_M(x) = 
  \begin{cases}
  f(x) & \text{for } f(x) \leq M \\
  0 & \text{o/w}.
  \end{cases}$$

  Then, $\int_A f(x) = \lim_{M\to\infty} \int_A f_M(x)$.

- $f$ is arbitrary and $A$ is arbitrary.
  
  Let
  $$f^+(x) = 
  \begin{cases}
  f(x) & f(x) \geq 0 \\
  0 & f(x) < 0,
  \end{cases}$$
  
  and 
  
  $$f^-(x) = 
  \begin{cases}
  0 & f(x) \geq 0 \\
  -f(x) & f(x) < 0.
  \end{cases}$$

**Remark 8.5**
1. $f^+(x)$ is the positive part of $f$ and $f^-(x)$ is the negative part of $f$.
2. $f^+, f^- \geq 0$.
3. $f(x) = f^+(x) - f^-(x)$. We can write any function as the difference of two non-negative functions.
4. $|f(x)| = f^+(x) + f^-(x)$.

So, $f$ is integrable on $A$ if both $f^+$ and $f^-$ are integrable on $A$. We write
$$\int_A f(x) = \int_A f^+(x) - \int_A f^-(x).$$

**Remark 8.6**
1. One can show this definition preserves linearity of integral from bounded case.
2. **Observation:** $f$ integrable $\Rightarrow$ $f^+$ and $f^-$ integrable $\Rightarrow$ $|f| = f^+ + f^-$ is also integrable. However, $|f|$ integrable $\nRightarrow$ $f$ integrable. For counterexample,
   $$f(x) = 
   \begin{cases}
   1 & x \text{ rational} \\
   -1 & x \text{ irrational}
   \end{cases}
   \text{ on } [0, 1].$$
   $|f(x)| \equiv 1 \Rightarrow$ integrable. But $f^+, f^-$, or $f$ are not integrable.

### Theorem 8.3.2 Comparison Principle
Suppose
- $0 \leq g \leq f$ on $A$ and $\int_A f$ converges (i.e., $f$ is integrable on $A$)
- $g$ is integrable on each finite rectangle $[-a, a]^n$.

Then, $g$ is also integrable on $A$, and $\int_A g \leq \int_A f$.

**Remark 8.7** The second condition is crucial and cannot be removed.

**Proof 1.** Since $g \geq 0$ and is integrable on $[-a, a]^n$, define
$$G(a) = \int_{[-a,a]^n} g(x).$$

Then, $G(a)$ is an increasing function of $a$. Furthermore,
$$g \leq f \Rightarrow G(a) = \int_{[-a,a]^n} g(x) \leq \int_{[-a,a]^n} f(x) \leq \int_A f(x).$$

So, $\int_A g(x) = \lim_{a\to\infty} G(a) \leq \int_A f(x)$.

Q.E.D. ■

**Question:** When does an integrable $\int_a^b f(x)$ (one-variable function) converge? If it converges, how to compute?

### Theorem 8.3.3 Integral of Functions of One-Variable

- Suppose $f : [a, \infty] \rightarrow \mathbb{R}$ is continuous with $f(x) \geq 0$. Let $F'(x) = f(x)$. Then,
  $$\int_a^{\infty} f(x) dx = \lim_{b\to\infty} \int_a^b f(x) dx = \lim_{b\to\infty} [F(b) - F(a)].$$

- Suppose $f : (a, b] \rightarrow \mathbb{R}$ is continuous with $f(x) \geq 0$. Then,
  $$\int_a^b f(x) dx = \lim_{\varepsilon\to0^+} \int_{a+\varepsilon}^b f(x) dx.$$

### Example 8.3.4

- Consider $\int_1^{\infty} x^p dx$.

  **Solution 2.**
  
  For $b \geq 1$,
  $$\int_1^b x^p dx = 
  \begin{cases}
  \ln b & p = -1 \\
  \frac{1}{p + 1}(b^{p+1} - 1) & p \neq -1.
  \end{cases}$$
  
  When $b \to \infty$, $\int_1^b x^p dx$ diverges when $p \geq -1$ and converges when $p < -1$. So,
  
  $\int_1^{\infty} x^p dx$ is divergent when $p \geq -1$
  
  and
  
  $\int_1^{\infty} x^p dx = -\frac{1}{p + 1}$ is convergent when $p < -1$.

- Consider $\int_1^{\infty} e^{-x^2}x^3 dx$.

  **Solution 3.**
  
  Converges by comparison.

### Definition 8.3.5 (Conditional Convergence)
$$\int_a^{\infty} f(x) dx \text{ (conditional)} = \lim_{b\to\infty} \int_a^b f(x) dx.$$

**Remark 8.8 (Types of Convergence)** For an improper integral $\int_a^{\infty} f(x) dx$, there are three types of convergence:

- **Absolute Convergence:** $\int_a^{\infty} |f(x)| dx$ exists.

- **Conditional Convergence:** $\lim_{b\to\infty} \int_a^b f(x) dx$ exists.

- **Divergence.**

For general function, absolute convergence $\nRightarrow$ conditional convergence. For continuous function, absolute convergence is stronger, and $\Rightarrow$ conditional convergence.

### Example 8.3.6

Determine whether the integral $\int_1^{\infty} \frac{\cos x}{x} dx$ is absolute convergence, conditional convergence, or neither (divergence).

**Solution 4.**

- First, consider absolute convergence.
  
  Observe that
  $$\int_0^{\infty} \left|\frac{\cos x}{x}\right| dx = \int_1^{\infty} \frac{|\cos x|}{x} dx \geq \int_{\pi/2}^{n\pi/2} \frac{|\cos x|}{x} dx$$
  
  $$= \sum_{k=1}^{n-1} \int_{k\pi/2}^{(k+1)\pi/2} \frac{|\cos x|}{x} dx$$
  
  $$\geq \sum_{k=1}^{n-1} \frac{1}{(k + 1)\frac{\pi}{2}} \int_{k\pi/2}^{(k+1)\pi/2} |\cos x| dx$$
  
  $\to \infty$ as $n \to \infty$.
  
  So, $\int_1^{\infty} \left|\frac{\cos x}{x}\right| dx$ diverges, and thus $\int_1^{\infty} \frac{\cos x}{x} dx$ is not absolutely convergent.

- Conditional convergence:
  
  $$\int_1^b \frac{\cos x}{x} dx = \frac{\sin x}{x}\Big|_1^b + \int_1^b \frac{\sin x}{x^2} dx \quad \text{[Integration by Parts]}$$
  
  When $b \to \infty$,
  $$\lim_{b\to\infty} \frac{\sin x}{x}\Big|_1^b = \frac{\sin 1}{1} \quad \text{converges}.$$
  
  Further,
  $$\left|\frac{\sin x}{x^2}\right| \leq \left|\frac{1}{x^2}\right| = \frac{1}{x^2} \Rightarrow \int_1^{\infty} \left|\frac{\sin x}{x^2}\right| dx \leq \int_1^{\infty} \frac{1}{x^2} dx.$$
  
  So, $\int_1^{\infty} \frac{\sin x}{x^2} dx$ absolutely converges by comparison.
  
  Then, $\int_1^b \frac{\cos x}{x} dx$ is conditional convergence.
