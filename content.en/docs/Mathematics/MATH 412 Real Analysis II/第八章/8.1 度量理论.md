---
~
---
## 8.1.1 积分的定义

### 1. 几何动机
积分本质上是计算函数下方区域的「体积」。如何定义这种「体积」会直接改变到积分的性质。积分定义遵循以下逻辑步骤：

1. 定义任意有界函数 f 于在高维空间中的有界区域 A 上。
2. （简化问题）将区域 A 嵌入到一个矩形区域 B 中，并将函数 f 扩展为函数 f̃，使其在 A 之外的 B 上取值为零。
3. 通过划分矩形 B 为更小的矩形，我们创建一个分割结构。
4. 对每个小矩形，我们计算函数在其上的最大值和最小值，并用这些值乘以小矩形的体积，得到上和与下和。
5. 上积分是所有可能分割中上和的下确界（最小上界），下积分是所有可能分割中下和的上确界（最大下界）。
6. 当上积分等于下积分时，函数被称为可积的，这个共同值就是积分。




计算区域的面积：
- 形成分割并创建近似值
- 形成上积分和下积分：
  - 上积分：$\overline{\int} f$
  - 下积分：$\underline{\int} f$

### 2. 一般表述
**设定**：设 $f: A \to \mathbb{R}$ 是定义在 $\mathbb{R}^n$ 中有界集合 $A$ 上的有界函数。

**目标**：定义曲面 $z = f(x)$ 下区域的体积（或积分 $\int_A f(x) dx$）。

**步骤1**：选择一个矩形 $B = [a_1, b_1] \times [a_2, b_2] \times \cdots \times [a_n, b_n]$ 使得 $A \subset B$。
定义 $\tilde{f}: B \to \mathbb{R}$ 为 $\tilde{f}(x) = f(x)$ 若 $x \in A$ 以及 $\tilde{f}(x) = 0$ 若 $x \notin A$。
$A$ 上的体积等于 $B$ 上的体积：
$$\int_A f(x) dx = \int_B \tilde{f}(x) dx$$

**步骤2**：通过将 $B$ 的各边分割成子区间来获得分割 $\mathcal{P}$（较小矩形的集合）。

**步骤3**：形成上和下和：
- 函数 $f$ 关于分割 $\mathcal{P}$ 的上和：
  $$U(f, \mathcal{P}) = \sum_i \sup_{x \in B_i} f(x) \cdot \text{volume}(B_i)$$
  （高度等于 $f$ 在每个矩形上的上确界的矩形棱柱体积之和）
- 函数 $f$ 关于分割 $\mathcal{P}$ 的下和：
  $$L(f, \mathcal{P}) = \sum_i \inf_{x \in B_i} f(x) \cdot \text{volume}(B_i)$$
  （高度等于 $f$ 在每个矩形上的下确界的矩形棱柱体积之和）

**步骤4**：形成上积分和下积分：
- 上积分：$\overline{\int}_A f = \inf_{\mathcal{P}} U(f, \mathcal{P})$
- 下积分：$\underline{\int}_A f = \sup_{\mathcal{P}} L(f, \mathcal{P})$

**观察**：对于任何分割 $\mathcal{P}$，有 $L(f, \mathcal{P}) \leq \overline{\int}_A f$ 以及 $\underline{\int}_A f \leq U(f, \mathcal{P})$。

**定义**：如果 $\overline{\int}_A f = \underline{\int}_A f$，则称 $f$ 是黎曼可积的，并且 $f$ 在 $A$ 上的积分定义为：
$$\int_A f = \overline{\int}_A f = \underline{\int}_A f$$

其他记法：
$$\int_A f(x) dx_1 dx_2 \cdots dx_n$$




## Outline
- Definition of integral
- Criteria for integrability
- Necessary and sufficient condition
- Property of integrals & convergence
- Computing and estimating integrals

## Definition of Integral

### 1. Geometric Motivation

Computing the area of a region:
- Form the partition and create approximations
- Form upper and lower integrals:
  - Upper integral: $\overline{\int} f$
  - Lower integral: $\underline{\int} f$

### 2. General Formulation

**Setup**: Let $f: A \to \mathbb{R}$ be a bounded function on a bounded set $A$ in $\mathbb{R}^n$.

**Goal**: Define the volume of the region under the surface $z = f(x)$ (or the integral $\int_A f(x) dx$).

**Step 1**: Choose a rectangle $B = [a_1, b_1] \times [a_2, b_2] \times \cdots \times [a_n, b_n]$ such that $A \subset B$.

Define $\tilde{f}: B \to \mathbb{R}$ by $\tilde{f}(x) = f(x)$ if $x \in A$ and $\tilde{f}(x) = 0$ if $x \notin A$.

The volume over $A$ equals the volume over $B$:
$$\int_A f(x) dx = \int_B \tilde{f}(x) dx$$

**Step 2**: Partition $B$ by dividing sides of $B$ into sub-intervals to obtain a partition $\mathcal{P}$ (collection of smaller rectangles).

**Step 3**: Form upper and lower sums:
- Upper sum of $f$ with respect to partition $\mathcal{P}$:
  $$U(f, \mathcal{P}) = \sum_i \sup_{x \in B_i} f(x) \cdot \text{volume}(B_i)$$
  (sum of volumes of rectangular prisms with height = supremum of $f$ on each rectangle)

- Lower sum of $f$ with respect to partition $\mathcal{P}$:
  $$L(f, \mathcal{P}) = \sum_i \inf_{x \in B_i} f(x) \cdot \text{volume}(B_i)$$
  (sum of volumes of rectangular prisms with height = infimum of $f$ on each rectangle)

**Step 4**: Form upper and lower integrals:
- Upper integral: $\overline{\int}_A f = \inf_{\mathcal{P}} U(f, \mathcal{P})$
- Lower integral: $\underline{\int}_A f = \sup_{\mathcal{P}} L(f, \mathcal{P})$

**Observation**: $L(f, \mathcal{P}) \leq \overline{\int}_A f$ and $\underline{\int}_A f \leq U(f, \mathcal{P})$ for any partition $\mathcal{P}$.

**Definition**: We say $f$ is Riemann integrable if $\overline{\int}_A f = \underline{\int}_A f$, and the integral of $f$ on $A$ is defined as:
$$\int_A f = \overline{\int}_A f = \underline{\int}_A f$$

Other notations:
$$\int_A f(x) dx_1 dx_2 \cdots dx_n$$

## Equivalent Condition for Integrability

### General Setting
- $f: A \subset \mathbb{R}^n \to \mathbb{R}$ bounded
- $A \subset B$ bounded
- $B$ is a rectangle in $\mathbb{R}^n$
- $\tilde{f}(x) = 0$ if $x \notin A$

### Riemann's Condition
$\forall \varepsilon > 0$, $\exists$ partition $\mathcal{P}_{\varepsilon}$ of $B$ such that:
$$U(f, \mathcal{P}_{\varepsilon}) - L(f, \mathcal{P}_{\varepsilon}) < \varepsilon$$

### Darboux's Condition
For a number $I$ to be the value of $\int_A f$:
$\forall \varepsilon > 0$, $\forall$ partition $\mathcal{P}$ of $B$ into rectangles $B_1, B_2, \ldots, B_n$ with side lengths $< \delta$, if $x_1 \in B_1, x_2 \in B_2, \ldots, x_n \in B_n$, then:
$$\left|\sum_i f(x_i) \cdot \text{volume}(B_i) - I\right| < \varepsilon$$

**Remark**: The number $I$ is the value of the integral, and the sum is the Riemann sum of $f$ with respect to partition $\mathcal{P}$.

**Interpretation**: Darboux's condition says that when the partition is fine enough (small side lengths), the Riemann sum is a good approximation of the integral.

### Theorem
The following conditions are equivalent:
1. $f$ is integrable on $A$
2. $f$ satisfies Riemann's condition
3. $f$ satisfies Darboux's condition

### Proof of Theorem

#### Step 1: $f$ integrable ⟹ Riemann's condition
If $f$ is integrable, then there exists a partition $\mathcal{P}_1$ such that:
$$U(f, \mathcal{P}_1) < \int_A f + \frac{\varepsilon}{2}$$

(by definition of upper integral as an infimum)

Similarly, there exists a partition $\mathcal{P}_2$ such that:
$$L(f, \mathcal{P}_2) > \int_A f - \frac{\varepsilon}{2}$$

We need to combine the two terms together. Let $\mathcal{P}_3 = \mathcal{P}_1 \cup \mathcal{P}_2$.

Then $\mathcal{P}_3$ is a refinement of both $\mathcal{P}_1$ and $\mathcal{P}_2$.

For refinements, we know:
$$U(f, \mathcal{P}_3) \leq U(f, \mathcal{P}_1) \\ L(f, \mathcal{P}_3) \geq L(f, \mathcal{P}_2)$$

Then we have:
$$U(f, \mathcal{P}_3) - L(f, \mathcal{P}_3) \leq U(f, \mathcal{P}_1) - L(f, \mathcal{P}_2) \\ < \left(\int_A f + \frac{\varepsilon}{2}\right) - \left(\int_A f - \frac{\varepsilon}{2}\right) = \varepsilon$$

#### Step 2: Riemann's Condition ⟹ $f$ integrable

By assumption, $\forall \varepsilon > 0$, $\exists$ partition $\mathcal{P}_{\varepsilon}$ such that:
$$U(f, \mathcal{P}_{\varepsilon}) - L(f, \mathcal{P}_{\varepsilon}) < \varepsilon$$

Since $\underline{\int}_A f \leq L(f, \mathcal{P}_{\varepsilon})$ and $U(f, \mathcal{P}_{\varepsilon}) \leq \overline{\int}_A f$, we have:
$$\overline{\int}_A f - \underline{\int}_A f \leq U(f, \mathcal{P}_{\varepsilon}) - L(f, \mathcal{P}_{\varepsilon}) < \varepsilon$$

Thus $\overline{\int}_A f = \underline{\int}_A f$ (since $\varepsilon$ can be arbitrarily small), which means $f$ is integrable.