## 1.1 Riemannian distance and the manifold topology (proof)

Recall the Riemannian distance on a connected Riemannian manifold $(M,g)$ is defined by  
for $p,q\in M$,
$$
d(p,q)=\inf\{L(\gamma)\; ;\; \gamma \ \text{piecewise regular from }p\text{ to }q\}
$$

> [!lemma|4.3] Riemannian distance and topology  
> This definition makes $(M,g)$ a metric space, and the metric topology
> agrees with the manifold topology.

**Proof.** Symmetry, $d(p,q)\ge 0$, and the triangle inequality all follow
immediately from the definition.

For the other properties we need to compare norms.

Let $x^1,\dots,x^n$ be normal coordinates at $p$, defined on a ball of
radius $\ge r$.  A tangent vector is written
$$
V = v^i \partial_i
$$
and we have two norms
$$
\begin{aligned}
|V|_g^2 &= g_{ij} v^i v^j \\
|V|_\delta^2 &= \delta_{ij} v^i v^j \qquad \text{(Euclidean)}
\end{aligned}
$$

The function $|{\cdot}|_g$ is continuous and non-vanishing on the
Euclidean compact set
$$
K=\{(x,v)\; ;\; |x|\le r,\ |V|_\delta\le 1\}
$$
Hence there exist constants $c_1,c_2>0$ such that
$$
\underbrace{c_1 |V|_\delta \le |V|_g \le c_2 |V|_\delta}_{\text{norms are comparable on }K}
$$

Within $B_r(p)$ the length functional $L$ is therefore comparable to
the Euclidean length functional
$$
L_\delta(\gamma) = \int_a^b |\dot\gamma(t)|_\delta\,dt
$$
so the corresponding distances $d_g$ and $d_\delta$ are comparable in
$B_r(p)$.

Also, for $q\notin B_r(p)$ this comparability shows
$$
d(p,q)\ge c\,r
$$
for some constant $c>0$.  From these facts one checks that the open
balls for $d$ give exactly the original manifold topology. ∎


---

## 1.2 Minimizing length

### 1.2.1 Families of regular curves and proper variations

Consider a family of regular curves
$$
F:(-\varepsilon,\varepsilon)\times[a,b]\longrightarrow M
$$
smooth, such that for each fixed $s$ the curve
$$
\Gamma[s,-]\;:\;[a,b]\to M,\qquad t\longmapsto F(s,t)
$$
is regular.

(Conceptually one can picture parallel curves for $s\in(-\varepsilon,\varepsilon)$, with
the middle one corresponding to $s=0$.)

The book also allows for piecewise regular curves.

Both $\partial_s F$ and $\partial_t F$ qualify as vector fields along
$\Gamma$.

The variation is **proper** if the endpoints are fixed, i.e.
$$
p = \Gamma[s,0],\qquad q = \Gamma[s,1]
$$
are independent of $s$.

We will study the length functional
$$
L(s)=L(\Gamma[s,-])
$$

### 1.2.2 Symmetry lemma for covariant derivatives of a variation

> [!lemma|5.1] Symmetry lemma  
> For $F$ as above,
> $$
> D_s\partial_t F = D_t\partial_s F
> $$

**Proof.** The covariant derivatives are local, so we can use local
coordinates.  Write
$$
F(s,t)\longmapsto x^i(s,t),\qquad i=1,\dots,n
$$
Then
$$
\partial_t F = \frac{\partial x^i}{\partial t}\,\partial_i
$$
Recall that for a vector field $V=v^i\partial_i$ along a coordinate
curve,
$$
D_s(v^i\partial_i)
=\Big[\frac{\partial v^i}{\partial s}
      + v^j\frac{\partial x^h}{\partial s}\Gamma^i_{jh}\Big]\partial_i
\qquad\text{(avoiding dot notation)}
$$
Hence
$$
\begin{aligned}
D_s\partial_t F
&= D_s\!\left(\frac{\partial x^i}{\partial t}\partial_i\right) \\[4pt]
&=\Big[\frac{\partial^2 x^i}{\partial s\,\partial t}
      +\frac{\partial x^j}{\partial t}
       \frac{\partial x^h}{\partial s}\Gamma^i_{jh}\Big]\partial_i
\end{aligned}
$$
Similarly,
$$
D_t\partial_s F
=\Big[\frac{\partial^2 x^i}{\partial t\,\partial s}
      +\frac{\partial x^j}{\partial s}
       \frac{\partial x^h}{\partial t}\Gamma^i_{jh}\Big]\partial_i
$$
These expressions are equal, since for the Levi-Civita connection
$\Gamma^i_{jk}=\Gamma^i_{kj}$. ∎


---

## 1.3 Variational calculus and the first variation formula

Let $\gamma:[a,b]\to M$ be a regular unit-speed curve and consider a
proper regular variation $F$ such that
$$
F(0,t)=\gamma(t)
$$
Define
$$
L(s)=L(\Gamma[s,-]) = L(F[s,-])
$$
The **variation field** along $\gamma$ is
$$
V(t) := \partial_s F(s,t)\big|_{s=0}
$$

> [!theorem|5.2] First variation formula  
> For a proper regular variation of a unit-speed curve $\gamma$,
> $$
> L'(0) = - \int_a^b g\!\big(V, D_t\dot\gamma\big)\,dt
> $$

**Proof.** Let
$$
T = \partial_t F(s,t),\qquad S = \partial_s F(s,t)
$$
Then

$$
\begin{aligned}
L(s) &= \int_a^b \sqrt{g(T,T)}\,dt\\

{\text{differentiation}}\Longrightarrow L'(s)
&= \int_a^b 
   \frac{\color{blue}{\partial_s g(T,T)}}{2\sqrt{g(T,T)}}\,dt \\[4pt]
&= \int_a^b 
   \frac{\color{blue}{2g(D_s T,T)}}{2|T|_g}\,dt \\[4pt]
&= \int_a^b \frac{1}{|T|_g}\,g(D_s T,T)\,dt
\end{aligned}
$$
Using the symmetry lemma $D_s T = D_t S$,
$$
L'(s) = \int_a^b \frac{1}{|T|_g}\,g(D_t S,T)\,dt
$$
Evaluating at $s=0$, the curve is unit speed, so $|T|_g=1$ and
$T|_{s=0}=\dot\gamma$, $S|_{s=0}=V$, hence
$$
L'(0) = \int_a^b g(D_t V,\dot\gamma)\,dt
$$

Next, compute
$$
\partial_t g(V,\dot\gamma)
= g(D_t V,\dot\gamma) + g(V,D_t\dot\gamma)
$$
Integrating from $a$ to $b$ we obtain
$$
\int_a^b \partial_t g(V,\dot\gamma)\,dt
= g(V,\dot\gamma)\big|_a^b = 0
$$
since the variation is proper and $V(a)=V(b)=0$. Therefore
$$
\begin{aligned}
L'(0)
&= \int_a^b g(D_t V,\dot\gamma)\,dt \\[4pt]
&= -\int_a^b g(V,D_t\dot\gamma)\,dt
\end{aligned}
$$
which is the claimed first variation formula. ∎


## 1.4 Geodesics as minimizers of length

**Note.** Given a vector field $V$ along a curve $\gamma$, we can
define a corresponding variation by
$$
F(s,t)=\exp(sV(t))
$$
for $\varepsilon$ sufficiently small (using the exponential map along
$\gamma$).

> [!theorem|5.3] Minimizers are geodesics  
> Suppose $\gamma$ is unit speed and has minimal length among regular
> curves from $p$ to $q$. Then $\gamma$ is geodesic.

**Proof.** For any proper variation $F$ of $\gamma$ we have that
$L[s]=L(F[s,-])$ has a minimum at $s=0$, hence $L'(0)=0$.

Take a function $\ell\in C_0^\infty[a,b]$ with $\ell>0$ on $(a,b)$ and
$\ell(a)=\ell(b)=0$, and set
$$
V = \ell\,D_t\dot\gamma
$$
This $V$ is a proper variation field along $\gamma$, so by the first
variation formula
$$
\begin{aligned}
0=L'(0)
&= -\int_a^b g(V,D_t\dot\gamma)\,dt \\[4pt]
&= -\int_a^b \ell\,|D_t\dot\gamma|_g^2\,dt
\end{aligned}
$$
Since $\ell>0$ on $(a,b)$, this implies
$$
D_t\dot\gamma \equiv 0 \quad\text{on }(a,b)
$$
so $\gamma$ is a geodesic. The equation
$$
D_t\dot\gamma = 0
$$
is the “Euler–Lagrange equation’’ for the length functional.
